(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var jp={exports:{}},xu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yT;function $2(){if(yT)return xu;yT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return xu.Fragment=e,xu.jsx=n,xu.jsxs=n,xu}var vT;function Y2(){return vT||(vT=1,jp.exports=$2()),jp.exports}var w=Y2(),Bp={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _T;function X2(){if(_T)return Re;_T=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function b(L){return L===null||typeof L!="object"?null:(L=_&&L[_]||L["@@iterator"],typeof L=="function"?L:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,M={};function D(L,re,ce){this.props=L,this.context=re,this.refs=M,this.updater=ce||A}D.prototype.isReactComponent={},D.prototype.setState=function(L,re){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,re,"setState")},D.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function U(){}U.prototype=D.prototype;function G(L,re,ce){this.props=L,this.context=re,this.refs=M,this.updater=ce||A}var q=G.prototype=new U;q.constructor=G,C(q,D.prototype),q.isPureReactComponent=!0;var se=Array.isArray,J={H:null,A:null,T:null,S:null,V:null},le=Object.prototype.hasOwnProperty;function P(L,re,ce,oe,ye,Ie){return ce=Ie.ref,{$$typeof:t,type:L,key:re,ref:ce!==void 0?ce:null,props:Ie}}function R(L,re){return P(L.type,re,void 0,void 0,void 0,L.props)}function I(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function V(L){var re={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ce){return re[ce]})}var B=/\/+/g;function F(L,re){return typeof L=="object"&&L!==null&&L.key!=null?V(""+L.key):re.toString(36)}function O(){}function St(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(O,O):(L.status="pending",L.then(function(re){L.status==="pending"&&(L.status="fulfilled",L.value=re)},function(re){L.status==="pending"&&(L.status="rejected",L.reason=re)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function ut(L,re,ce,oe,ye){var Ie=typeof L;(Ie==="undefined"||Ie==="boolean")&&(L=null);var Se=!1;if(L===null)Se=!0;else switch(Ie){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(L.$$typeof){case t:case e:Se=!0;break;case y:return Se=L._init,ut(Se(L._payload),re,ce,oe,ye)}}if(Se)return ye=ye(L),Se=oe===""?"."+F(L,0):oe,se(ye)?(ce="",Se!=null&&(ce=Se.replace(B,"$&/")+"/"),ut(ye,re,ce,"",function(pi){return pi})):ye!=null&&(I(ye)&&(ye=R(ye,ce+(ye.key==null||L&&L.key===ye.key?"":(""+ye.key).replace(B,"$&/")+"/")+Se)),re.push(ye)),1;Se=0;var zt=oe===""?".":oe+":";if(se(L))for(var tt=0;tt<L.length;tt++)oe=L[tt],Ie=zt+F(oe,tt),Se+=ut(oe,re,ce,Ie,ye);else if(tt=b(L),typeof tt=="function")for(L=tt.call(L),tt=0;!(oe=L.next()).done;)oe=oe.value,Ie=zt+F(oe,tt++),Se+=ut(oe,re,ce,Ie,ye);else if(Ie==="object"){if(typeof L.then=="function")return ut(St(L),re,ce,oe,ye);throw re=String(L),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Se}function W(L,re,ce){if(L==null)return L;var oe=[],ye=0;return ut(L,oe,"","",function(Ie){return re.call(ce,Ie,ye++)}),oe}function ae(L){if(L._status===-1){var re=L._result;re=re(),re.then(function(ce){(L._status===0||L._status===-1)&&(L._status=1,L._result=ce)},function(ce){(L._status===0||L._status===-1)&&(L._status=2,L._result=ce)}),L._status===-1&&(L._status=0,L._result=re)}if(L._status===1)return L._result.default;throw L._result}var de=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function ke(){}return Re.Children={map:W,forEach:function(L,re,ce){W(L,function(){re.apply(this,arguments)},ce)},count:function(L){var re=0;return W(L,function(){re++}),re},toArray:function(L){return W(L,function(re){return re})||[]},only:function(L){if(!I(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Re.Component=D,Re.Fragment=n,Re.Profiler=a,Re.PureComponent=G,Re.StrictMode=s,Re.Suspense=m,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,Re.__COMPILER_RUNTIME={__proto__:null,c:function(L){return J.H.useMemoCache(L)}},Re.cache=function(L){return function(){return L.apply(null,arguments)}},Re.cloneElement=function(L,re,ce){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var oe=C({},L.props),ye=L.key,Ie=void 0;if(re!=null)for(Se in re.ref!==void 0&&(Ie=void 0),re.key!==void 0&&(ye=""+re.key),re)!le.call(re,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&re.ref===void 0||(oe[Se]=re[Se]);var Se=arguments.length-2;if(Se===1)oe.children=ce;else if(1<Se){for(var zt=Array(Se),tt=0;tt<Se;tt++)zt[tt]=arguments[tt+2];oe.children=zt}return P(L.type,ye,void 0,void 0,Ie,oe)},Re.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Re.createElement=function(L,re,ce){var oe,ye={},Ie=null;if(re!=null)for(oe in re.key!==void 0&&(Ie=""+re.key),re)le.call(re,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ye[oe]=re[oe]);var Se=arguments.length-2;if(Se===1)ye.children=ce;else if(1<Se){for(var zt=Array(Se),tt=0;tt<Se;tt++)zt[tt]=arguments[tt+2];ye.children=zt}if(L&&L.defaultProps)for(oe in Se=L.defaultProps,Se)ye[oe]===void 0&&(ye[oe]=Se[oe]);return P(L,Ie,void 0,void 0,null,ye)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(L){return{$$typeof:f,render:L}},Re.isValidElement=I,Re.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:ae}},Re.memo=function(L,re){return{$$typeof:p,type:L,compare:re===void 0?null:re}},Re.startTransition=function(L){var re=J.T,ce={};J.T=ce;try{var oe=L(),ye=J.S;ye!==null&&ye(ce,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(ke,de)}catch(Ie){de(Ie)}finally{J.T=re}},Re.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},Re.use=function(L){return J.H.use(L)},Re.useActionState=function(L,re,ce){return J.H.useActionState(L,re,ce)},Re.useCallback=function(L,re){return J.H.useCallback(L,re)},Re.useContext=function(L){return J.H.useContext(L)},Re.useDebugValue=function(){},Re.useDeferredValue=function(L,re){return J.H.useDeferredValue(L,re)},Re.useEffect=function(L,re,ce){var oe=J.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(L,re)},Re.useId=function(){return J.H.useId()},Re.useImperativeHandle=function(L,re,ce){return J.H.useImperativeHandle(L,re,ce)},Re.useInsertionEffect=function(L,re){return J.H.useInsertionEffect(L,re)},Re.useLayoutEffect=function(L,re){return J.H.useLayoutEffect(L,re)},Re.useMemo=function(L,re){return J.H.useMemo(L,re)},Re.useOptimistic=function(L,re){return J.H.useOptimistic(L,re)},Re.useReducer=function(L,re,ce){return J.H.useReducer(L,re,ce)},Re.useRef=function(L){return J.H.useRef(L)},Re.useState=function(L){return J.H.useState(L)},Re.useSyncExternalStore=function(L,re,ce){return J.H.useSyncExternalStore(L,re,ce)},Re.useTransition=function(){return J.H.useTransition()},Re.version="19.1.0",Re}var bT;function yy(){return bT||(bT=1,Bp.exports=X2()),Bp.exports}var k=yy(),zp={exports:{}},Ru={},Fp={exports:{}},qp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TT;function Q2(){return TT||(TT=1,function(t){function e(W,ae){var de=W.length;W.push(ae);e:for(;0<de;){var ke=de-1>>>1,L=W[ke];if(0<a(L,ae))W[ke]=ae,W[de]=L,de=ke;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var ae=W[0],de=W.pop();if(de!==ae){W[0]=de;e:for(var ke=0,L=W.length,re=L>>>1;ke<re;){var ce=2*(ke+1)-1,oe=W[ce],ye=ce+1,Ie=W[ye];if(0>a(oe,de))ye<L&&0>a(Ie,oe)?(W[ke]=Ie,W[ye]=de,ke=ye):(W[ke]=oe,W[ce]=de,ke=ce);else if(ye<L&&0>a(Ie,de))W[ke]=Ie,W[ye]=de,ke=ye;else break e}}return ae}function a(W,ae){var de=W.sortIndex-ae.sortIndex;return de!==0?de:W.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var m=[],p=[],y=1,_=null,b=3,A=!1,C=!1,M=!1,D=!1,U=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function se(W){for(var ae=n(p);ae!==null;){if(ae.callback===null)s(p);else if(ae.startTime<=W)s(p),ae.sortIndex=ae.expirationTime,e(m,ae);else break;ae=n(p)}}function J(W){if(M=!1,se(W),!C)if(n(m)!==null)C=!0,le||(le=!0,F());else{var ae=n(p);ae!==null&&ut(J,ae.startTime-W)}}var le=!1,P=-1,R=5,I=-1;function V(){return D?!0:!(t.unstable_now()-I<R)}function B(){if(D=!1,le){var W=t.unstable_now();I=W;var ae=!0;try{e:{C=!1,M&&(M=!1,G(P),P=-1),A=!0;var de=b;try{t:{for(se(W),_=n(m);_!==null&&!(_.expirationTime>W&&V());){var ke=_.callback;if(typeof ke=="function"){_.callback=null,b=_.priorityLevel;var L=ke(_.expirationTime<=W);if(W=t.unstable_now(),typeof L=="function"){_.callback=L,se(W),ae=!0;break t}_===n(m)&&s(m),se(W)}else s(m);_=n(m)}if(_!==null)ae=!0;else{var re=n(p);re!==null&&ut(J,re.startTime-W),ae=!1}}break e}finally{_=null,b=de,A=!1}ae=void 0}}finally{ae?F():le=!1}}}var F;if(typeof q=="function")F=function(){q(B)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,St=O.port2;O.port1.onmessage=B,F=function(){St.postMessage(null)}}else F=function(){U(B,0)};function ut(W,ae){P=U(function(){W(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(W){switch(b){case 1:case 2:case 3:var ae=3;break;default:ae=b}var de=b;b=ae;try{return W()}finally{b=de}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(W,ae){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var de=b;b=W;try{return ae()}finally{b=de}},t.unstable_scheduleCallback=function(W,ae,de){var ke=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ke+de:ke):de=ke,W){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=de+L,W={id:y++,callback:ae,priorityLevel:W,startTime:de,expirationTime:L,sortIndex:-1},de>ke?(W.sortIndex=de,e(p,W),n(m)===null&&W===n(p)&&(M?(G(P),P=-1):M=!0,ut(J,de-ke))):(W.sortIndex=L,e(m,W),C||A||(C=!0,le||(le=!0,F()))),W},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(W){var ae=b;return function(){var de=b;b=ae;try{return W.apply(this,arguments)}finally{b=de}}}}(qp)),qp}var ET;function W2(){return ET||(ET=1,Fp.exports=Q2()),Fp.exports}var Hp={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wT;function Z2(){if(wT)return an;wT=1;var t=yy();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,an.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,y)},an.flushSync=function(m){var p=c.T,y=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=y,s.d.f()}},an.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},an.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},an.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:A}):y==="script"&&s.d.X(m,{crossOrigin:_,integrity:b,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},an.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},an.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},an.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=f(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},an.requestFormReset=function(m){s.d.r(m)},an.unstable_batchedUpdates=function(m,p){return m(p)},an.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},an.useFormStatus=function(){return c.H.useHostTransitionStatus()},an.version="19.1.0",an}var ST;function J2(){if(ST)return Hp.exports;ST=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Hp.exports=Z2(),Hp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AT;function eI(){if(AT)return Ru;AT=1;var t=W2(),e=yy(),n=J2();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return f(d),i;if(g===u)return f(d),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=d,u=g;else{for(var E=!1,S=d.child;S;){if(S===o){E=!0,o=d,u=g;break}if(S===u){E=!0,u=d,o=g;break}S=S.sibling}if(!E){for(S=g.child;S;){if(S===o){E=!0,o=g,u=d;break}if(S===u){E=!0,u=g,o=d;break}S=S.sibling}if(!E)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function p(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=p(i),r!==null)return r;i=i.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),q=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var O=Symbol.for("react.client.reference");function St(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===O?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case C:return"Fragment";case D:return"Profiler";case M:return"StrictMode";case J:return"Suspense";case le:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case A:return"Portal";case q:return(i.displayName||"Context")+".Provider";case G:return(i._context.displayName||"Context")+".Consumer";case se:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return r=i.displayName||null,r!==null?r:St(i.type)||"Memo";case R:r=i._payload,i=i._init;try{return St(i(r))}catch{}}return null}var ut=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},ke=[],L=-1;function re(i){return{current:i}}function ce(i){0>L||(i.current=ke[L],ke[L]=null,L--)}function oe(i,r){L++,ke[L]=i.current,i.current=r}var ye=re(null),Ie=re(null),Se=re(null),zt=re(null);function tt(i,r){switch(oe(Se,r),oe(Ie,i),oe(ye,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?Gb(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=Gb(r),i=Kb(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ce(ye),oe(ye,i)}function pi(){ce(ye),ce(Ie),ce(Se)}function Os(i){i.memoizedState!==null&&oe(zt,i);var r=ye.current,o=Kb(r,i.type);r!==o&&(oe(Ie,i),oe(ye,o))}function $i(i){Ie.current===i&&(ce(ye),ce(Ie)),zt.current===i&&(ce(zt),Tu._currentValue=de)}var Vr=Object.prototype.hasOwnProperty,kr=t.unstable_scheduleCallback,Lr=t.unstable_cancelCallback,vl=t.unstable_shouldYield,jc=t.unstable_requestPaint,kn=t.unstable_now,jd=t.unstable_getCurrentPriorityLevel,_l=t.unstable_ImmediatePriority,za=t.unstable_UserBlockingPriority,Ur=t.unstable_NormalPriority,Bd=t.unstable_LowPriority,Fa=t.unstable_IdlePriority,bl=t.log,Bc=t.unstable_setDisableYieldValue,pt=null,Ke=null;function An(i){if(typeof bl=="function"&&Bc(i),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(pt,i)}catch{}}var sn=Math.clz32?Math.clz32:jr,zc=Math.log,zd=Math.LN2;function jr(i){return i>>>=0,i===0?32:31-(zc(i)/zd|0)|0}var Br=256,zr=4194304;function ti(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function qa(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,g=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var S=u&134217727;return S!==0?(u=S&~g,u!==0?d=ti(u):(E&=S,E!==0?d=ti(E):o||(o=S&~i,o!==0&&(d=ti(o))))):(S=u&~g,S!==0?d=ti(S):E!==0?d=ti(E):o||(o=u&~i,o!==0&&(d=ti(o)))),d===0?0:r!==0&&r!==d&&(r&g)===0&&(g=d&-d,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:d}function Fr(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Tl(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function El(){var i=Br;return Br<<=1,(Br&4194048)===0&&(Br=256),i}function wl(){var i=zr;return zr<<=1,(zr&62914560)===0&&(zr=4194304),i}function Yi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Xi(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Sl(i,r,o,u,d,g){var E=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,N=i.expirationTimes,$=i.hiddenUpdates;for(o=E&~o;0<o;){var Z=31-sn(o),ne=1<<Z;S[Z]=0,N[Z]=-1;var Y=$[Z];if(Y!==null)for($[Z]=null,Z=0;Z<Y.length;Z++){var X=Y[Z];X!==null&&(X.lane&=-536870913)}o&=~ne}u!==0&&gi(i,u,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(E&~r))}function gi(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-sn(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function Al(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-sn(o),d=1<<u;d&r|i[u]&r&&(i[u]|=r),o&=~d}}function Ms(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ha(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Vs(){var i=ae.p;return i!==0?i:(i=window.event,i===void 0?32:hT(i.type))}function Fc(i,r){var o=ae.p;try{return ae.p=i,r()}finally{ae.p=o}}var at=Math.random().toString(36).slice(2),Mt="__reactFiber$"+at,At="__reactProps$"+at,Ln="__reactContainer$"+at,xl="__reactEvents$"+at,Fd="__reactListeners$"+at,ks="__reactHandles$"+at,qc="__reactResources$"+at,qr="__reactMarker$"+at;function Ls(i){delete i[Mt],delete i[At],delete i[xl],delete i[Fd],delete i[ks]}function Qi(i){var r=i[Mt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Ln]||o[Mt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=Qb(i);i!==null;){if(o=i[Mt])return o;i=Qb(i)}return r}i=o,o=i.parentNode}return null}function yi(i){if(i=i[Mt]||i[Ln]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function vi(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function fn(i){var r=i[qc];return r||(r=i[qc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function _t(i){i[qr]=!0}var Rl=new Set,Ga={};function ni(i,r){Wi(i,r),Wi(i+"Capture",r)}function Wi(i,r){for(Ga[i]=r,i=0;i<r.length;i++)Rl.add(r[i])}var Hc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gc={},Hr={};function Kc(i){return Vr.call(Hr,i)?!0:Vr.call(Gc,i)?!1:Hc.test(i)?Hr[i]=!0:(Gc[i]=!0,!1)}function Us(i,r,o){if(Kc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function _i(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Yt(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}var Gr,$c;function Zi(i){if(Gr===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Gr=r&&r[1]||"",$c=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gr+i+$c}var Ka=!1;function $a(i,r){if(!i||Ka)return"";Ka=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(X){var Y=X}Reflect.construct(i,[],ne)}else{try{ne.call()}catch(X){Y=X}i.call(ne.prototype)}}else{try{throw Error()}catch(X){Y=X}(ne=i())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),E=g[0],S=g[1];if(E&&S){var N=E.split(`
`),$=S.split(`
`);for(d=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;d<$.length&&!$[d].includes("DetermineComponentFrameRoot");)d++;if(u===N.length||d===$.length)for(u=N.length-1,d=$.length-1;1<=u&&0<=d&&N[u]!==$[d];)d--;for(;1<=u&&0<=d;u--,d--)if(N[u]!==$[d]){if(u!==1||d!==1)do if(u--,d--,0>d||N[u]!==$[d]){var Z=`
`+N[u].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=u&&0<=d);break}}}finally{Ka=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Zi(o):""}function Cl(i){switch(i.tag){case 26:case 27:case 5:return Zi(i.type);case 16:return Zi("Lazy");case 13:return Zi("Suspense");case 19:return Zi("SuspenseList");case 0:case 15:return $a(i.type,!1);case 11:return $a(i.type.render,!1);case 1:return $a(i.type,!0);case 31:return Zi("Activity");default:return""}}function Ya(i){try{var r="";do r+=Cl(i),i=i.return;while(i);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function dn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Il(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function qd(i){var r=Il(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),u=""+i[r];if(!i.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,g=o.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return d.call(this)},set:function(E){u=""+E,g.call(this,E)}}),Object.defineProperty(i,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Xa(i){i._valueTracker||(i._valueTracker=qd(i))}function Nl(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=Il(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Kr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Hd=/[\n"\\]/g;function xt(i){return i.replace(Hd,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function xn(i,r,o,u,d,g,E,S){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),r!=null?E==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+dn(r)):i.value!==""+dn(r)&&(i.value=""+dn(r)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),r!=null?js(i,E,dn(r)):o!=null?js(i,E,dn(o)):u!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+dn(S):i.removeAttribute("name")}function $r(i,r,o,u,d,g,E,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null))return;o=o!=null?""+dn(o):"",r=r!=null?""+dn(r):o,S||r===i.value||(i.value=r),i.defaultValue=r}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=S?i.checked:!!u,i.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E)}function js(i,r,o){r==="number"&&Kr(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Ji(i,r,o,u){if(i=i.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=r.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&u&&(i[o].defaultSelected=!0)}else{for(o=""+dn(o),r=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,u&&(i[d].defaultSelected=!0);return}r!==null||i[d].disabled||(r=i[d])}r!==null&&(r.selected=!0)}}function Xe(i,r,o){if(r!=null&&(r=""+dn(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+dn(o):""}function Yr(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(ut(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=dn(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function Un(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Xr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yc(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Xr.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Dl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var d in r)u=r[d],r.hasOwnProperty(d)&&o[d]!==u&&Yc(i,d,u)}else for(var g in r)r.hasOwnProperty(g)&&Yc(i,g,r[g])}function Pl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qa(i){return Kd.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var es=null;function jn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ts=null,ns=null;function Ol(i){var r=yi(i);if(r&&(i=r.stateNode)){var o=i[At]||null;e:switch(i=r.stateNode,r.type){case"input":if(xn(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+xt(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var d=u[At]||null;if(!d)throw Error(s(90));xn(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&Nl(u)}break e;case"textarea":Xe(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Ji(i,!!o.multiple,r,!1)}}}var bi=!1;function Xc(i,r,o){if(bi)return i(r,o);bi=!0;try{var u=i(r);return u}finally{if(bi=!1,(ts!==null||ns!==null)&&(Fh(),ts&&(r=ts,i=ns,ns=ts=null,Ol(r),i)))for(r=0;r<i.length;r++)Ol(i[r])}}function Qr(i,r){var o=i.stateNode;if(o===null)return null;var u=o[At]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bn=!1;if(ii)try{var Wr={};Object.defineProperty(Wr,"passive",{get:function(){Bn=!0}}),window.addEventListener("test",Wr,Wr),window.removeEventListener("test",Wr,Wr)}catch{Bn=!1}var Ti=null,Bs=null,is=null;function Ml(){if(is)return is;var i,r=Bs,o=r.length,u,d="value"in Ti?Ti.value:Ti.textContent,g=d.length;for(i=0;i<o&&r[i]===d[i];i++);var E=o-i;for(u=1;u<=E&&r[o-u]===d[g-u];u++);return is=d.slice(i,1<u?1-u:void 0)}function Ei(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function wi(){return!0}function Vl(){return!1}function Ft(i){function r(o,u,d,g,E){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?wi:Vl,this.isPropagationStopped=Vl,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),r}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wa=Ft(qe),Zr=y({},qe,{view:0,detail:0}),Qc=Ft(Zr),Za,Ja,Si,Jr=y({},Zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:na,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Si&&(Si&&i.type==="mousemove"?(Za=i.screenX-Si.screenX,Ja=i.screenY-Si.screenY):Ja=Za=0,Si=i),Za)},movementY:function(i){return"movementY"in i?i.movementY:Ja}}),zn=Ft(Jr),Wc=y({},Jr,{dataTransfer:0}),$d=Ft(Wc),ea=y({},Zr,{relatedTarget:0}),eo=Ft(ea),kl=y({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),to=Ft(kl),Zc=y({},qe,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),no=Ft(Zc),Yd=y({},qe,{data:0}),Ll=Ft(Yd),ta={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ul(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=eh[i])?!!r[i]:!1}function na(){return Ul}var th=y({},Zr,{key:function(i){if(i.key){var r=ta[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Ei(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Jc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:na,charCode:function(i){return i.type==="keypress"?Ei(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ei(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),io=Ft(th),nh=y({},Jr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jl=Ft(nh),ss=y({},Zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:na}),ih=Ft(ss),sh=y({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),rh=Ft(sh),ah=y({},Jr,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),so=Ft(ah),mn=y({},qe,{newState:0,oldState:0}),oh=Ft(mn),lh=[9,13,27,32],Ai=ii&&"CompositionEvent"in window,h=null;ii&&"documentMode"in document&&(h=document.documentMode);var v=ii&&"TextEvent"in window&&!h,T=ii&&(!Ai||h&&8<h&&11>=h),x=" ",H=!1;function Q(i,r){switch(i){case"keyup":return lh.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ue(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Le=!1;function Vt(i,r){switch(i){case"compositionend":return ue(r);case"keypress":return r.which!==32?null:(H=!0,x);case"textInput":return i=r.data,i===x&&H?null:i;default:return null}}function Ue(i,r){if(Le)return i==="compositionend"||!Ai&&Q(i,r)?(i=Ml(),is=Bs=Ti=null,Le=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return T&&r.locale!=="ko"?null:r.data;default:return null}}var qt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kt(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!qt[i.type]:r==="textarea"}function rs(i,r,o,u){ts?ns?ns.push(u):ns=[u]:ts=u,r=Yh(r,"onChange"),0<r.length&&(o=new Wa("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var Xt=null,xi=null;function Bl(i){Bb(i,0)}function uh(i){var r=vi(i);if(Nl(r))return i}function o_(i,r){if(i==="change")return r}var l_=!1;if(ii){var Xd;if(ii){var Qd="oninput"in document;if(!Qd){var u_=document.createElement("div");u_.setAttribute("oninput","return;"),Qd=typeof u_.oninput=="function"}Xd=Qd}else Xd=!1;l_=Xd&&(!document.documentMode||9<document.documentMode)}function c_(){Xt&&(Xt.detachEvent("onpropertychange",h_),xi=Xt=null)}function h_(i){if(i.propertyName==="value"&&uh(xi)){var r=[];rs(r,xi,i,jn(i)),Xc(Bl,r)}}function wC(i,r,o){i==="focusin"?(c_(),Xt=r,xi=o,Xt.attachEvent("onpropertychange",h_)):i==="focusout"&&c_()}function SC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return uh(xi)}function AC(i,r){if(i==="click")return uh(r)}function xC(i,r){if(i==="input"||i==="change")return uh(r)}function RC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Rn=typeof Object.is=="function"?Object.is:RC;function zl(i,r){if(Rn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!Vr.call(r,d)||!Rn(i[d],r[d]))return!1}return!0}function f_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function d_(i,r){var o=f_(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=f_(o)}}function m_(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?m_(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function p_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Kr(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Kr(i.document)}return r}function Wd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var CC=ii&&"documentMode"in document&&11>=document.documentMode,ro=null,Zd=null,Fl=null,Jd=!1;function g_(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Jd||ro==null||ro!==Kr(u)||(u=ro,"selectionStart"in u&&Wd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Fl&&zl(Fl,u)||(Fl=u,u=Yh(Zd,"onSelect"),0<u.length&&(r=new Wa("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=ro)))}function ia(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var ao={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionrun:ia("Transition","TransitionRun"),transitionstart:ia("Transition","TransitionStart"),transitioncancel:ia("Transition","TransitionCancel"),transitionend:ia("Transition","TransitionEnd")},em={},y_={};ii&&(y_=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function sa(i){if(em[i])return em[i];if(!ao[i])return i;var r=ao[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in y_)return em[i]=r[o];return i}var v_=sa("animationend"),__=sa("animationiteration"),b_=sa("animationstart"),IC=sa("transitionrun"),NC=sa("transitionstart"),DC=sa("transitioncancel"),T_=sa("transitionend"),E_=new Map,tm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tm.push("scrollEnd");function si(i,r){E_.set(i,r),ni(r,[i])}var w_=new WeakMap;function Fn(i,r){if(typeof i=="object"&&i!==null){var o=w_.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Ya(r)},w_.set(i,r),r)}return{value:i,source:r,stack:Ya(r)}}var qn=[],oo=0,nm=0;function ch(){for(var i=oo,r=nm=oo=0;r<i;){var o=qn[r];qn[r++]=null;var u=qn[r];qn[r++]=null;var d=qn[r];qn[r++]=null;var g=qn[r];if(qn[r++]=null,u!==null&&d!==null){var E=u.pending;E===null?d.next=d:(d.next=E.next,E.next=d),u.pending=d}g!==0&&S_(o,d,g)}}function hh(i,r,o,u){qn[oo++]=i,qn[oo++]=r,qn[oo++]=o,qn[oo++]=u,nm|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function im(i,r,o,u){return hh(i,r,o,u),fh(i)}function lo(i,r){return hh(i,null,null,r),fh(i)}function S_(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&r!==null&&(d=31-sn(o),i=g.hiddenUpdates,u=i[d],u===null?i[d]=[r]:u.push(r),r.lane=o|536870912),g):null}function fh(i){if(50<du)throw du=0,up=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var uo={};function PC(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(i,r,o,u){return new PC(i,r,o,u)}function sm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function as(i,r){var o=i.alternate;return o===null?(o=Cn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function A_(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function dh(i,r,o,u,d,g){var E=0;if(u=i,typeof i=="function")sm(i)&&(E=1);else if(typeof i=="string")E=M2(i,o,ye.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=Cn(31,o,r,d),i.elementType=I,i.lanes=g,i;case C:return ra(o.children,d,g,r);case M:E=8,d|=24;break;case D:return i=Cn(12,o,r,d|2),i.elementType=D,i.lanes=g,i;case J:return i=Cn(13,o,r,d),i.elementType=J,i.lanes=g,i;case le:return i=Cn(19,o,r,d),i.elementType=le,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case U:case q:E=10;break e;case G:E=9;break e;case se:E=11;break e;case P:E=14;break e;case R:E=16,u=null;break e}E=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Cn(E,o,r,d),r.elementType=i,r.type=u,r.lanes=g,r}function ra(i,r,o,u){return i=Cn(7,i,u,r),i.lanes=o,i}function rm(i,r,o){return i=Cn(6,i,null,r),i.lanes=o,i}function am(i,r,o){return r=Cn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var co=[],ho=0,mh=null,ph=0,Hn=[],Gn=0,aa=null,os=1,ls="";function oa(i,r){co[ho++]=ph,co[ho++]=mh,mh=i,ph=r}function x_(i,r,o){Hn[Gn++]=os,Hn[Gn++]=ls,Hn[Gn++]=aa,aa=i;var u=os;i=ls;var d=32-sn(u)-1;u&=~(1<<d),o+=1;var g=32-sn(r)+d;if(30<g){var E=d-d%5;g=(u&(1<<E)-1).toString(32),u>>=E,d-=E,os=1<<32-sn(r)+d|o<<d|u,ls=g+i}else os=1<<g|o<<d|u,ls=i}function om(i){i.return!==null&&(oa(i,1),x_(i,1,0))}function lm(i){for(;i===mh;)mh=co[--ho],co[ho]=null,ph=co[--ho],co[ho]=null;for(;i===aa;)aa=Hn[--Gn],Hn[Gn]=null,ls=Hn[--Gn],Hn[Gn]=null,os=Hn[--Gn],Hn[Gn]=null}var pn=null,gt=null,Fe=!1,la=null,Ri=!1,um=Error(s(519));function ua(i){var r=Error(s(418,""));throw Gl(Fn(r,i)),um}function R_(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Mt]=i,r[At]=u,o){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(o=0;o<pu.length;o++)Pe(pu[o],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Pe("invalid",r),$r(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Xa(r);break;case"select":Pe("invalid",r);break;case"textarea":Pe("invalid",r),Yr(r,u.value,u.defaultValue,u.children),Xa(r)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||Hb(r.textContent,o)?(u.popover!=null&&(Pe("beforetoggle",r),Pe("toggle",r)),u.onScroll!=null&&Pe("scroll",r),u.onScrollEnd!=null&&Pe("scrollend",r),u.onClick!=null&&(r.onclick=Xh),r=!0):r=!1,r||ua(i)}function C_(i){for(pn=i.return;pn;)switch(pn.tag){case 5:case 13:Ri=!1;return;case 27:case 3:Ri=!0;return;default:pn=pn.return}}function ql(i){if(i!==pn)return!1;if(!Fe)return C_(i),Fe=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Ap(i.type,i.memoizedProps)),o=!o),o&&gt&&ua(i),C_(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));e:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(r===0){gt=ai(i.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;i=i.nextSibling}gt=null}}else r===27?(r=gt,nr(i.type)?(i=Ip,Ip=null,gt=i):gt=r):gt=pn?ai(i.stateNode.nextSibling):null;return!0}function Hl(){gt=pn=null,Fe=!1}function I_(){var i=la;return i!==null&&(Tn===null?Tn=i:Tn.push.apply(Tn,i),la=null),i}function Gl(i){la===null?la=[i]:la.push(i)}var cm=re(null),ca=null,us=null;function zs(i,r,o){oe(cm,r._currentValue),r._currentValue=o}function cs(i){i._currentValue=cm.current,ce(cm)}function hm(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function fm(i,r,o,u){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var E=d.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=d;for(var N=0;N<r.length;N++)if(S.context===r[N]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),hm(g.return,o,i),u||(E=null);break e}g=S.next}}else if(d.tag===18){if(E=d.return,E===null)throw Error(s(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),hm(E,o,i),E=null}else E=d.child;if(E!==null)E.return=d;else for(E=d;E!==null;){if(E===i){E=null;break}if(d=E.sibling,d!==null){d.return=E.return,E=d;break}E=E.return}d=E}}function Kl(i,r,o,u){i=null;for(var d=r,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var E=d.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var S=d.type;Rn(d.pendingProps.value,E.value)||(i!==null?i.push(S):i=[S])}}else if(d===zt.current){if(E=d.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(Tu):i=[Tu])}d=d.return}i!==null&&fm(r,i,o,u),r.flags|=262144}function gh(i){for(i=i.firstContext;i!==null;){if(!Rn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ha(i){ca=i,us=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function rn(i){return N_(ca,i)}function yh(i,r){return ca===null&&ha(i),N_(i,r)}function N_(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},us===null){if(i===null)throw Error(s(308));us=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else us=us.next=r;return o}var OC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},MC=t.unstable_scheduleCallback,VC=t.unstable_NormalPriority,Lt={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dm(){return{controller:new OC,data:new Map,refCount:0}}function $l(i){i.refCount--,i.refCount===0&&MC(VC,function(){i.controller.abort()})}var Yl=null,mm=0,fo=0,mo=null;function kC(i,r){if(Yl===null){var o=Yl=[];mm=0,fo=gp(),mo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return mm++,r.then(D_,D_),r}function D_(){if(--mm===0&&Yl!==null){mo!==null&&(mo.status="fulfilled");var i=Yl;Yl=null,fo=0,mo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function LC(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var d=0;d<o.length;d++)(0,o[d])(r)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var P_=W.S;W.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&kC(i,r),P_!==null&&P_(i,r)};var fa=re(null);function pm(){var i=fa.current;return i!==null?i:nt.pooledCache}function vh(i,r){r===null?oe(fa,fa.current):oe(fa,r.pool)}function O_(){var i=pm();return i===null?null:{parent:Lt._currentValue,pool:i}}var Xl=Error(s(460)),M_=Error(s(474)),_h=Error(s(542)),gm={then:function(){}};function V_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function bh(){}function k_(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(bh,bh),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,U_(i),i;default:if(typeof r.status=="string")r.then(bh,bh);else{if(i=nt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=u}},function(u){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,U_(i),i}throw Ql=r,Xl}}var Ql=null;function L_(){if(Ql===null)throw Error(s(459));var i=Ql;return Ql=null,i}function U_(i){if(i===Xl||i===_h)throw Error(s(483))}var Fs=!1;function ym(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function qs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Hs(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,($e&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,r=fh(i),S_(i,null,o),r}return hh(i,u,r,o),fh(i)}function Wl(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Al(i,o)}}function _m(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?d=g=r:g=g.next=r}else d=g=r;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var bm=!1;function Zl(){if(bm){var i=mo;if(i!==null)throw i}}function Jl(i,r,o,u){bm=!1;var d=i.updateQueue;Fs=!1;var g=d.firstBaseUpdate,E=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var N=S,$=N.next;N.next=null,E===null?g=$:E.next=$,E=N;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==E&&(S===null?Z.firstBaseUpdate=$:S.next=$,Z.lastBaseUpdate=N))}if(g!==null){var ne=d.baseState;E=0,Z=$=N=null,S=g;do{var Y=S.lane&-536870913,X=Y!==S.lane;if(X?(je&Y)===Y:(u&Y)===Y){Y!==0&&Y===fo&&(bm=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ee=i,ve=S;Y=r;var Ze=o;switch(ve.tag){case 1:if(Ee=ve.payload,typeof Ee=="function"){ne=Ee.call(Ze,ne,Y);break e}ne=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=ve.payload,Y=typeof Ee=="function"?Ee.call(Ze,ne,Y):Ee,Y==null)break e;ne=y({},ne,Y);break e;case 2:Fs=!0}}Y=S.callback,Y!==null&&(i.flags|=64,X&&(i.flags|=8192),X=d.callbacks,X===null?d.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?($=Z=X,N=ne):Z=Z.next=X,E|=Y;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;X=S,S=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);Z===null&&(N=ne),d.baseState=N,d.firstBaseUpdate=$,d.lastBaseUpdate=Z,g===null&&(d.shared.lanes=0),Zs|=E,i.lanes=E,i.memoizedState=ne}}function j_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function B_(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)j_(o[i],r)}var po=re(null),Th=re(0);function z_(i,r){i=ys,oe(Th,i),oe(po,r),ys=i|r.baseLanes}function Tm(){oe(Th,ys),oe(po,po.current)}function Em(){ys=Th.current,ce(po),ce(Th)}var Gs=0,Ce=null,Qe=null,Rt=null,Eh=!1,go=!1,da=!1,wh=0,eu=0,yo=null,UC=0;function bt(){throw Error(s(321))}function wm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Rn(i[o],r[o]))return!1;return!0}function Sm(i,r,o,u,d,g){return Gs=g,Ce=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=i===null||i.memoizedState===null?S0:A0,da=!1,g=o(u,d),da=!1,go&&(g=q_(r,o,u,d)),F_(i),g}function F_(i){W.H=Ih;var r=Qe!==null&&Qe.next!==null;if(Gs=0,Rt=Qe=Ce=null,Eh=!1,eu=0,yo=null,r)throw Error(s(300));i===null||Ht||(i=i.dependencies,i!==null&&gh(i)&&(Ht=!0))}function q_(i,r,o,u){Ce=i;var d=0;do{if(go&&(yo=null),eu=0,go=!1,25<=d)throw Error(s(301));if(d+=1,Rt=Qe=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}W.H=GC,g=r(o,u)}while(go);return g}function jC(){var i=W.H,r=i.useState()[0];return r=typeof r.then=="function"?tu(r):r,i=i.useState()[0],(Qe!==null?Qe.memoizedState:null)!==i&&(Ce.flags|=1024),r}function Am(){var i=wh!==0;return wh=0,i}function xm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Rm(i){if(Eh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Eh=!1}Gs=0,Rt=Qe=Ce=null,go=!1,eu=wh=0,yo=null}function _n(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Ce.memoizedState=Rt=i:Rt=Rt.next=i,Rt}function Ct(){if(Qe===null){var i=Ce.alternate;i=i!==null?i.memoizedState:null}else i=Qe.next;var r=Rt===null?Ce.memoizedState:Rt.next;if(r!==null)Rt=r,Qe=i;else{if(i===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Qe=i,i={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Rt===null?Ce.memoizedState=Rt=i:Rt=Rt.next=i}return Rt}function Cm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tu(i){var r=eu;return eu+=1,yo===null&&(yo=[]),i=k_(yo,i,r),r=Ce,(Rt===null?r.memoizedState:Rt.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?S0:A0),i}function Sh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return tu(i);if(i.$$typeof===q)return rn(i)}throw Error(s(438,String(i)))}function Im(i){var r=null,o=Ce.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ce.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Cm(),Ce.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=V;return r.index++,o}function hs(i,r){return typeof r=="function"?r(i):r}function Ah(i){var r=Ct();return Nm(r,Qe,i)}function Nm(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var d=i.baseQueue,g=u.pending;if(g!==null){if(d!==null){var E=d.next;d.next=g.next,g.next=E}r.baseQueue=d=g,u.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{r=d.next;var S=E=null,N=null,$=r,Z=!1;do{var ne=$.lane&-536870913;if(ne!==$.lane?(je&ne)===ne:(Gs&ne)===ne){var Y=$.revertLane;if(Y===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ne===fo&&(Z=!0);else if((Gs&Y)===Y){$=$.next,Y===fo&&(Z=!0);continue}else ne={lane:0,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},N===null?(S=N=ne,E=g):N=N.next=ne,Ce.lanes|=Y,Zs|=Y;ne=$.action,da&&o(g,ne),g=$.hasEagerState?$.eagerState:o(g,ne)}else Y={lane:ne,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},N===null?(S=N=Y,E=g):N=N.next=Y,Ce.lanes|=ne,Zs|=ne;$=$.next}while($!==null&&$!==r);if(N===null?E=g:N.next=S,!Rn(g,i.memoizedState)&&(Ht=!0,Z&&(o=mo,o!==null)))throw o;i.memoizedState=g,i.baseState=E,i.baseQueue=N,u.lastRenderedState=g}return d===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Dm(i){var r=Ct(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,d=o.pending,g=r.memoizedState;if(d!==null){o.pending=null;var E=d=d.next;do g=i(g,E.action),E=E.next;while(E!==d);Rn(g,r.memoizedState)||(Ht=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function H_(i,r,o){var u=Ce,d=Ct(),g=Fe;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var E=!Rn((Qe||d).memoizedState,o);E&&(d.memoizedState=o,Ht=!0),d=d.queue;var S=$_.bind(null,u,d,i);if(nu(2048,8,S,[i]),d.getSnapshot!==r||E||Rt!==null&&Rt.memoizedState.tag&1){if(u.flags|=2048,vo(9,xh(),K_.bind(null,u,d,o,r),null),nt===null)throw Error(s(349));g||(Gs&124)!==0||G_(u,r,o)}return o}function G_(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Ce.updateQueue,r===null?(r=Cm(),Ce.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function K_(i,r,o,u){r.value=o,r.getSnapshot=u,Y_(r)&&X_(i)}function $_(i,r,o){return o(function(){Y_(r)&&X_(i)})}function Y_(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Rn(i,o)}catch{return!0}}function X_(i){var r=lo(i,2);r!==null&&On(r,i,2)}function Pm(i){var r=_n();if(typeof i=="function"){var o=i;if(i=o(),da){An(!0);try{o()}finally{An(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:i},r}function Q_(i,r,o,u){return i.baseState=o,Nm(i,Qe,typeof u=="function"?u:hs)}function BC(i,r,o,u,d){if(Ch(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};W.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,W_(r,g)):(g.next=o.next,r.pending=o.next=g)}}function W_(i,r){var o=r.action,u=r.payload,d=i.state;if(r.isTransition){var g=W.T,E={};W.T=E;try{var S=o(d,u),N=W.S;N!==null&&N(E,S),Z_(i,r,S)}catch($){Om(i,r,$)}finally{W.T=g}}else try{g=o(d,u),Z_(i,r,g)}catch($){Om(i,r,$)}}function Z_(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){J_(i,r,u)},function(u){return Om(i,r,u)}):J_(i,r,o)}function J_(i,r,o){r.status="fulfilled",r.value=o,e0(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,W_(i,o)))}function Om(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,e0(r),r=r.next;while(r!==u)}i.action=null}function e0(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function t0(i,r){return r}function n0(i,r){if(Fe){var o=nt.formState;if(o!==null){e:{var u=Ce;if(Fe){if(gt){t:{for(var d=gt,g=Ri;d.nodeType!==8;){if(!g){d=null;break t}if(d=ai(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){gt=ai(d.nextSibling),u=d.data==="F!";break e}}ua(u)}u=!1}u&&(r=o[0])}}return o=_n(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t0,lastRenderedState:r},o.queue=u,o=T0.bind(null,Ce,u),u.dispatch=o,u=Pm(!1),g=Um.bind(null,Ce,!1,u.queue),u=_n(),d={state:r,dispatch:null,action:i,pending:null},u.queue=d,o=BC.bind(null,Ce,d,g,o),d.dispatch=o,u.memoizedState=i,[r,o,!1]}function i0(i){var r=Ct();return s0(r,Qe,i)}function s0(i,r,o){if(r=Nm(i,r,t0)[0],i=Ah(hs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=tu(r)}catch(E){throw E===Xl?_h:E}else u=r;r=Ct();var d=r.queue,g=d.dispatch;return o!==r.memoizedState&&(Ce.flags|=2048,vo(9,xh(),zC.bind(null,d,o),null)),[u,g,i]}function zC(i,r){i.action=r}function r0(i){var r=Ct(),o=Qe;if(o!==null)return s0(r,o,i);Ct(),r=r.memoizedState,o=Ct();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function vo(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Ce.updateQueue,r===null&&(r=Cm(),Ce.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function xh(){return{destroy:void 0,resource:void 0}}function a0(){return Ct().memoizedState}function Rh(i,r,o,u){var d=_n();u=u===void 0?null:u,Ce.flags|=i,d.memoizedState=vo(1|r,xh(),o,u)}function nu(i,r,o,u){var d=Ct();u=u===void 0?null:u;var g=d.memoizedState.inst;Qe!==null&&u!==null&&wm(u,Qe.memoizedState.deps)?d.memoizedState=vo(r,g,o,u):(Ce.flags|=i,d.memoizedState=vo(1|r,g,o,u))}function o0(i,r){Rh(8390656,8,i,r)}function l0(i,r){nu(2048,8,i,r)}function u0(i,r){return nu(4,2,i,r)}function c0(i,r){return nu(4,4,i,r)}function h0(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function f0(i,r,o){o=o!=null?o.concat([i]):null,nu(4,4,h0.bind(null,r,i),o)}function Mm(){}function d0(i,r){var o=Ct();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&wm(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function m0(i,r){var o=Ct();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&wm(r,u[1]))return u[0];if(u=i(),da){An(!0);try{i()}finally{An(!1)}}return o.memoizedState=[u,r],u}function Vm(i,r,o){return o===void 0||(Gs&1073741824)!==0?i.memoizedState=r:(i.memoizedState=o,i=yb(),Ce.lanes|=i,Zs|=i,o)}function p0(i,r,o,u){return Rn(o,r)?o:po.current!==null?(i=Vm(i,o,u),Rn(i,r)||(Ht=!0),i):(Gs&42)===0?(Ht=!0,i.memoizedState=o):(i=yb(),Ce.lanes|=i,Zs|=i,r)}function g0(i,r,o,u,d){var g=ae.p;ae.p=g!==0&&8>g?g:8;var E=W.T,S={};W.T=S,Um(i,!1,r,o);try{var N=d(),$=W.S;if($!==null&&$(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Z=LC(N,u);iu(i,r,Z,Pn(i))}else iu(i,r,u,Pn(i))}catch(ne){iu(i,r,{then:function(){},status:"rejected",reason:ne},Pn())}finally{ae.p=g,W.T=E}}function FC(){}function km(i,r,o,u){if(i.tag!==5)throw Error(s(476));var d=y0(i).queue;g0(i,d,r,de,o===null?FC:function(){return v0(i),o(u)})}function y0(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:de},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function v0(i){var r=y0(i).next.queue;iu(i,r,{},Pn())}function Lm(){return rn(Tu)}function _0(){return Ct().memoizedState}function b0(){return Ct().memoizedState}function qC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Pn();i=qs(o);var u=Hs(r,i,o);u!==null&&(On(u,r,o),Wl(u,r,o)),r={cache:dm()},i.payload=r;return}r=r.return}}function HC(i,r,o){var u=Pn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Ch(i)?E0(r,o):(o=im(i,r,o,u),o!==null&&(On(o,i,u),w0(o,r,u)))}function T0(i,r,o){var u=Pn();iu(i,r,o,u)}function iu(i,r,o,u){var d={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ch(i))E0(r,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var E=r.lastRenderedState,S=g(E,o);if(d.hasEagerState=!0,d.eagerState=S,Rn(S,E))return hh(i,r,d,0),nt===null&&ch(),!1}catch{}finally{}if(o=im(i,r,d,u),o!==null)return On(o,i,u),w0(o,r,u),!0}return!1}function Um(i,r,o,u){if(u={lane:2,revertLane:gp(),action:u,hasEagerState:!1,eagerState:null,next:null},Ch(i)){if(r)throw Error(s(479))}else r=im(i,o,u,2),r!==null&&On(r,i,2)}function Ch(i){var r=i.alternate;return i===Ce||r!==null&&r===Ce}function E0(i,r){go=Eh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function w0(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Al(i,o)}}var Ih={readContext:rn,use:Sh,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt},S0={readContext:rn,use:Sh,useCallback:function(i,r){return _n().memoizedState=[i,r===void 0?null:r],i},useContext:rn,useEffect:o0,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Rh(4194308,4,h0.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Rh(4194308,4,i,r)},useInsertionEffect:function(i,r){Rh(4,2,i,r)},useMemo:function(i,r){var o=_n();r=r===void 0?null:r;var u=i();if(da){An(!0);try{i()}finally{An(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=_n();if(o!==void 0){var d=o(r);if(da){An(!0);try{o(r)}finally{An(!1)}}}else d=r;return u.memoizedState=u.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},u.queue=i,i=i.dispatch=HC.bind(null,Ce,i),[u.memoizedState,i]},useRef:function(i){var r=_n();return i={current:i},r.memoizedState=i},useState:function(i){i=Pm(i);var r=i.queue,o=T0.bind(null,Ce,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Mm,useDeferredValue:function(i,r){var o=_n();return Vm(o,i,r)},useTransition:function(){var i=Pm(!1);return i=g0.bind(null,Ce,i.queue,!0,!1),_n().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Ce,d=_n();if(Fe){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),nt===null)throw Error(s(349));(je&124)!==0||G_(u,r,o)}d.memoizedState=o;var g={value:o,getSnapshot:r};return d.queue=g,o0($_.bind(null,u,g,i),[i]),u.flags|=2048,vo(9,xh(),K_.bind(null,u,g,o,r),null),o},useId:function(){var i=_n(),r=nt.identifierPrefix;if(Fe){var o=ls,u=os;o=(u&~(1<<32-sn(u)-1)).toString(32)+o,r="«"+r+"R"+o,o=wh++,0<o&&(r+="H"+o.toString(32)),r+="»"}else o=UC++,r="«"+r+"r"+o.toString(32)+"»";return i.memoizedState=r},useHostTransitionStatus:Lm,useFormState:n0,useActionState:n0,useOptimistic:function(i){var r=_n();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Um.bind(null,Ce,!0,o),o.dispatch=r,[i,r]},useMemoCache:Im,useCacheRefresh:function(){return _n().memoizedState=qC.bind(null,Ce)}},A0={readContext:rn,use:Sh,useCallback:d0,useContext:rn,useEffect:l0,useImperativeHandle:f0,useInsertionEffect:u0,useLayoutEffect:c0,useMemo:m0,useReducer:Ah,useRef:a0,useState:function(){return Ah(hs)},useDebugValue:Mm,useDeferredValue:function(i,r){var o=Ct();return p0(o,Qe.memoizedState,i,r)},useTransition:function(){var i=Ah(hs)[0],r=Ct().memoizedState;return[typeof i=="boolean"?i:tu(i),r]},useSyncExternalStore:H_,useId:_0,useHostTransitionStatus:Lm,useFormState:i0,useActionState:i0,useOptimistic:function(i,r){var o=Ct();return Q_(o,Qe,i,r)},useMemoCache:Im,useCacheRefresh:b0},GC={readContext:rn,use:Sh,useCallback:d0,useContext:rn,useEffect:l0,useImperativeHandle:f0,useInsertionEffect:u0,useLayoutEffect:c0,useMemo:m0,useReducer:Dm,useRef:a0,useState:function(){return Dm(hs)},useDebugValue:Mm,useDeferredValue:function(i,r){var o=Ct();return Qe===null?Vm(o,i,r):p0(o,Qe.memoizedState,i,r)},useTransition:function(){var i=Dm(hs)[0],r=Ct().memoizedState;return[typeof i=="boolean"?i:tu(i),r]},useSyncExternalStore:H_,useId:_0,useHostTransitionStatus:Lm,useFormState:r0,useActionState:r0,useOptimistic:function(i,r){var o=Ct();return Qe!==null?Q_(o,Qe,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Im,useCacheRefresh:b0},_o=null,su=0;function Nh(i){var r=su;return su+=1,_o===null&&(_o=[]),k_(_o,i,r)}function ru(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Dh(i,r){throw r.$$typeof===_?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function x0(i){var r=i._init;return r(i._payload)}function R0(i){function r(z,j){if(i){var K=z.deletions;K===null?(z.deletions=[j],z.flags|=16):K.push(j)}}function o(z,j){if(!i)return null;for(;j!==null;)r(z,j),j=j.sibling;return null}function u(z){for(var j=new Map;z!==null;)z.key!==null?j.set(z.key,z):j.set(z.index,z),z=z.sibling;return j}function d(z,j){return z=as(z,j),z.index=0,z.sibling=null,z}function g(z,j,K){return z.index=K,i?(K=z.alternate,K!==null?(K=K.index,K<j?(z.flags|=67108866,j):K):(z.flags|=67108866,j)):(z.flags|=1048576,j)}function E(z){return i&&z.alternate===null&&(z.flags|=67108866),z}function S(z,j,K,ee){return j===null||j.tag!==6?(j=rm(K,z.mode,ee),j.return=z,j):(j=d(j,K),j.return=z,j)}function N(z,j,K,ee){var me=K.type;return me===C?Z(z,j,K.props.children,ee,K.key):j!==null&&(j.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&x0(me)===j.type)?(j=d(j,K.props),ru(j,K),j.return=z,j):(j=dh(K.type,K.key,K.props,null,z.mode,ee),ru(j,K),j.return=z,j)}function $(z,j,K,ee){return j===null||j.tag!==4||j.stateNode.containerInfo!==K.containerInfo||j.stateNode.implementation!==K.implementation?(j=am(K,z.mode,ee),j.return=z,j):(j=d(j,K.children||[]),j.return=z,j)}function Z(z,j,K,ee,me){return j===null||j.tag!==7?(j=ra(K,z.mode,ee,me),j.return=z,j):(j=d(j,K),j.return=z,j)}function ne(z,j,K){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=rm(""+j,z.mode,K),j.return=z,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case b:return K=dh(j.type,j.key,j.props,null,z.mode,K),ru(K,j),K.return=z,K;case A:return j=am(j,z.mode,K),j.return=z,j;case R:var ee=j._init;return j=ee(j._payload),ne(z,j,K)}if(ut(j)||F(j))return j=ra(j,z.mode,K,null),j.return=z,j;if(typeof j.then=="function")return ne(z,Nh(j),K);if(j.$$typeof===q)return ne(z,yh(z,j),K);Dh(z,j)}return null}function Y(z,j,K,ee){var me=j!==null?j.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return me!==null?null:S(z,j,""+K,ee);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return K.key===me?N(z,j,K,ee):null;case A:return K.key===me?$(z,j,K,ee):null;case R:return me=K._init,K=me(K._payload),Y(z,j,K,ee)}if(ut(K)||F(K))return me!==null?null:Z(z,j,K,ee,null);if(typeof K.then=="function")return Y(z,j,Nh(K),ee);if(K.$$typeof===q)return Y(z,j,yh(z,K),ee);Dh(z,K)}return null}function X(z,j,K,ee,me){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return z=z.get(K)||null,S(j,z,""+ee,me);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:return z=z.get(ee.key===null?K:ee.key)||null,N(j,z,ee,me);case A:return z=z.get(ee.key===null?K:ee.key)||null,$(j,z,ee,me);case R:var Ne=ee._init;return ee=Ne(ee._payload),X(z,j,K,ee,me)}if(ut(ee)||F(ee))return z=z.get(K)||null,Z(j,z,ee,me,null);if(typeof ee.then=="function")return X(z,j,K,Nh(ee),me);if(ee.$$typeof===q)return X(z,j,K,yh(j,ee),me);Dh(j,ee)}return null}function Ee(z,j,K,ee){for(var me=null,Ne=null,pe=j,_e=j=0,Kt=null;pe!==null&&_e<K.length;_e++){pe.index>_e?(Kt=pe,pe=null):Kt=pe.sibling;var ze=Y(z,pe,K[_e],ee);if(ze===null){pe===null&&(pe=Kt);break}i&&pe&&ze.alternate===null&&r(z,pe),j=g(ze,j,_e),Ne===null?me=ze:Ne.sibling=ze,Ne=ze,pe=Kt}if(_e===K.length)return o(z,pe),Fe&&oa(z,_e),me;if(pe===null){for(;_e<K.length;_e++)pe=ne(z,K[_e],ee),pe!==null&&(j=g(pe,j,_e),Ne===null?me=pe:Ne.sibling=pe,Ne=pe);return Fe&&oa(z,_e),me}for(pe=u(pe);_e<K.length;_e++)Kt=X(pe,z,_e,K[_e],ee),Kt!==null&&(i&&Kt.alternate!==null&&pe.delete(Kt.key===null?_e:Kt.key),j=g(Kt,j,_e),Ne===null?me=Kt:Ne.sibling=Kt,Ne=Kt);return i&&pe.forEach(function(or){return r(z,or)}),Fe&&oa(z,_e),me}function ve(z,j,K,ee){if(K==null)throw Error(s(151));for(var me=null,Ne=null,pe=j,_e=j=0,Kt=null,ze=K.next();pe!==null&&!ze.done;_e++,ze=K.next()){pe.index>_e?(Kt=pe,pe=null):Kt=pe.sibling;var or=Y(z,pe,ze.value,ee);if(or===null){pe===null&&(pe=Kt);break}i&&pe&&or.alternate===null&&r(z,pe),j=g(or,j,_e),Ne===null?me=or:Ne.sibling=or,Ne=or,pe=Kt}if(ze.done)return o(z,pe),Fe&&oa(z,_e),me;if(pe===null){for(;!ze.done;_e++,ze=K.next())ze=ne(z,ze.value,ee),ze!==null&&(j=g(ze,j,_e),Ne===null?me=ze:Ne.sibling=ze,Ne=ze);return Fe&&oa(z,_e),me}for(pe=u(pe);!ze.done;_e++,ze=K.next())ze=X(pe,z,_e,ze.value,ee),ze!==null&&(i&&ze.alternate!==null&&pe.delete(ze.key===null?_e:ze.key),j=g(ze,j,_e),Ne===null?me=ze:Ne.sibling=ze,Ne=ze);return i&&pe.forEach(function(K2){return r(z,K2)}),Fe&&oa(z,_e),me}function Ze(z,j,K,ee){if(typeof K=="object"&&K!==null&&K.type===C&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case b:e:{for(var me=K.key;j!==null;){if(j.key===me){if(me=K.type,me===C){if(j.tag===7){o(z,j.sibling),ee=d(j,K.props.children),ee.return=z,z=ee;break e}}else if(j.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&x0(me)===j.type){o(z,j.sibling),ee=d(j,K.props),ru(ee,K),ee.return=z,z=ee;break e}o(z,j);break}else r(z,j);j=j.sibling}K.type===C?(ee=ra(K.props.children,z.mode,ee,K.key),ee.return=z,z=ee):(ee=dh(K.type,K.key,K.props,null,z.mode,ee),ru(ee,K),ee.return=z,z=ee)}return E(z);case A:e:{for(me=K.key;j!==null;){if(j.key===me)if(j.tag===4&&j.stateNode.containerInfo===K.containerInfo&&j.stateNode.implementation===K.implementation){o(z,j.sibling),ee=d(j,K.children||[]),ee.return=z,z=ee;break e}else{o(z,j);break}else r(z,j);j=j.sibling}ee=am(K,z.mode,ee),ee.return=z,z=ee}return E(z);case R:return me=K._init,K=me(K._payload),Ze(z,j,K,ee)}if(ut(K))return Ee(z,j,K,ee);if(F(K)){if(me=F(K),typeof me!="function")throw Error(s(150));return K=me.call(K),ve(z,j,K,ee)}if(typeof K.then=="function")return Ze(z,j,Nh(K),ee);if(K.$$typeof===q)return Ze(z,j,yh(z,K),ee);Dh(z,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,j!==null&&j.tag===6?(o(z,j.sibling),ee=d(j,K),ee.return=z,z=ee):(o(z,j),ee=rm(K,z.mode,ee),ee.return=z,z=ee),E(z)):o(z,j)}return function(z,j,K,ee){try{su=0;var me=Ze(z,j,K,ee);return _o=null,me}catch(pe){if(pe===Xl||pe===_h)throw pe;var Ne=Cn(29,pe,null,z.mode);return Ne.lanes=ee,Ne.return=z,Ne}finally{}}}var bo=R0(!0),C0=R0(!1),Kn=re(null),Ci=null;function Ks(i){var r=i.alternate;oe(Ut,Ut.current&1),oe(Kn,i),Ci===null&&(r===null||po.current!==null||r.memoizedState!==null)&&(Ci=i)}function I0(i){if(i.tag===22){if(oe(Ut,Ut.current),oe(Kn,i),Ci===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(Ci=i)}}else $s()}function $s(){oe(Ut,Ut.current),oe(Kn,Kn.current)}function fs(i){ce(Kn),Ci===i&&(Ci=null),ce(Ut)}var Ut=re(0);function Ph(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Cp(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function jm(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:y({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Bm={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Pn(),d=qs(u);d.payload=r,o!=null&&(d.callback=o),r=Hs(i,d,u),r!==null&&(On(r,i,u),Wl(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Pn(),d=qs(u);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=Hs(i,d,u),r!==null&&(On(r,i,u),Wl(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Pn(),u=qs(o);u.tag=2,r!=null&&(u.callback=r),r=Hs(i,u,o),r!==null&&(On(r,i,o),Wl(r,i,o))}};function N0(i,r,o,u,d,g,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,E):r.prototype&&r.prototype.isPureReactComponent?!zl(o,u)||!zl(d,g):!0}function D0(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&Bm.enqueueReplaceState(r,r.state,null)}function ma(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=y({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}var Oh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function P0(i){Oh(i)}function O0(i){console.error(i)}function M0(i){Oh(i)}function Mh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function V0(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function zm(i,r,o){return o=qs(o),o.tag=3,o.payload={element:null},o.callback=function(){Mh(i,r)},o}function k0(i){return i=qs(i),i.tag=3,i}function L0(i,r,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;i.payload=function(){return d(g)},i.callback=function(){V0(r,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){V0(r,o,u),typeof d!="function"&&(Js===null?Js=new Set([this]):Js.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function KC(i,r,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Kl(r,o,d,!0),o=Kn.current,o!==null){switch(o.tag){case 13:return Ci===null?hp():o.alternate===null&&yt===0&&(yt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===gm?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),dp(i,u,d)),!1;case 22:return o.flags|=65536,u===gm?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),dp(i,u,d)),!1}throw Error(s(435,o.tag))}return dp(i,u,d),hp(),!1}if(Fe)return r=Kn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,u!==um&&(i=Error(s(422),{cause:u}),Gl(Fn(i,o)))):(u!==um&&(r=Error(s(423),{cause:u}),Gl(Fn(r,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,u=Fn(u,o),d=zm(i.stateNode,u,d),_m(i,d),yt!==4&&(yt=2)),!1;var g=Error(s(520),{cause:u});if(g=Fn(g,o),fu===null?fu=[g]:fu.push(g),yt!==4&&(yt=2),r===null)return!0;u=Fn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=zm(o.stateNode,u,i),_m(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Js===null||!Js.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=k0(d),L0(d,i,o,u),_m(o,d),!1}o=o.return}while(o!==null);return!1}var U0=Error(s(461)),Ht=!1;function Qt(i,r,o,u){r.child=i===null?C0(r,null,o,u):bo(r,i.child,o,u)}function j0(i,r,o,u,d){o=o.render;var g=r.ref;if("ref"in u){var E={};for(var S in u)S!=="ref"&&(E[S]=u[S])}else E=u;return ha(r),u=Sm(i,r,o,E,g,d),S=Am(),i!==null&&!Ht?(xm(i,r,d),ds(i,r,d)):(Fe&&S&&om(r),r.flags|=1,Qt(i,r,u,d),r.child)}function B0(i,r,o,u,d){if(i===null){var g=o.type;return typeof g=="function"&&!sm(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,z0(i,r,g,u,d)):(i=dh(o.type,null,u,r,r.mode,d),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!Xm(i,d)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:zl,o(E,u)&&i.ref===r.ref)return ds(i,r,d)}return r.flags|=1,i=as(g,u),i.ref=r.ref,i.return=r,r.child=i}function z0(i,r,o,u,d){if(i!==null){var g=i.memoizedProps;if(zl(g,u)&&i.ref===r.ref)if(Ht=!1,r.pendingProps=u=g,Xm(i,d))(i.flags&131072)!==0&&(Ht=!0);else return r.lanes=i.lanes,ds(i,r,d)}return Fm(i,r,o,u,d)}function F0(i,r,o){var u=r.pendingProps,d=u.children,g=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,i!==null){for(d=r.child=i.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;r.childLanes=g&~u}else r.childLanes=0,r.child=null;return q0(i,r,u,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&vh(r,g!==null?g.cachePool:null),g!==null?z_(r,g):Tm(),I0(r);else return r.lanes=r.childLanes=536870912,q0(i,r,g!==null?g.baseLanes|o:o,o)}else g!==null?(vh(r,g.cachePool),z_(r,g),$s(),r.memoizedState=null):(i!==null&&vh(r,null),Tm(),$s());return Qt(i,r,d,o),r.child}function q0(i,r,o,u){var d=pm();return d=d===null?null:{parent:Lt._currentValue,pool:d},r.memoizedState={baseLanes:o,cachePool:d},i!==null&&vh(r,null),Tm(),I0(r),i!==null&&Kl(i,r,u,!0),null}function Vh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Fm(i,r,o,u,d){return ha(r),o=Sm(i,r,o,u,void 0,d),u=Am(),i!==null&&!Ht?(xm(i,r,d),ds(i,r,d)):(Fe&&u&&om(r),r.flags|=1,Qt(i,r,o,d),r.child)}function H0(i,r,o,u,d,g){return ha(r),r.updateQueue=null,o=q_(r,u,o,d),F_(i),u=Am(),i!==null&&!Ht?(xm(i,r,g),ds(i,r,g)):(Fe&&u&&om(r),r.flags|=1,Qt(i,r,o,g),r.child)}function G0(i,r,o,u,d){if(ha(r),r.stateNode===null){var g=uo,E=o.contextType;typeof E=="object"&&E!==null&&(g=rn(E)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Bm,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},ym(r),E=o.contextType,g.context=typeof E=="object"&&E!==null?rn(E):uo,g.state=r.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(jm(r,o,E,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&Bm.enqueueReplaceState(g,g.state,null),Jl(r,u,g,d),Zl(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var S=r.memoizedProps,N=ma(o,S);g.props=N;var $=g.context,Z=o.contextType;E=uo,typeof Z=="object"&&Z!==null&&(E=rn(Z));var ne=o.getDerivedStateFromProps;Z=typeof ne=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||$!==E)&&D0(r,g,u,E),Fs=!1;var Y=r.memoizedState;g.state=Y,Jl(r,u,g,d),Zl(),$=r.memoizedState,S||Y!==$||Fs?(typeof ne=="function"&&(jm(r,o,ne,u),$=r.memoizedState),(N=Fs||N0(r,o,N,u,Y,$,E))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=$),g.props=u,g.state=$,g.context=E,u=N):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,vm(i,r),E=r.memoizedProps,Z=ma(o,E),g.props=Z,ne=r.pendingProps,Y=g.context,$=o.contextType,N=uo,typeof $=="object"&&$!==null&&(N=rn($)),S=o.getDerivedStateFromProps,($=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==ne||Y!==N)&&D0(r,g,u,N),Fs=!1,Y=r.memoizedState,g.state=Y,Jl(r,u,g,d),Zl();var X=r.memoizedState;E!==ne||Y!==X||Fs||i!==null&&i.dependencies!==null&&gh(i.dependencies)?(typeof S=="function"&&(jm(r,o,S,u),X=r.memoizedState),(Z=Fs||N0(r,o,Z,u,Y,X,N)||i!==null&&i.dependencies!==null&&gh(i.dependencies))?($||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,X,N),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,X,N)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=X),g.props=u,g.state=X,g.context=N,u=Z):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,Vh(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=bo(r,i.child,null,d),r.child=bo(r,null,o,d)):Qt(i,r,o,d),r.memoizedState=g.state,i=r.child):i=ds(i,r,d),i}function K0(i,r,o,u){return Hl(),r.flags|=256,Qt(i,r,o,u),r.child}var qm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hm(i){return{baseLanes:i,cachePool:O_()}}function Gm(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=$n),i}function $0(i,r,o){var u=r.pendingProps,d=!1,g=(r.flags&128)!==0,E;if((E=g)||(E=i!==null&&i.memoizedState===null?!1:(Ut.current&2)!==0),E&&(d=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,i===null){if(Fe){if(d?Ks(r):$s(),Fe){var S=gt,N;if(N=S){e:{for(N=S,S=Ri;N.nodeType!==8;){if(!S){S=null;break e}if(N=ai(N.nextSibling),N===null){S=null;break e}}S=N}S!==null?(r.memoizedState={dehydrated:S,treeContext:aa!==null?{id:os,overflow:ls}:null,retryLane:536870912,hydrationErrors:null},N=Cn(18,null,null,0),N.stateNode=S,N.return=r,r.child=N,pn=r,gt=null,N=!0):N=!1}N||ua(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Cp(S)?r.lanes=32:r.lanes=536870912,null;fs(r)}return S=u.children,u=u.fallback,d?($s(),d=r.mode,S=kh({mode:"hidden",children:S},d),u=ra(u,d,o,null),S.return=r,u.return=r,S.sibling=u,r.child=S,d=r.child,d.memoizedState=Hm(o),d.childLanes=Gm(i,E,o),r.memoizedState=qm,u):(Ks(r),Km(r,S))}if(N=i.memoizedState,N!==null&&(S=N.dehydrated,S!==null)){if(g)r.flags&256?(Ks(r),r.flags&=-257,r=$m(i,r,o)):r.memoizedState!==null?($s(),r.child=i.child,r.flags|=128,r=null):($s(),d=u.fallback,S=r.mode,u=kh({mode:"visible",children:u.children},S),d=ra(d,S,o,null),d.flags|=2,u.return=r,d.return=r,u.sibling=d,r.child=u,bo(r,i.child,null,o),u=r.child,u.memoizedState=Hm(o),u.childLanes=Gm(i,E,o),r.memoizedState=qm,r=d);else if(Ks(r),Cp(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var $=E.dgst;E=$,u=Error(s(419)),u.stack="",u.digest=E,Gl({value:u,source:null,stack:null}),r=$m(i,r,o)}else if(Ht||Kl(i,r,o,!1),E=(o&i.childLanes)!==0,Ht||E){if(E=nt,E!==null&&(u=o&-o,u=(u&42)!==0?1:Ms(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==N.retryLane))throw N.retryLane=u,lo(i,u),On(E,i,u),U0;S.data==="$?"||hp(),r=$m(i,r,o)}else S.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=N.treeContext,gt=ai(S.nextSibling),pn=r,Fe=!0,la=null,Ri=!1,i!==null&&(Hn[Gn++]=os,Hn[Gn++]=ls,Hn[Gn++]=aa,os=i.id,ls=i.overflow,aa=r),r=Km(r,u.children),r.flags|=4096);return r}return d?($s(),d=u.fallback,S=r.mode,N=i.child,$=N.sibling,u=as(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&65011712,$!==null?d=as($,d):(d=ra(d,S,o,null),d.flags|=2),d.return=r,u.return=r,u.sibling=d,r.child=u,u=d,d=r.child,S=i.child.memoizedState,S===null?S=Hm(o):(N=S.cachePool,N!==null?($=Lt._currentValue,N=N.parent!==$?{parent:$,pool:$}:N):N=O_(),S={baseLanes:S.baseLanes|o,cachePool:N}),d.memoizedState=S,d.childLanes=Gm(i,E,o),r.memoizedState=qm,u):(Ks(r),o=i.child,i=o.sibling,o=as(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(E=r.deletions,E===null?(r.deletions=[i],r.flags|=16):E.push(i)),r.child=o,r.memoizedState=null,o)}function Km(i,r){return r=kh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function kh(i,r){return i=Cn(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function $m(i,r,o){return bo(r,i.child,null,o),i=Km(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function Y0(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),hm(i.return,r,o)}function Ym(i,r,o,u,d){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=d)}function X0(i,r,o){var u=r.pendingProps,d=u.revealOrder,g=u.tail;if(Qt(i,r,u.children,o),u=Ut.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Y0(i,o,r);else if(i.tag===19)Y0(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(oe(Ut,u),d){case"forwards":for(o=r.child,d=null;o!==null;)i=o.alternate,i!==null&&Ph(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),Ym(r,!1,d,o,g);break;case"backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(i=d.alternate,i!==null&&Ph(i)===null){r.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}Ym(r,!0,o,null,g);break;case"together":Ym(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ds(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Zs|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Kl(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=as(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=as(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Xm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&gh(i)))}function $C(i,r,o){switch(r.tag){case 3:tt(r,r.stateNode.containerInfo),zs(r,Lt,i.memoizedState.cache),Hl();break;case 27:case 5:Os(r);break;case 4:tt(r,r.stateNode.containerInfo);break;case 10:zs(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Ks(r),r.flags|=128,null):(o&r.child.childLanes)!==0?$0(i,r,o):(Ks(r),i=ds(i,r,o),i!==null?i.sibling:null);Ks(r);break;case 19:var d=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Kl(i,r,o,!1),u=(o&r.childLanes)!==0),d){if(u)return X0(i,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),oe(Ut,Ut.current),u)break;return null;case 22:case 23:return r.lanes=0,F0(i,r,o);case 24:zs(r,Lt,i.memoizedState.cache)}return ds(i,r,o)}function Q0(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Ht=!0;else{if(!Xm(i,o)&&(r.flags&128)===0)return Ht=!1,$C(i,r,o);Ht=(i.flags&131072)!==0}else Ht=!1,Fe&&(r.flags&1048576)!==0&&x_(r,ph,r.index);switch(r.lanes=0,r.tag){case 16:e:{i=r.pendingProps;var u=r.elementType,d=u._init;if(u=d(u._payload),r.type=u,typeof u=="function")sm(u)?(i=ma(u,i),r.tag=1,r=G0(null,r,u,i,o)):(r.tag=0,r=Fm(null,r,u,i,o));else{if(u!=null){if(d=u.$$typeof,d===se){r.tag=11,r=j0(null,r,u,i,o);break e}else if(d===P){r.tag=14,r=B0(null,r,u,i,o);break e}}throw r=St(u)||u,Error(s(306,r,""))}}return r;case 0:return Fm(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,d=ma(u,r.pendingProps),G0(i,r,u,d,o);case 3:e:{if(tt(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;d=g.element,vm(i,r),Jl(r,u,null,o);var E=r.memoizedState;if(u=E.cache,zs(r,Lt,u),u!==g.cache&&fm(r,[Lt],o,!0),Zl(),u=E.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=K0(i,r,u,o);break e}else if(u!==d){d=Fn(Error(s(424)),r),Gl(d),r=K0(i,r,u,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(gt=ai(i.firstChild),pn=r,Fe=!0,la=null,Ri=!0,o=C0(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Hl(),u===d){r=ds(i,r,o);break e}Qt(i,r,u,o)}r=r.child}return r;case 26:return Vh(i,r),i===null?(o=eT(r.type,null,r.pendingProps,null))?r.memoizedState=o:Fe||(o=r.type,i=r.pendingProps,u=Qh(Se.current).createElement(o),u[Mt]=r,u[At]=i,Zt(u,o,i),_t(u),r.stateNode=u):r.memoizedState=eT(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Os(r),i===null&&Fe&&(u=r.stateNode=Wb(r.type,r.pendingProps,Se.current),pn=r,Ri=!0,d=gt,nr(r.type)?(Ip=d,gt=ai(u.firstChild)):gt=d),Qt(i,r,r.pendingProps.children,o),Vh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Fe&&((d=u=gt)&&(u=T2(u,r.type,r.pendingProps,Ri),u!==null?(r.stateNode=u,pn=r,gt=ai(u.firstChild),Ri=!1,d=!0):d=!1),d||ua(r)),Os(r),d=r.type,g=r.pendingProps,E=i!==null?i.memoizedProps:null,u=g.children,Ap(d,g)?u=null:E!==null&&Ap(d,E)&&(r.flags|=32),r.memoizedState!==null&&(d=Sm(i,r,jC,null,null,o),Tu._currentValue=d),Vh(i,r),Qt(i,r,u,o),r.child;case 6:return i===null&&Fe&&((i=o=gt)&&(o=E2(o,r.pendingProps,Ri),o!==null?(r.stateNode=o,pn=r,gt=null,i=!0):i=!1),i||ua(r)),null;case 13:return $0(i,r,o);case 4:return tt(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=bo(r,null,u,o):Qt(i,r,u,o),r.child;case 11:return j0(i,r,r.type,r.pendingProps,o);case 7:return Qt(i,r,r.pendingProps,o),r.child;case 8:return Qt(i,r,r.pendingProps.children,o),r.child;case 12:return Qt(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,zs(r,r.type,u.value),Qt(i,r,u.children,o),r.child;case 9:return d=r.type._context,u=r.pendingProps.children,ha(r),d=rn(d),u=u(d),r.flags|=1,Qt(i,r,u,o),r.child;case 14:return B0(i,r,r.type,r.pendingProps,o);case 15:return z0(i,r,r.type,r.pendingProps,o);case 19:return X0(i,r,o);case 31:return u=r.pendingProps,o=r.mode,u={mode:u.mode,children:u.children},i===null?(o=kh(u,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=as(i.child,u),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return F0(i,r,o);case 24:return ha(r),u=rn(Lt),i===null?(d=pm(),d===null&&(d=nt,g=dm(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),r.memoizedState={parent:u,cache:d},ym(r),zs(r,Lt,d)):((i.lanes&o)!==0&&(vm(i,r),Jl(r,null,null,o),Zl()),d=i.memoizedState,g=r.memoizedState,d.parent!==u?(d={parent:u,cache:u},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),zs(r,Lt,u)):(u=g.cache,zs(r,Lt,u),u!==d.cache&&fm(r,[Lt],o,!0))),Qt(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ms(i){i.flags|=4}function W0(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!rT(r)){if(r=Kn.current,r!==null&&((je&4194048)===je?Ci!==null:(je&62914560)!==je&&(je&536870912)===0||r!==Ci))throw Ql=gm,M_;i.flags|=8192}}function Lh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?wl():536870912,i.lanes|=r,So|=r)}function au(i,r){if(!Fe)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function ct(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function YC(i,r,o){var u=r.pendingProps;switch(lm(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(r),null;case 1:return ct(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),cs(Lt),pi(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(ql(r)?ms(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,I_())),ct(r),null;case 26:return o=r.memoizedState,i===null?(ms(r),o!==null?(ct(r),W0(r,o)):(ct(r),r.flags&=-16777217)):o?o!==i.memoizedState?(ms(r),ct(r),W0(r,o)):(ct(r),r.flags&=-16777217):(i.memoizedProps!==u&&ms(r),ct(r),r.flags&=-16777217),null;case 27:$i(r),o=Se.current;var d=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==u&&ms(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ct(r),null}i=ye.current,ql(r)?R_(r):(i=Wb(d,u,o),r.stateNode=i,ms(r))}return ct(r),null;case 5:if($i(r),o=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&ms(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ct(r),null}if(i=ye.current,ql(r))R_(r);else{switch(d=Qh(Se.current),i){case 1:i=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=d.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?d.createElement(o,{is:u.is}):d.createElement(o)}}i[Mt]=r,i[At]=u;e:for(d=r.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===r)break e;for(;d.sibling===null;){if(d.return===null||d.return===r)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}r.stateNode=i;e:switch(Zt(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ms(r)}}return ct(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&ms(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=Se.current,ql(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,d=pn,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}i[Mt]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Hb(i.nodeValue,o)),i||ua(r)}else i=Qh(i).createTextNode(u),i[Mt]=r,r.stateNode=i}return ct(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=ql(r),u!==null&&u.dehydrated!==null){if(i===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Mt]=r}else Hl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ct(r),d=!1}else d=I_(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(fs(r),r):(fs(r),null)}if(fs(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=r.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)}return o!==i&&o&&(r.child.flags|=8192),Lh(r,r.updateQueue),ct(r),null;case 4:return pi(),i===null&&bp(r.stateNode.containerInfo),ct(r),null;case 10:return cs(r.type),ct(r),null;case 19:if(ce(Ut),d=r.memoizedState,d===null)return ct(r),null;if(u=(r.flags&128)!==0,g=d.rendering,g===null)if(u)au(d,!1);else{if(yt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=Ph(i),g!==null){for(r.flags|=128,au(d,!1),i=g.updateQueue,r.updateQueue=i,Lh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)A_(o,i),o=o.sibling;return oe(Ut,Ut.current&1|2),r.child}i=i.sibling}d.tail!==null&&kn()>Bh&&(r.flags|=128,u=!0,au(d,!1),r.lanes=4194304)}else{if(!u)if(i=Ph(g),i!==null){if(r.flags|=128,u=!0,i=i.updateQueue,r.updateQueue=i,Lh(r,i),au(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!Fe)return ct(r),null}else 2*kn()-d.renderingStartTime>Bh&&o!==536870912&&(r.flags|=128,u=!0,au(d,!1),r.lanes=4194304);d.isBackwards?(g.sibling=r.child,r.child=g):(i=d.last,i!==null?i.sibling=g:r.child=g,d.last=g)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=kn(),r.sibling=null,i=Ut.current,oe(Ut,u?i&1|2:i&1),r):(ct(r),null);case 22:case 23:return fs(r),Em(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(ct(r),r.subtreeFlags&6&&(r.flags|=8192)):ct(r),o=r.updateQueue,o!==null&&Lh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&ce(fa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),cs(Lt),ct(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function XC(i,r){switch(lm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return cs(Lt),pi(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return $i(r),null;case 13:if(fs(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Hl()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ce(Ut),null;case 4:return pi(),null;case 10:return cs(r.type),null;case 22:case 23:return fs(r),Em(),i!==null&&ce(fa),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return cs(Lt),null;case 25:return null;default:return null}}function Z0(i,r){switch(lm(r),r.tag){case 3:cs(Lt),pi();break;case 26:case 27:case 5:$i(r);break;case 4:pi();break;case 13:fs(r);break;case 19:ce(Ut);break;case 10:cs(r.type);break;case 22:case 23:fs(r),Em(),i!==null&&ce(fa);break;case 24:cs(Lt)}}function ou(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&i)===i){u=void 0;var g=o.create,E=o.inst;u=g(),E.destroy=u}o=o.next}while(o!==d)}}catch(S){et(r,r.return,S)}}function Ys(i,r,o){try{var u=r.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&i)===i){var E=u.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,d=r;var N=o,$=S;try{$()}catch(Z){et(d,N,Z)}}}u=u.next}while(u!==g)}}catch(Z){et(r,r.return,Z)}}function J0(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{B_(r,o)}catch(u){et(i,i.return,u)}}}function eb(i,r,o){o.props=ma(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){et(i,r,u)}}function lu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(d){et(i,r,d)}}function Ii(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){et(i,r,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){et(i,r,d)}else o.current=null}function tb(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){et(i,i.return,d)}}function Qm(i,r,o){try{var u=i.stateNode;g2(u,i.type,o,r),u[At]=r}catch(d){et(i,i.return,d)}}function nb(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&nr(i.type)||i.tag===4}function Wm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||nb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&nr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Zm(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Xh));else if(u!==4&&(u===27&&nr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Zm(i,r,o),i=i.sibling;i!==null;)Zm(i,r,o),i=i.sibling}function Uh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&nr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Uh(i,r,o),i=i.sibling;i!==null;)Uh(i,r,o),i=i.sibling}function ib(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);Zt(r,u,o),r[Mt]=i,r[At]=o}catch(g){et(i,i.return,g)}}var ps=!1,Tt=!1,Jm=!1,sb=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function QC(i,r){if(i=i.containerInfo,wp=nf,i=p_(i),Wd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var E=0,S=-1,N=-1,$=0,Z=0,ne=i,Y=null;t:for(;;){for(var X;ne!==o||d!==0&&ne.nodeType!==3||(S=E+d),ne!==g||u!==0&&ne.nodeType!==3||(N=E+u),ne.nodeType===3&&(E+=ne.nodeValue.length),(X=ne.firstChild)!==null;)Y=ne,ne=X;for(;;){if(ne===i)break t;if(Y===o&&++$===d&&(S=E),Y===g&&++Z===u&&(N=E),(X=ne.nextSibling)!==null)break;ne=Y,Y=ne.parentNode}ne=X}o=S===-1||N===-1?null:{start:S,end:N}}else o=null}o=o||{start:0,end:0}}else o=null;for(Sp={focusedElem:i,selectionRange:o},nf=!1,Gt=r;Gt!==null;)if(r=Gt,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,Gt=i;else for(;Gt!==null;){switch(r=Gt,g=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Ee=ma(o.type,d,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(Ee,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(ve){et(o,o.return,ve)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Rp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Rp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Gt=i;break}Gt=r.return}}function rb(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Xs(i,o),u&4&&ou(5,o);break;case 1:if(Xs(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(E){et(o,o.return,E)}else{var d=ma(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(d,r,i.__reactInternalSnapshotBeforeUpdate)}catch(E){et(o,o.return,E)}}u&64&&J0(o),u&512&&lu(o,o.return);break;case 3:if(Xs(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{B_(i,r)}catch(E){et(o,o.return,E)}}break;case 27:r===null&&u&4&&ib(o);case 26:case 5:Xs(i,o),r===null&&u&4&&tb(o),u&512&&lu(o,o.return);break;case 12:Xs(i,o);break;case 13:Xs(i,o),u&4&&lb(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=r2.bind(null,o),w2(i,o))));break;case 22:if(u=o.memoizedState!==null||ps,!u){r=r!==null&&r.memoizedState!==null||Tt,d=ps;var g=Tt;ps=u,(Tt=r)&&!g?Qs(i,o,(o.subtreeFlags&8772)!==0):Xs(i,o),ps=d,Tt=g}break;case 30:break;default:Xs(i,o)}}function ab(i){var r=i.alternate;r!==null&&(i.alternate=null,ab(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Ls(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ot=null,bn=!1;function gs(i,r,o){for(o=o.child;o!==null;)ob(i,r,o),o=o.sibling}function ob(i,r,o){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(pt,o)}catch{}switch(o.tag){case 26:Tt||Ii(o,r),gs(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Tt||Ii(o,r);var u=ot,d=bn;nr(o.type)&&(ot=o.stateNode,bn=!1),gs(i,r,o),yu(o.stateNode),ot=u,bn=d;break;case 5:Tt||Ii(o,r);case 6:if(u=ot,d=bn,ot=null,gs(i,r,o),ot=u,bn=d,ot!==null)if(bn)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(o.stateNode)}catch(g){et(o,r,g)}else try{ot.removeChild(o.stateNode)}catch(g){et(o,r,g)}break;case 18:ot!==null&&(bn?(i=ot,Xb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Au(i)):Xb(ot,o.stateNode));break;case 4:u=ot,d=bn,ot=o.stateNode.containerInfo,bn=!0,gs(i,r,o),ot=u,bn=d;break;case 0:case 11:case 14:case 15:Tt||Ys(2,o,r),Tt||Ys(4,o,r),gs(i,r,o);break;case 1:Tt||(Ii(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&eb(o,r,u)),gs(i,r,o);break;case 21:gs(i,r,o);break;case 22:Tt=(u=Tt)||o.memoizedState!==null,gs(i,r,o),Tt=u;break;default:gs(i,r,o)}}function lb(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Au(i)}catch(o){et(r,r.return,o)}}function WC(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new sb),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new sb),r;default:throw Error(s(435,i.tag))}}function ep(i,r){var o=WC(i);r.forEach(function(u){var d=a2.bind(null,i,u);o.has(u)||(o.add(u),u.then(d,d))})}function In(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=i,E=r,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(nr(S.type)){ot=S.stateNode,bn=!1;break e}break;case 5:ot=S.stateNode,bn=!1;break e;case 3:case 4:ot=S.stateNode.containerInfo,bn=!0;break e}S=S.return}if(ot===null)throw Error(s(160));ob(g,E,d),ot=null,bn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)ub(r,i),r=r.sibling}var ri=null;function ub(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:In(r,i),Nn(i),u&4&&(Ys(3,i,i.return),ou(3,i),Ys(5,i,i.return));break;case 1:In(r,i),Nn(i),u&512&&(Tt||o===null||Ii(o,o.return)),u&64&&ps&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=ri;if(In(r,i),Nn(i),u&512&&(Tt||o===null||Ii(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[qr]||g[Mt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),Zt(g,u,o),g[Mt]=i,_t(g),u=g;break e;case"link":var E=iT("link","href",d).get(u+(o.href||""));if(E){for(var S=0;S<E.length;S++)if(g=E[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(S,1);break t}}g=d.createElement(u),Zt(g,u,o),d.head.appendChild(g);break;case"meta":if(E=iT("meta","content",d).get(u+(o.content||""))){for(S=0;S<E.length;S++)if(g=E[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(S,1);break t}}g=d.createElement(u),Zt(g,u,o),d.head.appendChild(g);break;default:throw Error(s(468,u))}g[Mt]=i,_t(g),u=g}i.stateNode=u}else sT(d,i.type,i.stateNode);else i.stateNode=nT(d,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?sT(d,i.type,i.stateNode):nT(d,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Qm(i,i.memoizedProps,o.memoizedProps)}break;case 27:In(r,i),Nn(i),u&512&&(Tt||o===null||Ii(o,o.return)),o!==null&&u&4&&Qm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(In(r,i),Nn(i),u&512&&(Tt||o===null||Ii(o,o.return)),i.flags&32){d=i.stateNode;try{Un(d,"")}catch(X){et(i,i.return,X)}}u&4&&i.stateNode!=null&&(d=i.memoizedProps,Qm(i,d,o!==null?o.memoizedProps:d)),u&1024&&(Jm=!0);break;case 6:if(In(r,i),Nn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(X){et(i,i.return,X)}}break;case 3:if(Jh=null,d=ri,ri=Wh(r.containerInfo),In(r,i),ri=d,Nn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Au(r.containerInfo)}catch(X){et(i,i.return,X)}Jm&&(Jm=!1,cb(i));break;case 4:u=ri,ri=Wh(i.stateNode.containerInfo),In(r,i),Nn(i),ri=u;break;case 12:In(r,i),Nn(i);break;case 13:In(r,i),Nn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(ap=kn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,ep(i,u)));break;case 22:d=i.memoizedState!==null;var N=o!==null&&o.memoizedState!==null,$=ps,Z=Tt;if(ps=$||d,Tt=Z||N,In(r,i),Tt=Z,ps=$,Nn(i),u&8192)e:for(r=i.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(o===null||N||ps||Tt||pa(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){N=o=r;try{if(g=N.stateNode,d)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=N.stateNode;var ne=N.memoizedProps.style,Y=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(X){et(N,N.return,X)}}}else if(r.tag===6){if(o===null){N=r;try{N.stateNode.nodeValue=d?"":N.memoizedProps}catch(X){et(N,N.return,X)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,ep(i,o))));break;case 19:In(r,i),Nn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,ep(i,u)));break;case 30:break;case 21:break;default:In(r,i),Nn(i)}}function Nn(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(nb(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var d=o.stateNode,g=Wm(i);Uh(i,g,d);break;case 5:var E=o.stateNode;o.flags&32&&(Un(E,""),o.flags&=-33);var S=Wm(i);Uh(i,S,E);break;case 3:case 4:var N=o.stateNode.containerInfo,$=Wm(i);Zm(i,$,N);break;default:throw Error(s(161))}}catch(Z){et(i,i.return,Z)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function cb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;cb(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Xs(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)rb(i,r.alternate,r),r=r.sibling}function pa(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Ys(4,r,r.return),pa(r);break;case 1:Ii(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&eb(r,r.return,o),pa(r);break;case 27:yu(r.stateNode);case 26:case 5:Ii(r,r.return),pa(r);break;case 22:r.memoizedState===null&&pa(r);break;case 30:pa(r);break;default:pa(r)}i=i.sibling}}function Qs(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,d=i,g=r,E=g.flags;switch(g.tag){case 0:case 11:case 15:Qs(d,g,o),ou(4,g);break;case 1:if(Qs(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch($){et(u,u.return,$)}if(u=g,d=u.updateQueue,d!==null){var S=u.stateNode;try{var N=d.shared.hiddenCallbacks;if(N!==null)for(d.shared.hiddenCallbacks=null,d=0;d<N.length;d++)j_(N[d],S)}catch($){et(u,u.return,$)}}o&&E&64&&J0(g),lu(g,g.return);break;case 27:ib(g);case 26:case 5:Qs(d,g,o),o&&u===null&&E&4&&tb(g),lu(g,g.return);break;case 12:Qs(d,g,o);break;case 13:Qs(d,g,o),o&&E&4&&lb(d,g);break;case 22:g.memoizedState===null&&Qs(d,g,o),lu(g,g.return);break;case 30:break;default:Qs(d,g,o)}r=r.sibling}}function tp(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&$l(o))}function np(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&$l(i))}function Ni(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)hb(i,r,o,u),r=r.sibling}function hb(i,r,o,u){var d=r.flags;switch(r.tag){case 0:case 11:case 15:Ni(i,r,o,u),d&2048&&ou(9,r);break;case 1:Ni(i,r,o,u);break;case 3:Ni(i,r,o,u),d&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&$l(i)));break;case 12:if(d&2048){Ni(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,E=g.id,S=g.onPostCommit;typeof S=="function"&&S(E,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(N){et(r,r.return,N)}}else Ni(i,r,o,u);break;case 13:Ni(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,E=r.alternate,r.memoizedState!==null?g._visibility&2?Ni(i,r,o,u):uu(i,r):g._visibility&2?Ni(i,r,o,u):(g._visibility|=2,To(i,r,o,u,(r.subtreeFlags&10256)!==0)),d&2048&&tp(E,r);break;case 24:Ni(i,r,o,u),d&2048&&np(r.alternate,r);break;default:Ni(i,r,o,u)}}function To(i,r,o,u,d){for(d=d&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var g=i,E=r,S=o,N=u,$=E.flags;switch(E.tag){case 0:case 11:case 15:To(g,E,S,N,d),ou(8,E);break;case 23:break;case 22:var Z=E.stateNode;E.memoizedState!==null?Z._visibility&2?To(g,E,S,N,d):uu(g,E):(Z._visibility|=2,To(g,E,S,N,d)),d&&$&2048&&tp(E.alternate,E);break;case 24:To(g,E,S,N,d),d&&$&2048&&np(E.alternate,E);break;default:To(g,E,S,N,d)}r=r.sibling}}function uu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,d=u.flags;switch(u.tag){case 22:uu(o,u),d&2048&&tp(u.alternate,u);break;case 24:uu(o,u),d&2048&&np(u.alternate,u);break;default:uu(o,u)}r=r.sibling}}var cu=8192;function Eo(i){if(i.subtreeFlags&cu)for(i=i.child;i!==null;)fb(i),i=i.sibling}function fb(i){switch(i.tag){case 26:Eo(i),i.flags&cu&&i.memoizedState!==null&&k2(ri,i.memoizedState,i.memoizedProps);break;case 5:Eo(i);break;case 3:case 4:var r=ri;ri=Wh(i.stateNode.containerInfo),Eo(i),ri=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=cu,cu=16777216,Eo(i),cu=r):Eo(i));break;default:Eo(i)}}function db(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function hu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Gt=u,pb(u,i)}db(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)mb(i),i=i.sibling}function mb(i){switch(i.tag){case 0:case 11:case 15:hu(i),i.flags&2048&&Ys(9,i,i.return);break;case 3:hu(i);break;case 12:hu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,jh(i)):hu(i);break;default:hu(i)}}function jh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Gt=u,pb(u,i)}db(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Ys(8,r,r.return),jh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,jh(r));break;default:jh(r)}i=i.sibling}}function pb(i,r){for(;Gt!==null;){var o=Gt;switch(o.tag){case 0:case 11:case 15:Ys(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:$l(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Gt=u;else e:for(o=i;Gt!==null;){u=Gt;var d=u.sibling,g=u.return;if(ab(u),u===o){Gt=null;break e}if(d!==null){d.return=g,Gt=d;break e}Gt=g}}}var ZC={getCacheForType:function(i){var r=rn(Lt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o}},JC=typeof WeakMap=="function"?WeakMap:Map,$e=0,nt=null,De=null,je=0,Ye=0,Dn=null,Ws=!1,wo=!1,ip=!1,ys=0,yt=0,Zs=0,ga=0,sp=0,$n=0,So=0,fu=null,Tn=null,rp=!1,ap=0,Bh=1/0,zh=null,Js=null,Wt=0,er=null,Ao=null,xo=0,op=0,lp=null,gb=null,du=0,up=null;function Pn(){if(($e&2)!==0&&je!==0)return je&-je;if(W.T!==null){var i=fo;return i!==0?i:gp()}return Vs()}function yb(){$n===0&&($n=(je&536870912)===0||Fe?El():536870912);var i=Kn.current;return i!==null&&(i.flags|=32),$n}function On(i,r,o){(i===nt&&(Ye===2||Ye===9)||i.cancelPendingCommit!==null)&&(Ro(i,0),tr(i,je,$n,!1)),Xi(i,o),(($e&2)===0||i!==nt)&&(i===nt&&(($e&2)===0&&(ga|=o),yt===4&&tr(i,je,$n,!1)),Di(i))}function vb(i,r,o){if(($e&6)!==0)throw Error(s(327));var u=!o&&(r&124)===0&&(r&i.expiredLanes)===0||Fr(i,r),d=u?n2(i,r):fp(i,r,!0),g=u;do{if(d===0){wo&&!u&&tr(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!e2(o)){d=fp(i,r,!1),g=!1;continue}if(d===2){if(g=r,i.errorRecoveryDisabledLanes&g)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var S=i;d=fu;var N=S.current.memoizedState.isDehydrated;if(N&&(Ro(S,E).flags|=256),E=fp(S,E,!1),E!==2){if(ip&&!N){S.errorRecoveryDisabledLanes|=g,ga|=g,d=4;break e}g=Tn,Tn=d,g!==null&&(Tn===null?Tn=g:Tn.push.apply(Tn,g))}d=E}if(g=!1,d!==2)continue}}if(d===1){Ro(i,0),tr(i,r,0,!0);break}e:{switch(u=i,g=d,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:tr(u,r,$n,!Ws);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=ap+300-kn(),10<d)){if(tr(u,r,$n,!Ws),qa(u,0,!0)!==0)break e;u.timeoutHandle=$b(_b.bind(null,u,o,Tn,zh,rp,r,$n,ga,So,Ws,g,2,-0,0),d);break e}_b(u,o,Tn,zh,rp,r,$n,ga,So,Ws,g,0,-0,0)}}break}while(!0);Di(i)}function _b(i,r,o,u,d,g,E,S,N,$,Z,ne,Y,X){if(i.timeoutHandle=-1,ne=r.subtreeFlags,(ne&8192||(ne&16785408)===16785408)&&(bu={stylesheets:null,count:0,unsuspend:V2},fb(r),ne=L2(),ne!==null)){i.cancelPendingCommit=ne(xb.bind(null,i,r,g,o,u,d,E,S,N,Z,1,Y,X)),tr(i,g,E,!$);return}xb(i,r,g,o,u,d,E,S,N)}function e2(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!Rn(g(),d))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function tr(i,r,o,u){r&=~sp,r&=~ga,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var d=r;0<d;){var g=31-sn(d),E=1<<g;u[g]=-1,d&=~E}o!==0&&gi(i,o,r)}function Fh(){return($e&6)===0?(mu(0),!1):!0}function cp(){if(De!==null){if(Ye===0)var i=De.return;else i=De,us=ca=null,Rm(i),_o=null,su=0,i=De;for(;i!==null;)Z0(i.alternate,i),i=i.return;De=null}}function Ro(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,v2(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),cp(),nt=i,De=o=as(i.current,null),je=r,Ye=0,Dn=null,Ws=!1,wo=Fr(i,r),ip=!1,So=$n=sp=ga=Zs=yt=0,Tn=fu=null,rp=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var d=31-sn(u),g=1<<d;r|=i[d],u&=~g}return ys=r,ch(),o}function bb(i,r){Ce=null,W.H=Ih,r===Xl||r===_h?(r=L_(),Ye=3):r===M_?(r=L_(),Ye=4):Ye=r===U0?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Dn=r,De===null&&(yt=1,Mh(i,Fn(r,i.current)))}function Tb(){var i=W.H;return W.H=Ih,i===null?Ih:i}function Eb(){var i=W.A;return W.A=ZC,i}function hp(){yt=4,Ws||(je&4194048)!==je&&Kn.current!==null||(wo=!0),(Zs&134217727)===0&&(ga&134217727)===0||nt===null||tr(nt,je,$n,!1)}function fp(i,r,o){var u=$e;$e|=2;var d=Tb(),g=Eb();(nt!==i||je!==r)&&(zh=null,Ro(i,r)),r=!1;var E=yt;e:do try{if(Ye!==0&&De!==null){var S=De,N=Dn;switch(Ye){case 8:cp(),E=6;break e;case 3:case 2:case 9:case 6:Kn.current===null&&(r=!0);var $=Ye;if(Ye=0,Dn=null,Co(i,S,N,$),o&&wo){E=0;break e}break;default:$=Ye,Ye=0,Dn=null,Co(i,S,N,$)}}t2(),E=yt;break}catch(Z){bb(i,Z)}while(!0);return r&&i.shellSuspendCounter++,us=ca=null,$e=u,W.H=d,W.A=g,De===null&&(nt=null,je=0,ch()),E}function t2(){for(;De!==null;)wb(De)}function n2(i,r){var o=$e;$e|=2;var u=Tb(),d=Eb();nt!==i||je!==r?(zh=null,Bh=kn()+500,Ro(i,r)):wo=Fr(i,r);e:do try{if(Ye!==0&&De!==null){r=De;var g=Dn;t:switch(Ye){case 1:Ye=0,Dn=null,Co(i,r,g,1);break;case 2:case 9:if(V_(g)){Ye=0,Dn=null,Sb(r);break}r=function(){Ye!==2&&Ye!==9||nt!==i||(Ye=7),Di(i)},g.then(r,r);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:V_(g)?(Ye=0,Dn=null,Sb(r)):(Ye=0,Dn=null,Co(i,r,g,7));break;case 5:var E=null;switch(De.tag){case 26:E=De.memoizedState;case 5:case 27:var S=De;if(!E||rT(E)){Ye=0,Dn=null;var N=S.sibling;if(N!==null)De=N;else{var $=S.return;$!==null?(De=$,qh($)):De=null}break t}}Ye=0,Dn=null,Co(i,r,g,5);break;case 6:Ye=0,Dn=null,Co(i,r,g,6);break;case 8:cp(),yt=6;break e;default:throw Error(s(462))}}i2();break}catch(Z){bb(i,Z)}while(!0);return us=ca=null,W.H=u,W.A=d,$e=o,De!==null?0:(nt=null,je=0,ch(),yt)}function i2(){for(;De!==null&&!vl();)wb(De)}function wb(i){var r=Q0(i.alternate,i,ys);i.memoizedProps=i.pendingProps,r===null?qh(i):De=r}function Sb(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=H0(o,r,r.pendingProps,r.type,void 0,je);break;case 11:r=H0(o,r,r.pendingProps,r.type.render,r.ref,je);break;case 5:Rm(r);default:Z0(o,r),r=De=A_(r,ys),r=Q0(o,r,ys)}i.memoizedProps=i.pendingProps,r===null?qh(i):De=r}function Co(i,r,o,u){us=ca=null,Rm(r),_o=null,su=0;var d=r.return;try{if(KC(i,d,r,o,je)){yt=1,Mh(i,Fn(o,i.current)),De=null;return}}catch(g){if(d!==null)throw De=d,g;yt=1,Mh(i,Fn(o,i.current)),De=null;return}r.flags&32768?(Fe||u===1?i=!0:wo||(je&536870912)!==0?i=!1:(Ws=i=!0,(u===2||u===9||u===3||u===6)&&(u=Kn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Ab(r,i)):qh(r)}function qh(i){var r=i;do{if((r.flags&32768)!==0){Ab(r,Ws);return}i=r.return;var o=YC(r.alternate,r,ys);if(o!==null){De=o;return}if(r=r.sibling,r!==null){De=r;return}De=r=i}while(r!==null);yt===0&&(yt=5)}function Ab(i,r){do{var o=XC(i.alternate,i);if(o!==null){o.flags&=32767,De=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){De=i;return}De=i=o}while(i!==null);yt=6,De=null}function xb(i,r,o,u,d,g,E,S,N){i.cancelPendingCommit=null;do Hh();while(Wt!==0);if(($e&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=nm,Sl(i,o,g,E,S,N),i===nt&&(De=nt=null,je=0),Ao=r,er=i,xo=o,op=g,lp=d,gb=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,o2(Ur,function(){return Db(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,d=ae.p,ae.p=2,E=$e,$e|=4;try{QC(i,r,o)}finally{$e=E,ae.p=d,W.T=u}}Wt=1,Rb(),Cb(),Ib()}}function Rb(){if(Wt===1){Wt=0;var i=er,r=Ao,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var u=ae.p;ae.p=2;var d=$e;$e|=4;try{ub(r,i);var g=Sp,E=p_(i.containerInfo),S=g.focusedElem,N=g.selectionRange;if(E!==S&&S&&S.ownerDocument&&m_(S.ownerDocument.documentElement,S)){if(N!==null&&Wd(S)){var $=N.start,Z=N.end;if(Z===void 0&&(Z=$),"selectionStart"in S)S.selectionStart=$,S.selectionEnd=Math.min(Z,S.value.length);else{var ne=S.ownerDocument||document,Y=ne&&ne.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),Ee=S.textContent.length,ve=Math.min(N.start,Ee),Ze=N.end===void 0?ve:Math.min(N.end,Ee);!X.extend&&ve>Ze&&(E=Ze,Ze=ve,ve=E);var z=d_(S,ve),j=d_(S,Ze);if(z&&j&&(X.rangeCount!==1||X.anchorNode!==z.node||X.anchorOffset!==z.offset||X.focusNode!==j.node||X.focusOffset!==j.offset)){var K=ne.createRange();K.setStart(z.node,z.offset),X.removeAllRanges(),ve>Ze?(X.addRange(K),X.extend(j.node,j.offset)):(K.setEnd(j.node,j.offset),X.addRange(K))}}}}for(ne=[],X=S;X=X.parentNode;)X.nodeType===1&&ne.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ne.length;S++){var ee=ne[S];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}nf=!!wp,Sp=wp=null}finally{$e=d,ae.p=u,W.T=o}}i.current=r,Wt=2}}function Cb(){if(Wt===2){Wt=0;var i=er,r=Ao,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var u=ae.p;ae.p=2;var d=$e;$e|=4;try{rb(i,r.alternate,r)}finally{$e=d,ae.p=u,W.T=o}}Wt=3}}function Ib(){if(Wt===4||Wt===3){Wt=0,jc();var i=er,r=Ao,o=xo,u=gb;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Wt=5:(Wt=0,Ao=er=null,Nb(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(Js=null),Ha(o),r=r.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(pt,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=W.T,d=ae.p,ae.p=2,W.T=null;try{for(var g=i.onRecoverableError,E=0;E<u.length;E++){var S=u[E];g(S.value,{componentStack:S.stack})}}finally{W.T=r,ae.p=d}}(xo&3)!==0&&Hh(),Di(i),d=i.pendingLanes,(o&4194090)!==0&&(d&42)!==0?i===up?du++:(du=0,up=i):du=0,mu(0)}}function Nb(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,$l(r)))}function Hh(i){return Rb(),Cb(),Ib(),Db()}function Db(){if(Wt!==5)return!1;var i=er,r=op;op=0;var o=Ha(xo),u=W.T,d=ae.p;try{ae.p=32>o?32:o,W.T=null,o=lp,lp=null;var g=er,E=xo;if(Wt=0,Ao=er=null,xo=0,($e&6)!==0)throw Error(s(331));var S=$e;if($e|=4,mb(g.current),hb(g,g.current,E,o),$e=S,mu(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(pt,g)}catch{}return!0}finally{ae.p=d,W.T=u,Nb(i,r)}}function Pb(i,r,o){r=Fn(o,r),r=zm(i.stateNode,r,2),i=Hs(i,r,2),i!==null&&(Xi(i,2),Di(i))}function et(i,r,o){if(i.tag===3)Pb(i,i,o);else for(;r!==null;){if(r.tag===3){Pb(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Js===null||!Js.has(u))){i=Fn(o,i),o=k0(2),u=Hs(r,o,2),u!==null&&(L0(o,u,r,i),Xi(u,2),Di(u));break}}r=r.return}}function dp(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new JC;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(o)||(ip=!0,d.add(o),i=s2.bind(null,i,r,o),r.then(i,i))}function s2(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,nt===i&&(je&o)===o&&(yt===4||yt===3&&(je&62914560)===je&&300>kn()-ap?($e&2)===0&&Ro(i,0):sp|=o,So===je&&(So=0)),Di(i)}function Ob(i,r){r===0&&(r=wl()),i=lo(i,r),i!==null&&(Xi(i,r),Di(i))}function r2(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),Ob(i,o)}function a2(i,r){var o=0;switch(i.tag){case 13:var u=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),Ob(i,o)}function o2(i,r){return kr(i,r)}var Gh=null,Io=null,mp=!1,Kh=!1,pp=!1,ya=0;function Di(i){i!==Io&&i.next===null&&(Io===null?Gh=Io=i:Io=Io.next=i),Kh=!0,mp||(mp=!0,u2())}function mu(i,r){if(!pp&&Kh){pp=!0;do for(var o=!1,u=Gh;u!==null;){if(i!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var E=u.suspendedLanes,S=u.pingedLanes;g=(1<<31-sn(42|i)+1)-1,g&=d&~(E&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Lb(u,g))}else g=je,g=qa(u,u===nt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Fr(u,g)||(o=!0,Lb(u,g));u=u.next}while(o);pp=!1}}function l2(){Mb()}function Mb(){Kh=mp=!1;var i=0;ya!==0&&(y2()&&(i=ya),ya=0);for(var r=kn(),o=null,u=Gh;u!==null;){var d=u.next,g=Vb(u,r);g===0?(u.next=null,o===null?Gh=d:o.next=d,d===null&&(Io=o)):(o=u,(i!==0||(g&3)!==0)&&(Kh=!0)),u=d}mu(i)}function Vb(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var E=31-sn(g),S=1<<E,N=d[E];N===-1?((S&o)===0||(S&u)!==0)&&(d[E]=Tl(S,r)):N<=r&&(i.expiredLanes|=S),g&=~S}if(r=nt,o=je,o=qa(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Ye===2||Ye===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Lr(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Fr(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&Lr(u),Ha(o)){case 2:case 8:o=za;break;case 32:o=Ur;break;case 268435456:o=Fa;break;default:o=Ur}return u=kb.bind(null,i),o=kr(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&Lr(u),i.callbackPriority=2,i.callbackNode=null,2}function kb(i,r){if(Wt!==0&&Wt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Hh()&&i.callbackNode!==o)return null;var u=je;return u=qa(i,i===nt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(vb(i,u,r),Vb(i,kn()),i.callbackNode!=null&&i.callbackNode===o?kb.bind(null,i):null)}function Lb(i,r){if(Hh())return null;vb(i,r,!0)}function u2(){_2(function(){($e&6)!==0?kr(_l,l2):Mb()})}function gp(){return ya===0&&(ya=El()),ya}function Ub(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Qa(""+i)}function jb(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function c2(i,r,o,u,d){if(r==="submit"&&o&&o.stateNode===d){var g=Ub((d[At]||null).action),E=u.submitter;E&&(r=(r=E[At]||null)?Ub(r.formAction):E.getAttribute("formAction"),r!==null&&(g=r,E=null));var S=new Wa("action","action",null,u,d);i.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ya!==0){var N=E?jb(d,E):new FormData(d);km(o,{pending:!0,data:N,method:d.method,action:g},null,N)}}else typeof g=="function"&&(S.preventDefault(),N=E?jb(d,E):new FormData(d),km(o,{pending:!0,data:N,method:d.method,action:g},g,N))},currentTarget:d}]})}}for(var yp=0;yp<tm.length;yp++){var vp=tm[yp],h2=vp.toLowerCase(),f2=vp[0].toUpperCase()+vp.slice(1);si(h2,"on"+f2)}si(v_,"onAnimationEnd"),si(__,"onAnimationIteration"),si(b_,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(IC,"onTransitionRun"),si(NC,"onTransitionStart"),si(DC,"onTransitionCancel"),si(T_,"onTransitionEnd"),Wi("onMouseEnter",["mouseout","mouseover"]),Wi("onMouseLeave",["mouseout","mouseover"]),Wi("onPointerEnter",["pointerout","pointerover"]),Wi("onPointerLeave",["pointerout","pointerover"]),ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pu));function Bb(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],d=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var E=u.length-1;0<=E;E--){var S=u[E],N=S.instance,$=S.currentTarget;if(S=S.listener,N!==g&&d.isPropagationStopped())break e;g=S,d.currentTarget=$;try{g(d)}catch(Z){Oh(Z)}d.currentTarget=null,g=N}else for(E=0;E<u.length;E++){if(S=u[E],N=S.instance,$=S.currentTarget,S=S.listener,N!==g&&d.isPropagationStopped())break e;g=S,d.currentTarget=$;try{g(d)}catch(Z){Oh(Z)}d.currentTarget=null,g=N}}}}function Pe(i,r){var o=r[xl];o===void 0&&(o=r[xl]=new Set);var u=i+"__bubble";o.has(u)||(zb(r,i,2,!1),o.add(u))}function _p(i,r,o){var u=0;r&&(u|=4),zb(o,i,u,r)}var $h="_reactListening"+Math.random().toString(36).slice(2);function bp(i){if(!i[$h]){i[$h]=!0,Rl.forEach(function(o){o!=="selectionchange"&&(d2.has(o)||_p(o,!1,i),_p(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[$h]||(r[$h]=!0,_p("selectionchange",!1,r))}}function zb(i,r,o,u){switch(hT(r)){case 2:var d=B2;break;case 8:d=z2;break;default:d=Mp}o=d.bind(null,r,o,i),d=void 0,!Bn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?i.addEventListener(r,o,{capture:!0,passive:d}):i.addEventListener(r,o,!0):d!==void 0?i.addEventListener(r,o,{passive:d}):i.addEventListener(r,o,!1)}function Tp(i,r,o,u,d){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var S=u.stateNode.containerInfo;if(S===d)break;if(E===4)for(E=u.return;E!==null;){var N=E.tag;if((N===3||N===4)&&E.stateNode.containerInfo===d)return;E=E.return}for(;S!==null;){if(E=Qi(S),E===null)return;if(N=E.tag,N===5||N===6||N===26||N===27){u=g=E;continue e}S=S.parentNode}}u=u.return}Xc(function(){var $=g,Z=jn(o),ne=[];e:{var Y=E_.get(i);if(Y!==void 0){var X=Wa,Ee=i;switch(i){case"keypress":if(Ei(o)===0)break e;case"keydown":case"keyup":X=io;break;case"focusin":Ee="focus",X=eo;break;case"focusout":Ee="blur",X=eo;break;case"beforeblur":case"afterblur":X=eo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=$d;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=ih;break;case v_:case __:case b_:X=to;break;case T_:X=rh;break;case"scroll":case"scrollend":X=Qc;break;case"wheel":X=so;break;case"copy":case"cut":case"paste":X=no;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=jl;break;case"toggle":case"beforetoggle":X=oh}var ve=(r&4)!==0,Ze=!ve&&(i==="scroll"||i==="scrollend"),z=ve?Y!==null?Y+"Capture":null:Y;ve=[];for(var j=$,K;j!==null;){var ee=j;if(K=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||K===null||z===null||(ee=Qr(j,z),ee!=null&&ve.push(gu(j,ee,K))),Ze)break;j=j.return}0<ve.length&&(Y=new X(Y,Ee,null,o,Z),ne.push({event:Y,listeners:ve}))}}if((r&7)===0){e:{if(Y=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",Y&&o!==es&&(Ee=o.relatedTarget||o.fromElement)&&(Qi(Ee)||Ee[Ln]))break e;if((X||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(Ee=o.relatedTarget||o.toElement,X=$,Ee=Ee?Qi(Ee):null,Ee!==null&&(Ze=l(Ee),ve=Ee.tag,Ee!==Ze||ve!==5&&ve!==27&&ve!==6)&&(Ee=null)):(X=null,Ee=$),X!==Ee)){if(ve=zn,ee="onMouseLeave",z="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(ve=jl,ee="onPointerLeave",z="onPointerEnter",j="pointer"),Ze=X==null?Y:vi(X),K=Ee==null?Y:vi(Ee),Y=new ve(ee,j+"leave",X,o,Z),Y.target=Ze,Y.relatedTarget=K,ee=null,Qi(Z)===$&&(ve=new ve(z,j+"enter",Ee,o,Z),ve.target=K,ve.relatedTarget=Ze,ee=ve),Ze=ee,X&&Ee)t:{for(ve=X,z=Ee,j=0,K=ve;K;K=No(K))j++;for(K=0,ee=z;ee;ee=No(ee))K++;for(;0<j-K;)ve=No(ve),j--;for(;0<K-j;)z=No(z),K--;for(;j--;){if(ve===z||z!==null&&ve===z.alternate)break t;ve=No(ve),z=No(z)}ve=null}else ve=null;X!==null&&Fb(ne,Y,X,ve,!1),Ee!==null&&Ze!==null&&Fb(ne,Ze,Ee,ve,!0)}}e:{if(Y=$?vi($):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var me=o_;else if(kt(Y))if(l_)me=xC;else{me=SC;var Ne=wC}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?$&&Pl($.elementType)&&(me=o_):me=AC;if(me&&(me=me(i,$))){rs(ne,me,o,Z);break e}Ne&&Ne(i,Y,$),i==="focusout"&&$&&Y.type==="number"&&$.memoizedProps.value!=null&&js(Y,"number",Y.value)}switch(Ne=$?vi($):window,i){case"focusin":(kt(Ne)||Ne.contentEditable==="true")&&(ro=Ne,Zd=$,Fl=null);break;case"focusout":Fl=Zd=ro=null;break;case"mousedown":Jd=!0;break;case"contextmenu":case"mouseup":case"dragend":Jd=!1,g_(ne,o,Z);break;case"selectionchange":if(CC)break;case"keydown":case"keyup":g_(ne,o,Z)}var pe;if(Ai)e:{switch(i){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Le?Q(i,o)&&(_e="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(_e="onCompositionStart");_e&&(T&&o.locale!=="ko"&&(Le||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Le&&(pe=Ml()):(Ti=Z,Bs="value"in Ti?Ti.value:Ti.textContent,Le=!0)),Ne=Yh($,_e),0<Ne.length&&(_e=new Ll(_e,i,null,o,Z),ne.push({event:_e,listeners:Ne}),pe?_e.data=pe:(pe=ue(o),pe!==null&&(_e.data=pe)))),(pe=v?Vt(i,o):Ue(i,o))&&(_e=Yh($,"onBeforeInput"),0<_e.length&&(Ne=new Ll("onBeforeInput","beforeinput",null,o,Z),ne.push({event:Ne,listeners:_e}),Ne.data=pe)),c2(ne,i,$,o,Z)}Bb(ne,r)})}function gu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Yh(i,r){for(var o=r+"Capture",u=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=Qr(i,o),d!=null&&u.unshift(gu(i,d,g)),d=Qr(i,r),d!=null&&u.push(gu(i,d,g))),i.tag===3)return u;i=i.return}return[]}function No(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Fb(i,r,o,u,d){for(var g=r._reactName,E=[];o!==null&&o!==u;){var S=o,N=S.alternate,$=S.stateNode;if(S=S.tag,N!==null&&N===u)break;S!==5&&S!==26&&S!==27||$===null||(N=$,d?($=Qr(o,g),$!=null&&E.unshift(gu(o,$,N))):d||($=Qr(o,g),$!=null&&E.push(gu(o,$,N)))),o=o.return}E.length!==0&&i.push({event:r,listeners:E})}var m2=/\r\n?/g,p2=/\u0000|\uFFFD/g;function qb(i){return(typeof i=="string"?i:""+i).replace(m2,`
`).replace(p2,"")}function Hb(i,r){return r=qb(r),qb(i)===r}function Xh(){}function We(i,r,o,u,d,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Un(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Un(i,""+u);break;case"className":_i(i,"class",u);break;case"tabIndex":_i(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":_i(i,o,u);break;case"style":Dl(i,u,g);break;case"data":if(r!=="object"){_i(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Qa(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&We(i,r,"name",d.name,d,null),We(i,r,"formEncType",d.formEncType,d,null),We(i,r,"formMethod",d.formMethod,d,null),We(i,r,"formTarget",d.formTarget,d,null)):(We(i,r,"encType",d.encType,d,null),We(i,r,"method",d.method,d,null),We(i,r,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Qa(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Xh);break;case"onScroll":u!=null&&Pe("scroll",i);break;case"onScrollEnd":u!=null&&Pe("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Qa(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Pe("beforetoggle",i),Pe("toggle",i),Us(i,"popover",u);break;case"xlinkActuate":Yt(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Yt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Yt(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Yt(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Yt(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Yt(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Yt(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Yt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Yt(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Us(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Gd.get(o)||o,Us(i,o,u))}}function Ep(i,r,o,u,d,g){switch(o){case"style":Dl(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Un(i,u):(typeof u=="number"||typeof u=="bigint")&&Un(i,""+u);break;case"onScroll":u!=null&&Pe("scroll",i);break;case"onScrollEnd":u!=null&&Pe("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Xh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ga.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),r=o.slice(2,d?o.length-7:void 0),g=i[At]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,d);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Us(i,o,u)}}}function Zt(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",i),Pe("load",i);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(i,r,g,E,o,null)}}d&&We(i,r,"srcSet",o.srcSet,o,null),u&&We(i,r,"src",o.src,o,null);return;case"input":Pe("invalid",i);var S=g=E=d=null,N=null,$=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":d=Z;break;case"type":E=Z;break;case"checked":N=Z;break;case"defaultChecked":$=Z;break;case"value":g=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:We(i,r,u,Z,o,null)}}$r(i,g,S,N,$,E,d,!1),Xa(i);return;case"select":Pe("invalid",i),u=E=g=null;for(d in o)if(o.hasOwnProperty(d)&&(S=o[d],S!=null))switch(d){case"value":g=S;break;case"defaultValue":E=S;break;case"multiple":u=S;default:We(i,r,d,S,o,null)}r=g,o=E,i.multiple=!!u,r!=null?Ji(i,!!u,r,!1):o!=null&&Ji(i,!!u,o,!0);return;case"textarea":Pe("invalid",i),g=d=u=null;for(E in o)if(o.hasOwnProperty(E)&&(S=o[E],S!=null))switch(E){case"value":u=S;break;case"defaultValue":d=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:We(i,r,E,S,o,null)}Yr(i,u,d,g),Xa(i);return;case"option":for(N in o)if(o.hasOwnProperty(N)&&(u=o[N],u!=null))switch(N){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:We(i,r,N,u,o,null)}return;case"dialog":Pe("beforetoggle",i),Pe("toggle",i),Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":Pe("load",i);break;case"video":case"audio":for(u=0;u<pu.length;u++)Pe(pu[u],i);break;case"image":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"embed":case"source":case"link":Pe("error",i),Pe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(u=o[$],u!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(i,r,$,u,o,null)}return;default:if(Pl(r)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&Ep(i,r,Z,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&We(i,r,S,u,o,null))}function g2(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,E=null,S=null,N=null,$=null,Z=null;for(X in o){var ne=o[X];if(o.hasOwnProperty(X)&&ne!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":N=ne;default:u.hasOwnProperty(X)||We(i,r,X,null,u,ne)}}for(var Y in u){var X=u[Y];if(ne=o[Y],u.hasOwnProperty(Y)&&(X!=null||ne!=null))switch(Y){case"type":g=X;break;case"name":d=X;break;case"checked":$=X;break;case"defaultChecked":Z=X;break;case"value":E=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==ne&&We(i,r,Y,X,u,ne)}}xn(i,E,S,N,$,Z,g,d);return;case"select":X=E=S=Y=null;for(g in o)if(N=o[g],o.hasOwnProperty(g)&&N!=null)switch(g){case"value":break;case"multiple":X=N;default:u.hasOwnProperty(g)||We(i,r,g,null,u,N)}for(d in u)if(g=u[d],N=o[d],u.hasOwnProperty(d)&&(g!=null||N!=null))switch(d){case"value":Y=g;break;case"defaultValue":S=g;break;case"multiple":E=g;default:g!==N&&We(i,r,d,g,u,N)}r=S,o=E,u=X,Y!=null?Ji(i,!!o,Y,!1):!!u!=!!o&&(r!=null?Ji(i,!!o,r,!0):Ji(i,!!o,o?[]:"",!1));return;case"textarea":X=Y=null;for(S in o)if(d=o[S],o.hasOwnProperty(S)&&d!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:We(i,r,S,null,u,d)}for(E in u)if(d=u[E],g=o[E],u.hasOwnProperty(E)&&(d!=null||g!=null))switch(E){case"value":Y=d;break;case"defaultValue":X=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==g&&We(i,r,E,d,u,g)}Xe(i,Y,X);return;case"option":for(var Ee in o)if(Y=o[Ee],o.hasOwnProperty(Ee)&&Y!=null&&!u.hasOwnProperty(Ee))switch(Ee){case"selected":i.selected=!1;break;default:We(i,r,Ee,null,u,Y)}for(N in u)if(Y=u[N],X=o[N],u.hasOwnProperty(N)&&Y!==X&&(Y!=null||X!=null))switch(N){case"selected":i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:We(i,r,N,Y,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in o)Y=o[ve],o.hasOwnProperty(ve)&&Y!=null&&!u.hasOwnProperty(ve)&&We(i,r,ve,null,u,Y);for($ in u)if(Y=u[$],X=o[$],u.hasOwnProperty($)&&Y!==X&&(Y!=null||X!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:We(i,r,$,Y,u,X)}return;default:if(Pl(r)){for(var Ze in o)Y=o[Ze],o.hasOwnProperty(Ze)&&Y!==void 0&&!u.hasOwnProperty(Ze)&&Ep(i,r,Ze,void 0,u,Y);for(Z in u)Y=u[Z],X=o[Z],!u.hasOwnProperty(Z)||Y===X||Y===void 0&&X===void 0||Ep(i,r,Z,Y,u,X);return}}for(var z in o)Y=o[z],o.hasOwnProperty(z)&&Y!=null&&!u.hasOwnProperty(z)&&We(i,r,z,null,u,Y);for(ne in u)Y=u[ne],X=o[ne],!u.hasOwnProperty(ne)||Y===X||Y==null&&X==null||We(i,r,ne,Y,u,X)}var wp=null,Sp=null;function Qh(i){return i.nodeType===9?i:i.ownerDocument}function Gb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kb(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Ap(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var xp=null;function y2(){var i=window.event;return i&&i.type==="popstate"?i===xp?!1:(xp=i,!0):(xp=null,!1)}var $b=typeof setTimeout=="function"?setTimeout:void 0,v2=typeof clearTimeout=="function"?clearTimeout:void 0,Yb=typeof Promise=="function"?Promise:void 0,_2=typeof queueMicrotask=="function"?queueMicrotask:typeof Yb<"u"?function(i){return Yb.resolve(null).then(i).catch(b2)}:$b;function b2(i){setTimeout(function(){throw i})}function nr(i){return i==="head"}function Xb(i,r){var o=r,u=0,d=0;do{var g=o.nextSibling;if(i.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var E=i.ownerDocument;if(o&1&&yu(E.documentElement),o&2&&yu(E.body),o&4)for(o=E.head,yu(o),E=o.firstChild;E;){var S=E.nextSibling,N=E.nodeName;E[qr]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=S}}if(d===0){i.removeChild(g),Au(r);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);Au(r)}function Rp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Rp(o),Ls(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function T2(i,r,o,u){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[qr])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=ai(i.nextSibling),i===null)break}return null}function E2(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ai(i.nextSibling),i===null))return null;return i}function Cp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function w2(i,r){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function ai(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var Ip=null;function Qb(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return i;r--}else o==="/$"&&r++}i=i.previousSibling}return null}function Wb(i,r,o){switch(r=Qh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function yu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Ls(i)}var Yn=new Map,Zb=new Set;function Wh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var vs=ae.d;ae.d={f:S2,r:A2,D:x2,C:R2,L:C2,m:I2,X:D2,S:N2,M:P2};function S2(){var i=vs.f(),r=Fh();return i||r}function A2(i){var r=yi(i);r!==null&&r.tag===5&&r.type==="form"?v0(r):vs.r(i)}var Do=typeof document>"u"?null:document;function Jb(i,r,o){var u=Do;if(u&&typeof r=="string"&&r){var d=xt(r);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),Zb.has(d)||(Zb.add(d),i={rel:i,crossOrigin:o,href:r},u.querySelector(d)===null&&(r=u.createElement("link"),Zt(r,"link",i),_t(r),u.head.appendChild(r)))}}function x2(i){vs.D(i),Jb("dns-prefetch",i,null)}function R2(i,r){vs.C(i,r),Jb("preconnect",i,r)}function C2(i,r,o){vs.L(i,r,o);var u=Do;if(u&&i&&r){var d='link[rel="preload"][as="'+xt(r)+'"]';r==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+xt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+xt(o.imageSizes)+'"]')):d+='[href="'+xt(i)+'"]';var g=d;switch(r){case"style":g=Po(i);break;case"script":g=Oo(i)}Yn.has(g)||(i=y({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Yn.set(g,i),u.querySelector(d)!==null||r==="style"&&u.querySelector(vu(g))||r==="script"&&u.querySelector(_u(g))||(r=u.createElement("link"),Zt(r,"link",i),_t(r),u.head.appendChild(r)))}}function I2(i,r){vs.m(i,r);var o=Do;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+xt(u)+'"][href="'+xt(i)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Oo(i)}if(!Yn.has(g)&&(i=y({rel:"modulepreload",href:i},r),Yn.set(g,i),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(_u(g)))return}u=o.createElement("link"),Zt(u,"link",i),_t(u),o.head.appendChild(u)}}}function N2(i,r,o){vs.S(i,r,o);var u=Do;if(u&&i){var d=fn(u).hoistableStyles,g=Po(i);r=r||"default";var E=d.get(g);if(!E){var S={loading:0,preload:null};if(E=u.querySelector(vu(g)))S.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Yn.get(g))&&Np(i,o);var N=E=u.createElement("link");_t(N),Zt(N,"link",i),N._p=new Promise(function($,Z){N.onload=$,N.onerror=Z}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Zh(E,r,u)}E={type:"stylesheet",instance:E,count:1,state:S},d.set(g,E)}}}function D2(i,r){vs.X(i,r);var o=Do;if(o&&i){var u=fn(o).hoistableScripts,d=Oo(i),g=u.get(d);g||(g=o.querySelector(_u(d)),g||(i=y({src:i,async:!0},r),(r=Yn.get(d))&&Dp(i,r),g=o.createElement("script"),_t(g),Zt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function P2(i,r){vs.M(i,r);var o=Do;if(o&&i){var u=fn(o).hoistableScripts,d=Oo(i),g=u.get(d);g||(g=o.querySelector(_u(d)),g||(i=y({src:i,async:!0,type:"module"},r),(r=Yn.get(d))&&Dp(i,r),g=o.createElement("script"),_t(g),Zt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function eT(i,r,o,u){var d=(d=Se.current)?Wh(d):null;if(!d)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Po(o.href),o=fn(d).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Po(o.href);var g=fn(d).hoistableStyles,E=g.get(i);if(E||(d=d.ownerDocument||d,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,E),(g=d.querySelector(vu(i)))&&!g._p&&(E.instance=g,E.state.loading=5),Yn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Yn.set(i,o),g||O2(d,i,o,E.state))),r&&u===null)throw Error(s(528,""));return E}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Oo(o),o=fn(d).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Po(i){return'href="'+xt(i)+'"'}function vu(i){return'link[rel="stylesheet"]['+i+"]"}function tT(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function O2(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Zt(r,"link",o),_t(r),i.head.appendChild(r))}function Oo(i){return'[src="'+xt(i)+'"]'}function _u(i){return"script[async]"+i}function nT(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+xt(o.href)+'"]');if(u)return r.instance=u,_t(u),u;var d=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),_t(u),Zt(u,"style",d),Zh(u,o.precedence,i),r.instance=u;case"stylesheet":d=Po(o.href);var g=i.querySelector(vu(d));if(g)return r.state.loading|=4,r.instance=g,_t(g),g;u=tT(o),(d=Yn.get(d))&&Np(u,d),g=(i.ownerDocument||i).createElement("link"),_t(g);var E=g;return E._p=new Promise(function(S,N){E.onload=S,E.onerror=N}),Zt(g,"link",u),r.state.loading|=4,Zh(g,o.precedence,i),r.instance=g;case"script":return g=Oo(o.src),(d=i.querySelector(_u(g)))?(r.instance=d,_t(d),d):(u=o,(d=Yn.get(g))&&(u=y({},o),Dp(u,d)),i=i.ownerDocument||i,d=i.createElement("script"),_t(d),Zt(d,"link",u),i.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Zh(u,o.precedence,i));return r.instance}function Zh(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,E=0;E<u.length;E++){var S=u[E];if(S.dataset.precedence===r)g=S;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Np(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Dp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Jh=null;function iT(i,r,o){if(Jh===null){var u=new Map,d=Jh=new Map;d.set(o,u)}else d=Jh,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[qr]||g[Mt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(r)||"";E=i+E;var S=u.get(E);S?S.push(g):u.set(E,[g])}}return u}function sT(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function M2(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function rT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var bu=null;function V2(){}function k2(i,r,o){if(bu===null)throw Error(s(475));var u=bu;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=Po(o.href),g=i.querySelector(vu(d));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=ef.bind(u),i.then(u,u)),r.state.loading|=4,r.instance=g,_t(g);return}g=i.ownerDocument||i,o=tT(o),(d=Yn.get(d))&&Np(o,d),g=g.createElement("link"),_t(g);var E=g;E._p=new Promise(function(S,N){E.onload=S,E.onerror=N}),Zt(g,"link",o),r.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=ef.bind(u),i.addEventListener("load",r),i.addEventListener("error",r))}}function L2(){if(bu===null)throw Error(s(475));var i=bu;return i.stylesheets&&i.count===0&&Pp(i,i.stylesheets),0<i.count?function(r){var o=setTimeout(function(){if(i.stylesheets&&Pp(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(o)}}:null}function ef(){if(this.count--,this.count===0){if(this.stylesheets)Pp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var tf=null;function Pp(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,tf=new Map,r.forEach(U2,i),tf=null,ef.call(i))}function U2(i,r){if(!(r.state.loading&4)){var o=tf.get(i);if(o)var u=o.get(null);else{o=new Map,tf.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var E=d[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}d=r.instance,E=d.getAttribute("data-precedence"),g=o.get(E)||u,g===u&&o.set(null,d),o.set(E,d),this.count++,u=ef.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),r.state.loading|=4}}var Tu={$$typeof:q,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function j2(i,r,o,u,d,g,E,S){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yi(0),this.hiddenUpdates=Yi(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function aT(i,r,o,u,d,g,E,S,N,$,Z,ne){return i=new j2(i,r,o,E,S,N,$,ne),r=1,g===!0&&(r|=24),g=Cn(3,null,null,r),i.current=g,g.stateNode=i,r=dm(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},ym(g),i}function oT(i){return i?(i=uo,i):uo}function lT(i,r,o,u,d,g){d=oT(d),u.context===null?u.context=d:u.pendingContext=d,u=qs(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Hs(i,u,r),o!==null&&(On(o,i,r),Wl(o,i,r))}function uT(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Op(i,r){uT(i,r),(i=i.alternate)&&uT(i,r)}function cT(i){if(i.tag===13){var r=lo(i,67108864);r!==null&&On(r,i,67108864),Op(i,67108864)}}var nf=!0;function B2(i,r,o,u){var d=W.T;W.T=null;var g=ae.p;try{ae.p=2,Mp(i,r,o,u)}finally{ae.p=g,W.T=d}}function z2(i,r,o,u){var d=W.T;W.T=null;var g=ae.p;try{ae.p=8,Mp(i,r,o,u)}finally{ae.p=g,W.T=d}}function Mp(i,r,o,u){if(nf){var d=Vp(u);if(d===null)Tp(i,r,u,sf,o),fT(i,u);else if(q2(d,i,r,o,u))u.stopPropagation();else if(fT(i,u),r&4&&-1<F2.indexOf(i)){for(;d!==null;){var g=yi(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=ti(g.pendingLanes);if(E!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var N=1<<31-sn(E);S.entanglements[1]|=N,E&=~N}Di(g),($e&6)===0&&(Bh=kn()+500,mu(0))}}break;case 13:S=lo(g,2),S!==null&&On(S,g,2),Fh(),Op(g,2)}if(g=Vp(u),g===null&&Tp(i,r,u,sf,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else Tp(i,r,u,null,o)}}function Vp(i){return i=jn(i),kp(i)}var sf=null;function kp(i){if(sf=null,i=Qi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return sf=i,null}function hT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jd()){case _l:return 2;case za:return 8;case Ur:case Bd:return 32;case Fa:return 268435456;default:return 32}default:return 32}}var Lp=!1,ir=null,sr=null,rr=null,Eu=new Map,wu=new Map,ar=[],F2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fT(i,r){switch(i){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":Eu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":wu.delete(r.pointerId)}}function Su(i,r,o,u,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},r!==null&&(r=yi(r),r!==null&&cT(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),i)}function q2(i,r,o,u,d){switch(r){case"focusin":return ir=Su(ir,i,r,o,u,d),!0;case"dragenter":return sr=Su(sr,i,r,o,u,d),!0;case"mouseover":return rr=Su(rr,i,r,o,u,d),!0;case"pointerover":var g=d.pointerId;return Eu.set(g,Su(Eu.get(g)||null,i,r,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,wu.set(g,Su(wu.get(g)||null,i,r,o,u,d)),!0}return!1}function dT(i){var r=Qi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,Fc(i.priority,function(){if(o.tag===13){var u=Pn();u=Ms(u);var d=lo(o,u);d!==null&&On(d,o,u),Op(o,u)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function rf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Vp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);es=u,o.target.dispatchEvent(u),es=null}else return r=yi(o),r!==null&&cT(r),i.blockedOn=o,!1;r.shift()}return!0}function mT(i,r,o){rf(i)&&o.delete(r)}function H2(){Lp=!1,ir!==null&&rf(ir)&&(ir=null),sr!==null&&rf(sr)&&(sr=null),rr!==null&&rf(rr)&&(rr=null),Eu.forEach(mT),wu.forEach(mT)}function af(i,r){i.blockedOn===r&&(i.blockedOn=null,Lp||(Lp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,H2)))}var of=null;function pT(i){of!==i&&(of=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){of===i&&(of=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],d=i[r+2];if(typeof u!="function"){if(kp(u||o)===null)continue;break}var g=yi(o);g!==null&&(i.splice(r,3),r-=3,km(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function Au(i){function r(N){return af(N,i)}ir!==null&&af(ir,i),sr!==null&&af(sr,i),rr!==null&&af(rr,i),Eu.forEach(r),wu.forEach(r);for(var o=0;o<ar.length;o++){var u=ar[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<ar.length&&(o=ar[0],o.blockedOn===null);)dT(o),o.blockedOn===null&&ar.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],E=d[At]||null;if(typeof g=="function")E||pT(o);else if(E){var S=null;if(g&&g.hasAttribute("formAction")){if(d=g,E=g[At]||null)S=E.formAction;else if(kp(d)!==null)continue}else S=E.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),pT(o)}}}function Up(i){this._internalRoot=i}lf.prototype.render=Up.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Pn();lT(o,u,i,r,null,null)},lf.prototype.unmount=Up.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;lT(i.current,2,null,i,null,null),Fh(),r[Ln]=null}};function lf(i){this._internalRoot=i}lf.prototype.unstable_scheduleHydration=function(i){if(i){var r=Vs();i={blockedOn:null,target:i,priority:r};for(var o=0;o<ar.length&&r!==0&&r<ar[o].priority;o++);ar.splice(o,0,i),o===0&&dT(i)}};var gT=e.version;if(gT!=="19.1.0")throw Error(s(527,gT,"19.1.0"));ae.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var G2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uf.isDisabled&&uf.supportsFiber)try{pt=uf.inject(G2),Ke=uf}catch{}}return Ru.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",d=P0,g=O0,E=M0,S=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=aT(i,1,!1,null,null,o,u,d,g,E,S,null),i[Ln]=r.current,bp(i),new Up(r)},Ru.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,d="",g=P0,E=O0,S=M0,N=null,$=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(N=o.unstable_transitionCallbacks),o.formState!==void 0&&($=o.formState)),r=aT(i,1,!0,r,o??null,u,d,g,E,S,N,$),r.context=oT(null),o=r.current,u=Pn(),u=Ms(u),d=qs(u),d.callback=null,Hs(o,d,u),o=u,r.current.lanes=o,Xi(r,o),Di(r),i[Ln]=r.current,bp(i),new lf(r)},Ru.version="19.1.0",Ru}var xT;function tI(){if(xT)return zp.exports;xT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zp.exports=eI(),zp.exports}var nI=tI();/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sI=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),RT=t=>{const e=sI(t);return e.charAt(0).toUpperCase()+e.slice(1)},CS=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),rI=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...f},m)=>k.createElement("svg",{ref:m,...aI,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:CS("lucide",a),...!l&&!rI(f)&&{"aria-hidden":"true"},...f},[...c.map(([p,y])=>k.createElement(p,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=(t,e)=>{const n=k.forwardRef(({className:s,...a},l)=>k.createElement(oI,{ref:l,iconNode:e,className:CS(`lucide-${iI(RT(t))}`,`lucide-${t}`,s),...a}));return n.displayName=RT(t),n};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],uI=vn("arrow-up",lI);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ju=vn("book-open",cI);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],fI=vn("circle-check-big",hI);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],mI=vn("circle-plus",dI);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],gI=vn("clock",pI);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],IS=vn("credit-card",yI);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],_I=vn("mail",vI);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],TI=vn("map-pin",bI);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],wI=vn("menu",EI);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],AI=vn("phone",SI);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],NS=vn("repeat",xI);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],DS=vn("share-2",RI);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],PS=vn("star",CI);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],OS=vn("user-plus",II);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],DI=vn("x",NI),vy=k.createContext({});function _y(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const by=typeof window<"u",MS=by?k.useLayoutEffect:k.useEffect,fd=k.createContext(null);function Ty(t,e){t.indexOf(e)===-1&&t.push(e)}function Ey(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const As=(t,e,n)=>n>e?e:n<t?t:n;let wy=()=>{};const xs={},VS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function kS(t){return typeof t=="object"&&t!==null}const LS=t=>/^0[^.\s]+$/u.test(t);function Sy(t){let e;return()=>(e===void 0&&(e=t()),e)}const ei=t=>t,PI=(t,e)=>n=>e(t(n)),yc=(...t)=>t.reduce(PI),Zu=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Ay{constructor(){this.subscriptions=[]}add(e){return Ty(this.subscriptions,e),()=>Ey(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Mi=t=>t*1e3,Vi=t=>t/1e3;function US(t,e){return e?t*(1e3/e):0}const jS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,OI=1e-7,MI=12;function VI(t,e,n,s,a){let l,c,f=0;do c=e+(n-e)/2,l=jS(c,s,a)-t,l>0?n=c:e=c;while(Math.abs(l)>OI&&++f<MI);return c}function vc(t,e,n,s){if(t===e&&n===s)return ei;const a=l=>VI(l,0,1,t,n);return l=>l===0||l===1?l:jS(a(l),e,s)}const BS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,zS=t=>e=>1-t(1-e),FS=vc(.33,1.53,.69,.99),xy=zS(FS),qS=BS(xy),HS=t=>(t*=2)<1?.5*xy(t):.5*(2-Math.pow(2,-10*(t-1))),Ry=t=>1-Math.sin(Math.acos(t)),GS=zS(Ry),KS=BS(Ry),kI=vc(.42,0,1,1),LI=vc(0,0,.58,1),$S=vc(.42,0,.58,1),UI=t=>Array.isArray(t)&&typeof t[0]!="number",YS=t=>Array.isArray(t)&&typeof t[0]=="number",jI={linear:ei,easeIn:kI,easeInOut:$S,easeOut:LI,circIn:Ry,circInOut:KS,circOut:GS,backIn:xy,backInOut:qS,backOut:FS,anticipate:HS},BI=t=>typeof t=="string",CT=t=>{if(YS(t)){wy(t.length===4);const[e,n,s,a]=t;return vc(e,n,s,a)}else if(BI(t))return jI[t];return t},cf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],IT={value:null};function zI(t,e){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1},m=0;function p(_){c.has(_)&&(y.schedule(_),t()),m++,_(f)}const y={schedule:(_,b=!1,A=!1)=>{const M=A&&a?n:s;return b&&c.add(_),M.has(_)||M.add(_),_},cancel:_=>{s.delete(_),c.delete(_)},process:_=>{if(f=_,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(p),e&&IT.value&&IT.value.frameloop[e].push(m),m=0,n.clear(),a=!1,l&&(l=!1,y.process(_))}};return y}const FI=40;function XS(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=cf.reduce((q,se)=>(q[se]=zI(l,e?se:void 0),q),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:y,update:_,preRender:b,render:A,postRender:C}=c,M=()=>{const q=xs.useManualTiming?a.timestamp:performance.now();n=!1,xs.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(q-a.timestamp,FI),1)),a.timestamp=q,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),y.process(a),_.process(a),b.process(a),A.process(a),C.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(M))},D=()=>{n=!0,s=!0,a.isProcessing||t(M)};return{schedule:cf.reduce((q,se)=>{const J=c[se];return q[se]=(le,P=!1,R=!1)=>(n||D(),J.schedule(le,P,R)),q},{}),cancel:q=>{for(let se=0;se<cf.length;se++)c[cf[se]].cancel(q)},state:a,steps:c}}const{schedule:ft,cancel:br,state:Jt,steps:Gp}=XS(typeof requestAnimationFrame<"u"?requestAnimationFrame:ei,!0);let wf;function qI(){wf=void 0}const Sn={now:()=>(wf===void 0&&Sn.set(Jt.isProcessing||xs.useManualTiming?Jt.timestamp:performance.now()),wf),set:t=>{wf=t,queueMicrotask(qI)}},QS=t=>e=>typeof e=="string"&&e.startsWith(t),Cy=QS("--"),HI=QS("var(--"),Iy=t=>HI(t)?GI.test(t.split("/*")[0].trim()):!1,GI=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,rl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ju={...rl,transform:t=>As(0,1,t)},hf={...rl,default:1},Bu=t=>Math.round(t*1e5)/1e5,Ny=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function KI(t){return t==null}const $I=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Dy=(t,e)=>n=>!!(typeof n=="string"&&$I.test(n)&&n.startsWith(t)||e&&!KI(n)&&Object.prototype.hasOwnProperty.call(n,e)),WS=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,f]=s.match(Ny);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},YI=t=>As(0,255,t),Kp={...rl,transform:t=>Math.round(YI(t))},Ta={test:Dy("rgb","red"),parse:WS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Kp.transform(t)+", "+Kp.transform(e)+", "+Kp.transform(n)+", "+Bu(Ju.transform(s))+")"};function XI(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Eg={test:Dy("#"),parse:XI,transform:Ta.transform},_c=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ur=_c("deg"),ki=_c("%"),we=_c("px"),QI=_c("vh"),WI=_c("vw"),NT={...ki,parse:t=>ki.parse(t)/100,transform:t=>ki.transform(t*100)},Bo={test:Dy("hsl","hue"),parse:WS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+ki.transform(Bu(e))+", "+ki.transform(Bu(n))+", "+Bu(Ju.transform(s))+")"},Nt={test:t=>Ta.test(t)||Eg.test(t)||Bo.test(t),parse:t=>Ta.test(t)?Ta.parse(t):Bo.test(t)?Bo.parse(t):Eg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ta.transform(t):Bo.transform(t),getAnimatableNone:t=>{const e=Nt.parse(t);return e.alpha=0,Nt.transform(e)}},ZI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function JI(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Ny))==null?void 0:e.length)||0)+(((n=t.match(ZI))==null?void 0:n.length)||0)>0}const ZS="number",JS="color",eN="var",tN="var(",DT="${}",nN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ec(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(nN,m=>(Nt.test(m)?(s.color.push(l),a.push(JS),n.push(Nt.parse(m))):m.startsWith(tN)?(s.var.push(l),a.push(eN),n.push(m)):(s.number.push(l),a.push(ZS),n.push(parseFloat(m))),++l,DT)).split(DT);return{values:n,split:f,indexes:s,types:a}}function eA(t){return ec(t).values}function tA(t){const{split:e,types:n}=ec(t),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const f=n[c];f===ZS?l+=Bu(a[c]):f===JS?l+=Nt.transform(a[c]):l+=a[c]}return l}}const iN=t=>typeof t=="number"?0:Nt.test(t)?Nt.getAnimatableNone(t):t;function sN(t){const e=eA(t);return tA(t)(e.map(iN))}const Tr={test:JI,parse:eA,createTransformer:tA,getAnimatableNone:sN};function $p(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function rN({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const f=n<.5?n*(1+e):n+e-n*e,m=2*n-f;a=$p(m,f,t+1/3),l=$p(m,f,t),c=$p(m,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function jf(t,e){return n=>n>0?e:t}const ht=(t,e,n)=>t+(e-t)*n,Yp=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},aN=[Eg,Ta,Bo],oN=t=>aN.find(e=>e.test(t));function PT(t){const e=oN(t);if(!e)return!1;let n=e.parse(t);return e===Bo&&(n=rN(n)),n}const OT=(t,e)=>{const n=PT(t),s=PT(e);if(!n||!s)return jf(t,e);const a={...n};return l=>(a.red=Yp(n.red,s.red,l),a.green=Yp(n.green,s.green,l),a.blue=Yp(n.blue,s.blue,l),a.alpha=ht(n.alpha,s.alpha,l),Ta.transform(a))},wg=new Set(["none","hidden"]);function lN(t,e){return wg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function uN(t,e){return n=>ht(t,e,n)}function Py(t){return typeof t=="number"?uN:typeof t=="string"?Iy(t)?jf:Nt.test(t)?OT:fN:Array.isArray(t)?nA:typeof t=="object"?Nt.test(t)?OT:cN:jf}function nA(t,e){const n=[...t],s=n.length,a=t.map((l,c)=>Py(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function cN(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=Py(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function hN(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],f=t.values[c]??0;n[a]=f,s[l]++}return n}const fN=(t,e)=>{const n=Tr.createTransformer(e),s=ec(t),a=ec(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?wg.has(t)&&!a.values.length||wg.has(e)&&!s.values.length?lN(t,e):yc(nA(hN(s,a),a.values),n):jf(t,e)};function iA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ht(t,e,n):Py(t)(t,e)}const dN=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ft.update(e,n),stop:()=>br(e),now:()=>Jt.isProcessing?Jt.timestamp:Sn.now()}},sA=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Bf=2e4;function Oy(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Bf;)e+=n,s=t.next(e);return e>=Bf?1/0:e}function mN(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(Oy(s),Bf);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:Vi(a)}}const pN=5;function rA(t,e,n){const s=Math.max(e-pN,0);return US(n-t(s),e-s)}const vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},MT=.001;function gN({duration:t=vt.duration,bounce:e=vt.bounce,velocity:n=vt.velocity,mass:s=vt.mass}){let a,l,c=1-e;c=As(vt.minDamping,vt.maxDamping,c),t=As(vt.minDuration,vt.maxDuration,Vi(t)),c<1?(a=p=>{const y=p*c,_=y*t,b=y-n,A=Sg(p,c),C=Math.exp(-_);return MT-b/A*C},l=p=>{const _=p*c*t,b=_*n+n,A=Math.pow(c,2)*Math.pow(p,2)*t,C=Math.exp(-_),M=Sg(Math.pow(p,2),c);return(-a(p)+MT>0?-1:1)*((b-A)*C)/M}):(a=p=>{const y=Math.exp(-p*t),_=(p-n)*t+1;return-.001+y*_},l=p=>{const y=Math.exp(-p*t),_=(n-p)*(t*t);return y*_});const f=5/t,m=vN(a,l,f);if(t=Mi(t),isNaN(m))return{stiffness:vt.stiffness,damping:vt.damping,duration:t};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:t}}}const yN=12;function vN(t,e,n){let s=n;for(let a=1;a<yN;a++)s=s-t(s)/e(s);return s}function Sg(t,e){return t*Math.sqrt(1-e*e)}const _N=["duration","bounce"],bN=["stiffness","damping","mass"];function VT(t,e){return e.some(n=>t[n]!==void 0)}function TN(t){let e={velocity:vt.velocity,stiffness:vt.stiffness,damping:vt.damping,mass:vt.mass,isResolvedFromDuration:!1,...t};if(!VT(t,bN)&&VT(t,_N))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*As(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:vt.mass,stiffness:a,damping:l}}else{const n=gN(t);e={...e,...n,mass:vt.mass},e.isResolvedFromDuration=!0}return e}function zf(t=vt.visualDuration,e=vt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:_,velocity:b,isResolvedFromDuration:A}=TN({...n,velocity:-Vi(n.velocity||0)}),C=b||0,M=p/(2*Math.sqrt(m*y)),D=c-l,U=Vi(Math.sqrt(m/y)),G=Math.abs(D)<5;s||(s=G?vt.restSpeed.granular:vt.restSpeed.default),a||(a=G?vt.restDelta.granular:vt.restDelta.default);let q;if(M<1){const J=Sg(U,M);q=le=>{const P=Math.exp(-M*U*le);return c-P*((C+M*U*D)/J*Math.sin(J*le)+D*Math.cos(J*le))}}else if(M===1)q=J=>c-Math.exp(-U*J)*(D+(C+U*D)*J);else{const J=U*Math.sqrt(M*M-1);q=le=>{const P=Math.exp(-M*U*le),R=Math.min(J*le,300);return c-P*((C+M*U*D)*Math.sinh(R)+J*D*Math.cosh(R))/J}}const se={calculatedDuration:A&&_||null,next:J=>{const le=q(J);if(A)f.done=J>=_;else{let P=J===0?C:0;M<1&&(P=J===0?Mi(C):rA(q,J,le));const R=Math.abs(P)<=s,I=Math.abs(c-le)<=a;f.done=R&&I}return f.value=f.done?c:le,f},toString:()=>{const J=Math.min(Oy(se),Bf),le=sA(P=>se.next(J*P).value,J,30);return J+"ms "+le},toTransition:()=>{}};return se}zf.applyToOptions=t=>{const e=mN(t,100,zf);return t.ease=e.ease,t.duration=Mi(e.duration),t.type="keyframes",t};function Ag({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:m,restDelta:p=.5,restSpeed:y}){const _=t[0],b={done:!1,value:_},A=R=>f!==void 0&&R<f||m!==void 0&&R>m,C=R=>f===void 0?m:m===void 0||Math.abs(f-R)<Math.abs(m-R)?f:m;let M=n*e;const D=_+M,U=c===void 0?D:c(D);U!==D&&(M=U-_);const G=R=>-M*Math.exp(-R/s),q=R=>U+G(R),se=R=>{const I=G(R),V=q(R);b.done=Math.abs(I)<=p,b.value=b.done?U:V};let J,le;const P=R=>{A(b.value)&&(J=R,le=zf({keyframes:[b.value,C(b.value)],velocity:rA(q,R,b.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return P(0),{calculatedDuration:null,next:R=>{let I=!1;return!le&&J===void 0&&(I=!0,se(R),P(R)),J!==void 0&&R>=J?le.next(R-J):(!I&&se(R),b)}}}function EN(t,e,n){const s=[],a=n||xs.mix||iA,l=t.length-1;for(let c=0;c<l;c++){let f=a(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||ei:e;f=yc(m,f)}s.push(f)}return s}function wN(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(wy(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=EN(e,s,a),m=f.length,p=y=>{if(c&&y<t[0])return e[0];let _=0;if(m>1)for(;_<t.length-2&&!(y<t[_+1]);_++);const b=Zu(t[_],t[_+1],y);return f[_](b)};return n?y=>p(As(t[0],t[l-1],y)):p}function SN(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=Zu(0,e,s);t.push(ht(n,1,a))}}function AN(t){const e=[0];return SN(e,t.length-1),e}function xN(t,e){return t.map(n=>n*e)}function RN(t,e){return t.map(()=>e||$S).splice(0,t.length-1)}function zu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=UI(s)?s.map(CT):CT(s),l={done:!1,value:e[0]},c=xN(n&&n.length===e.length?n:AN(e),t),f=wN(c,e,{ease:Array.isArray(a)?a:RN(e,a)});return{calculatedDuration:t,next:m=>(l.value=f(m),l.done=m>=t,l)}}const CN=t=>t!==null;function My(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(CN),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||s===void 0?l[f]:s}const IN={decay:Ag,inertia:Ag,tween:zu,keyframes:zu,spring:zf};function aA(t){typeof t.type=="string"&&(t.type=IN[t.type])}class Vy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const NN=t=>t/100;class ky extends Vy{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,a;const{motionValue:n}=this.options;n&&n.updatedAt!==Sn.now()&&this.tick(Sn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(s=this.options).onStop)==null||a.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;aA(e);const{type:n=zu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:f}=e;const m=n||zu;m!==zu&&typeof f[0]!="number"&&(this.mixKeyframes=yc(NN,iA(f[0],f[1])),f=[0,100]);const p=m({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...f].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=Oy(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:_,repeatType:b,repeatDelay:A,type:C,onUpdate:M,finalKeyframe:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const U=this.currentTime-p*(this.playbackSpeed>=0?1:-1),G=this.playbackSpeed>=0?U<0:U>a;this.currentTime=Math.max(U,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let q=this.currentTime,se=s;if(_){const R=Math.min(this.currentTime,a)/f;let I=Math.floor(R),V=R%1;!V&&R>=1&&(V=1),V===1&&I--,I=Math.min(I,_+1),!!(I%2)&&(b==="reverse"?(V=1-V,A&&(V-=A/f)):b==="mirror"&&(se=c)),q=As(0,1,V)*f}const J=G?{done:!1,value:y[0]}:se.next(q);l&&(J.value=l(J.value));let{done:le}=J;!G&&m!==null&&(le=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&le);return P&&C!==Ag&&(J.value=My(y,this.options,D,this.speed)),M&&M(J.value),P&&this.finish(),J}then(e,n){return this.finished.then(e,n)}get duration(){return Vi(this.calculatedDuration)}get time(){return Vi(this.currentTime)}set time(e){var n;e=Mi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Sn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Vi(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:e=dN,startTime:n}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(l=(a=this.options).onPlay)==null||l.call(a);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Sn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function DN(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ea=t=>t*180/Math.PI,xg=t=>{const e=Ea(Math.atan2(t[1],t[0]));return Rg(e)},PN={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:xg,rotateZ:xg,skewX:t=>Ea(Math.atan(t[1])),skewY:t=>Ea(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Rg=t=>(t=t%360,t<0&&(t+=360),t),kT=xg,LT=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),UT=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),ON={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:LT,scaleY:UT,scale:t=>(LT(t)+UT(t))/2,rotateX:t=>Rg(Ea(Math.atan2(t[6],t[5]))),rotateY:t=>Rg(Ea(Math.atan2(-t[2],t[0]))),rotateZ:kT,rotate:kT,skewX:t=>Ea(Math.atan(t[4])),skewY:t=>Ea(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Cg(t){return t.includes("scale")?1:0}function Ig(t,e){if(!t||t==="none")return Cg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=ON,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=PN,a=f}if(!a)return Cg(e);const l=s[e],c=a[1].split(",").map(VN);return typeof l=="function"?l(c):c[l]}const MN=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Ig(n,e)};function VN(t){return parseFloat(t.trim())}const al=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ol=new Set(al),jT=t=>t===rl||t===we,kN=new Set(["x","y","z"]),LN=al.filter(t=>!kN.has(t));function UN(t){const e=[];return LN.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Sa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Ig(e,"x"),y:(t,{transform:e})=>Ig(e,"y")};Sa.translateX=Sa.x;Sa.translateY=Sa.y;const Aa=new Set;let Ng=!1,Dg=!1,Pg=!1;function oA(){if(Dg){const t=Array.from(Aa).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=UN(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{var f;(f=s.getValue(l))==null||f.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Dg=!1,Ng=!1,Aa.forEach(t=>t.complete(Pg)),Aa.clear()}function lA(){Aa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Dg=!0)})}function jN(){Pg=!0,lA(),oA(),Pg=!1}class Ly{constructor(e,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Aa.add(this),Ng||(Ng=!0,ft.read(lA),ft.resolveKeyframes(oA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a==null?void 0:a.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const f=s.readValue(n,c);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}DN(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Aa.delete(this)}cancel(){this.state==="scheduled"&&(Aa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const BN=t=>t.startsWith("--");function zN(t,e,n){BN(e)?t.style.setProperty(e,n):t.style[e]=n}const FN=Sy(()=>window.ScrollTimeline!==void 0),qN={};function HN(t,e){const n=Sy(t);return()=>qN[e]??n()}const uA=HN(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Pu=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,BT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Pu([0,.65,.55,1]),circOut:Pu([.55,0,1,.45]),backIn:Pu([.31,.01,.66,-.59]),backOut:Pu([.33,1.53,.69,.99])};function cA(t,e){if(t)return typeof t=="function"?uA()?sA(t,e):"ease-out":YS(t)?Pu(t):Array.isArray(t)?t.map(n=>cA(n,e)||BT.easeOut):BT[t]}function GN(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeOut",times:m}={},p=void 0){const y={[e]:n};m&&(y.offset=m);const _=cA(f,a);Array.isArray(_)&&(y.easing=_);const b={delay:s,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(b.pseudoElement=p),t.animate(y,b)}function hA(t){return typeof t=="function"&&"applyToOptions"in t}function KN({type:t,...e}){return hA(t)&&uA()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class $N extends Vy{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:f,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,wy(typeof e.type!="string");const p=KN(e);this.animation=GN(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=My(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):zN(n,s,y),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return Vi(Number(e))}get time(){return Vi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Mi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&FN()?(this.animation.timeline=e,ei):n(this)}}const fA={anticipate:HS,backInOut:qS,circInOut:KS};function YN(t){return t in fA}function XN(t){typeof t.ease=="string"&&YN(t.ease)&&(t.ease=fA[t.ease])}const zT=10;class QN extends $N{constructor(e){XN(e),aA(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new ky({...c,autoplay:!1}),m=Mi(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-zT).value,f.sample(m).value,zT),f.stop()}}const FT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Tr.test(t)||t==="0")&&!t.startsWith("url("));function WN(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function ZN(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=FT(a,e),f=FT(l,e);return!c||!f?!1:WN(t)||(n==="spring"||hA(n))&&s}function Uy(t){return kS(t)&&"offsetHeight"in t}const JN=new Set(["opacity","clipPath","filter","transform"]),eD=Sy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function tD(t){var p;const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!Uy((p=e==null?void 0:e.owner)==null?void 0:p.current))return!1;const{onUpdate:f,transformTemplate:m}=e.owner.getProps();return eD()&&n&&JN.has(n)&&(n!=="transform"||!m)&&!f&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const nD=40;class iD extends Vy{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:f,name:m,motionValue:p,element:y,..._}){var C;super(),this.stop=()=>{var M,D;this._animation&&(this._animation.stop(),(M=this.stopTimeline)==null||M.call(this)),(D=this.keyframeResolver)==null||D.cancel()},this.createdAt=Sn.now();const b={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:y,..._},A=(y==null?void 0:y.KeyframeResolver)||Ly;this.keyframeResolver=new A(f,(M,D,U)=>this.onKeyframesResolved(M,D,b,!U),m,p,y),(C=this.keyframeResolver)==null||C.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:f,delay:m,isHandoff:p,onUpdate:y}=s;this.resolvedAt=Sn.now(),ZN(e,l,c,f)||((xs.instantAnimations||!m)&&(y==null||y(My(e,s,n))),e[0]=e[e.length-1],s.duration=0,s.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>nD?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},A=!p&&tD(b)?new QN({...b,element:b.motionValue.owner.current}):new ky(b);A.finished.then(()=>this.notifyFinished()).catch(ei),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),jN()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const sD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function rD(t){const e=sD.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function dA(t,e,n=1){const[s,a]=rD(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return VS(c)?parseFloat(c):c}return Iy(a)?dA(a,e,n+1):a}function jy(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const mA=new Set(["width","height","top","left","right","bottom",...al]),aD={test:t=>t==="auto",parse:t=>t},pA=t=>e=>e.test(t),gA=[rl,we,ki,ur,WI,QI,aD],qT=t=>gA.find(pA(t));function oD(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||LS(t):!0}const lD=new Set(["brightness","contrast","saturate","opacity"]);function uD(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Ny)||[];if(!s)return t;const a=n.replace(s,"");let l=lD.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const cD=/\b([a-z-]*)\(.*?\)/gu,Og={...Tr,getAnimatableNone:t=>{const e=t.match(cD);return e?e.map(uD).join(" "):t}},HT={...rl,transform:Math.round},hD={rotate:ur,rotateX:ur,rotateY:ur,rotateZ:ur,scale:hf,scaleX:hf,scaleY:hf,scaleZ:hf,skew:ur,skewX:ur,skewY:ur,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:Ju,originX:NT,originY:NT,originZ:we},By={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we,...hD,zIndex:HT,fillOpacity:Ju,strokeOpacity:Ju,numOctaves:HT},fD={...By,color:Nt,backgroundColor:Nt,outlineColor:Nt,fill:Nt,stroke:Nt,borderColor:Nt,borderTopColor:Nt,borderRightColor:Nt,borderBottomColor:Nt,borderLeftColor:Nt,filter:Og,WebkitFilter:Og},yA=t=>fD[t];function vA(t,e){let n=yA(t);return n!==Og&&(n=Tr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const dD=new Set(["auto","none","0"]);function mD(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!dD.has(l)&&ec(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=vA(n,a)}class pD extends Ly{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let p=e[m];if(typeof p=="string"&&(p=p.trim(),Iy(p))){const y=dA(p,n.current);y!==void 0&&(e[m]=y),m===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!mA.has(s)||e.length!==2)return;const[a,l]=e,c=qT(a),f=qT(l);if(c!==f)if(jT(c)&&jT(f))for(let m=0;m<e.length;m++){const p=e[m];typeof p=="string"&&(e[m]=parseFloat(p))}else Sa[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||oD(e[a]))&&s.push(a);s.length&&mD(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Sa[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){var f;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Sa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([m,p])=>{e.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function gD(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=(n==null?void 0:n[t])??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const _A=(t,e)=>e&&typeof t=="number"?e.transform(t):t,GT=30,yD=t=>!isNaN(parseFloat(t));class vD{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,a=!0)=>{var c,f;const l=Sn.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const m of this.dependents)m.dirty();a&&((f=this.events.renderRequest)==null||f.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Sn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=yD(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Ay);const s=this.events[e].add(n);return e==="change"?()=>{s(),ft.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Sn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>GT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,GT);return US(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wo(t,e){return new vD(t,e)}const{schedule:zy}=XS(queueMicrotask,!1),oi={x:!1,y:!1};function bA(){return oi.x||oi.y}function _D(t){return t==="x"||t==="y"?oi[t]?null:(oi[t]=!0,()=>{oi[t]=!1}):oi.x||oi.y?null:(oi.x=oi.y=!0,()=>{oi.x=oi.y=!1})}function TA(t,e){const n=gD(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function KT(t){return!(t.pointerType==="touch"||bA())}function bD(t,e,n={}){const[s,a,l]=TA(t,n),c=f=>{if(!KT(f))return;const{target:m}=f,p=e(m,f);if(typeof p!="function"||!m)return;const y=_=>{KT(_)&&(p(_),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return s.forEach(f=>{f.addEventListener("pointerenter",c,a)}),l}const EA=(t,e)=>e?t===e?!0:EA(t,e.parentElement):!1,Fy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,TD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ED(t){return TD.has(t.tagName)||t.tabIndex!==-1}const Sf=new WeakSet;function $T(t){return e=>{e.key==="Enter"&&t(e)}}function Xp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const wD=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=$T(()=>{if(Sf.has(n))return;Xp(n,"down");const a=$T(()=>{Xp(n,"up")}),l=()=>Xp(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function YT(t){return Fy(t)&&!bA()}function SD(t,e,n={}){const[s,a,l]=TA(t,n),c=f=>{const m=f.currentTarget;if(!YT(f))return;Sf.add(m);const p=e(m,f),y=(A,C)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",b),Sf.has(m)&&Sf.delete(m),YT(A)&&typeof p=="function"&&p(A,{success:C})},_=A=>{y(A,m===window||m===document||n.useGlobalTarget||EA(m,A.target))},b=A=>{y(A,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",b,a)};return s.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),Uy(f)&&(f.addEventListener("focus",p=>wD(p,a)),!ED(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function wA(t){return kS(t)&&"ownerSVGElement"in t}function AD(t){return wA(t)&&t.tagName==="svg"}const cn=t=>!!(t&&t.getVelocity),xD=[...gA,Nt,Tr],RD=t=>xD.find(pA(t)),qy=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class CD extends k.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=Uy(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ID({children:t,isPresent:e,anchorX:n}){const s=k.useId(),a=k.useRef(null),l=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=k.useContext(qy);return k.useInsertionEffect(()=>{const{width:f,height:m,top:p,left:y,right:_}=l.current;if(e||!a.current||!f||!m)return;const b=n==="left"?`left: ${y}`:`right: ${_}`;a.current.dataset.motionPopId=s;const A=document.createElement("style");return c&&(A.nonce=c),document.head.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${m}px !important;
            ${b}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.contains(A)&&document.head.removeChild(A)}},[e]),w.jsx(CD,{isPresent:e,childRef:a,sizeRef:l,children:k.cloneElement(t,{ref:a})})}const ND=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:f})=>{const m=_y(DD),p=k.useId();let y=!0,_=k.useMemo(()=>(y=!1,{id:p,initial:e,isPresent:n,custom:a,onExitComplete:b=>{m.set(b,!0);for(const A of m.values())if(!A)return;s&&s()},register:b=>(m.set(b,!1),()=>m.delete(b))}),[n,m,s]);return l&&y&&(_={..._}),k.useMemo(()=>{m.forEach((b,A)=>m.set(A,!1))},[n]),k.useEffect(()=>{!n&&!m.size&&s&&s()},[n]),c==="popLayout"&&(t=w.jsx(ID,{isPresent:n,anchorX:f,children:t})),w.jsx(fd.Provider,{value:_,children:t})};function DD(){return new Map}function SA(t=!0){const e=k.useContext(fd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=k.useId();k.useEffect(()=>{if(t)return a(l)},[t]);const c=k.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const ff=t=>t.key||"";function XT(t){const e=[];return k.Children.forEach(t,n=>{k.isValidElement(n)&&e.push(n)}),e}const PD=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:f="left"})=>{const[m,p]=SA(c),y=k.useMemo(()=>XT(t),[t]),_=c&&!m?[]:y.map(ff),b=k.useRef(!0),A=k.useRef(y),C=_y(()=>new Map),[M,D]=k.useState(y),[U,G]=k.useState(y);MS(()=>{b.current=!1,A.current=y;for(let J=0;J<U.length;J++){const le=ff(U[J]);_.includes(le)?C.delete(le):C.get(le)!==!0&&C.set(le,!1)}},[U,_.length,_.join("-")]);const q=[];if(y!==M){let J=[...y];for(let le=0;le<U.length;le++){const P=U[le],R=ff(P);_.includes(R)||(J.splice(le,0,P),q.push(P))}return l==="wait"&&q.length&&(J=q),G(XT(J)),D(y),null}const{forceRender:se}=k.useContext(vy);return w.jsx(w.Fragment,{children:U.map(J=>{const le=ff(J),P=c&&!m?!1:y===U||_.includes(le),R=()=>{if(C.has(le))C.set(le,!0);else return;let I=!0;C.forEach(V=>{V||(I=!1)}),I&&(se==null||se(),G(A.current),c&&(p==null||p()),s&&s())};return w.jsx(ND,{isPresent:P,initial:!b.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,onExitComplete:P?void 0:R,anchorX:f,children:J},le)})})},AA=k.createContext({strict:!1}),QT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zo={};for(const t in QT)Zo[t]={isEnabled:e=>QT[t].some(n=>!!e[n])};function OD(t){for(const e in t)Zo[e]={...Zo[e],...t[e]}}const MD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ff(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||MD.has(t)}let xA=t=>!Ff(t);function VD(t){typeof t=="function"&&(xA=e=>e.startsWith("on")?!Ff(e):t(e))}try{VD(require("@emotion/is-prop-valid").default)}catch{}function kD(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(xA(a)||n===!0&&Ff(a)||!e&&!Ff(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}function LD(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const dd=k.createContext({});function md(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function tc(t){return typeof t=="string"||Array.isArray(t)}const Hy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Gy=["initial",...Hy];function pd(t){return md(t.animate)||Gy.some(e=>tc(t[e]))}function RA(t){return!!(pd(t)||t.variants)}function UD(t,e){if(pd(t)){const{initial:n,animate:s}=t;return{initial:n===!1||tc(n)?n:void 0,animate:tc(s)?s:void 0}}return t.inherit!==!1?e:{}}function jD(t){const{initial:e,animate:n}=UD(t,k.useContext(dd));return k.useMemo(()=>({initial:e,animate:n}),[WT(e),WT(n)])}function WT(t){return Array.isArray(t)?t.join(" "):t}const BD=Symbol.for("motionComponentSymbol");function zo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function zD(t,e,n){return k.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):zo(n)&&(n.current=s))},[e])}const Ky=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),FD="framerAppearId",CA="data-"+Ky(FD),IA=k.createContext({});function qD(t,e,n,s,a){var M,D;const{visualElement:l}=k.useContext(dd),c=k.useContext(AA),f=k.useContext(fd),m=k.useContext(qy).reducedMotion,p=k.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,_=k.useContext(IA);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&HD(p.current,n,a,_);const b=k.useRef(!1);k.useInsertionEffect(()=>{y&&b.current&&y.update(n,f)});const A=n[CA],C=k.useRef(!!A&&!((M=window.MotionHandoffIsComplete)!=null&&M.call(window,A))&&((D=window.MotionHasOptimisedAnimation)==null?void 0:D.call(window,A)));return MS(()=>{y&&(b.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),zy.render(y.render),C.current&&y.animationState&&y.animationState.animateChanges())}),k.useEffect(()=>{y&&(!C.current&&y.animationState&&y.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var U;(U=window.MotionHandoffMarkAsComplete)==null||U.call(window,A)}),C.current=!1))}),y}function HD(t,e,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:NA(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&zo(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:p})}function NA(t){if(t)return t.options.allowProjection!==!1?t.projection:NA(t.parent)}function GD({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:a}){t&&OD(t);function l(f,m){let p;const y={...k.useContext(qy),...f,layoutId:KD(f)},{isStatic:_}=y,b=jD(f),A=s(f,_);if(!_&&by){$D();const C=YD(y);p=C.MeasureLayout,b.visualElement=qD(a,A,y,e,C.ProjectionNode)}return w.jsxs(dd.Provider,{value:b,children:[p&&b.visualElement?w.jsx(p,{visualElement:b.visualElement,...y}):null,n(a,f,zD(A,b.visualElement,m),A,_,b.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const c=k.forwardRef(l);return c[BD]=a,c}function KD({layoutId:t}){const e=k.useContext(vy).id;return e&&t!==void 0?e+"-"+t:t}function $D(t,e){k.useContext(AA).strict}function YD(t){const{drag:e,layout:n}=Zo;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const nc={};function XD(t){for(const e in t)nc[e]=t[e],Cy(e)&&(nc[e].isCSSVariable=!0)}function DA(t,{layout:e,layoutId:n}){return ol.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!nc[t]||t==="opacity")}const QD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},WD=al.length;function ZD(t,e,n){let s="",a=!0;for(let l=0;l<WD;l++){const c=al[l],f=t[c];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(c.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const p=_A(f,By[c]);if(!m){a=!1;const y=QD[c]||c;s+=`${y}(${p}) `}n&&(e[c]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function $y(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let c=!1,f=!1;for(const m in e){const p=e[m];if(ol.has(m)){c=!0;continue}else if(Cy(m)){a[m]=p;continue}else{const y=_A(p,By[m]);m.startsWith("origin")?(f=!0,l[m]=y):s[m]=y}}if(e.transform||(c||n?s.transform=ZD(e,t.transform,n):s.transform&&(s.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${p} ${y}`}}const Yy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function PA(t,e,n){for(const s in e)!cn(e[s])&&!DA(s,n)&&(t[s]=e[s])}function JD({transformTemplate:t},e){return k.useMemo(()=>{const n=Yy();return $y(n,e,t),Object.assign({},n.vars,n.style)},[e])}function eP(t,e){const n=t.style||{},s={};return PA(s,n,t),Object.assign(s,JD(t,e)),s}function tP(t,e){const n={},s=eP(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const nP={offset:"stroke-dashoffset",array:"stroke-dasharray"},iP={offset:"strokeDashoffset",array:"strokeDasharray"};function sP(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?nP:iP;t[l.offset]=we.transform(-s);const c=we.transform(e),f=we.transform(n);t[l.array]=`${c} ${f}`}function OA(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...f},m,p,y){if($y(t,f,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:b}=t;_.transform&&(b.transform=_.transform,delete _.transform),(b.transform||_.transformOrigin)&&(b.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),b.transform&&(b.transformBox=(y==null?void 0:y.transformBox)??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),s!==void 0&&(_.scale=s),a!==void 0&&sP(_,a,l,c,!1)}const MA=()=>({...Yy(),attrs:{}}),VA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function rP(t,e,n,s){const a=k.useMemo(()=>{const l=MA();return OA(l,e,VA(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};PA(l,t.style,t),a.style={...l,...a.style}}return a}const aP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Xy(t){return typeof t!="string"||t.includes("-")?!1:!!(aP.indexOf(t)>-1||/[A-Z]/u.test(t))}function oP(t=!1){return(n,s,a,{latestValues:l},c)=>{const m=(Xy(n)?rP:tP)(s,l,c,n),p=kD(s,typeof n=="string",t),y=n!==k.Fragment?{...p,...m,ref:a}:{},{children:_}=s,b=k.useMemo(()=>cn(_)?_.get():_,[_]);return k.createElement(n,{...y,children:b})}}function ZT(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Qy(t,e,n,s){if(typeof e=="function"){const[a,l]=ZT(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=ZT(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Af(t){return cn(t)?t.get():t}function lP({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:uP(n,s,a,t),renderState:e()}}const kA=t=>(e,n)=>{const s=k.useContext(dd),a=k.useContext(fd),l=()=>lP(t,e,s,a);return n?l():_y(l)};function uP(t,e,n,s){const a={},l=s(t,{});for(const b in l)a[b]=Af(l[b]);let{initial:c,animate:f}=t;const m=pd(t),p=RA(t);e&&p&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?f:c;if(_&&typeof _!="boolean"&&!md(_)){const b=Array.isArray(_)?_:[_];for(let A=0;A<b.length;A++){const C=Qy(t,b[A]);if(C){const{transitionEnd:M,transition:D,...U}=C;for(const G in U){let q=U[G];if(Array.isArray(q)){const se=y?q.length-1:0;q=q[se]}q!==null&&(a[G]=q)}for(const G in M)a[G]=M[G]}}}return a}function Wy(t,e,n){var l;const{style:s}=t,a={};for(const c in s)(cn(s[c])||e.style&&cn(e.style[c])||DA(c,t)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(a[c]=s[c]);return a}const cP={useVisualState:kA({scrapeMotionValuesFromProps:Wy,createRenderState:Yy})};function LA(t,e,n){const s=Wy(t,e,n);for(const a in t)if(cn(t[a])||cn(e[a])){const l=al.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const hP={useVisualState:kA({scrapeMotionValuesFromProps:LA,createRenderState:MA})};function fP(t,e){return function(s,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...Xy(s)?hP:cP,preloadedFeatures:t,useRender:oP(a),createVisualElement:e,Component:s};return GD(c)}}function ic(t,e,n){const s=t.getProps();return Qy(s,e,n!==void 0?n:s.custom,t)}const Mg=t=>Array.isArray(t);function dP(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Wo(n))}function mP(t){return Mg(t)?t[t.length-1]||0:t}function pP(t,e){const n=ic(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const f=mP(l[c]);dP(t,c,f)}}function gP(t){return!!(cn(t)&&t.add)}function Vg(t,e){const n=t.getValue("willChange");if(gP(n))return n.add(e);if(!n&&xs.WillChange){const s=new xs.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function UA(t){return t.props[CA]}const yP=t=>t!==null;function vP(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(yP),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const _P={type:"spring",stiffness:500,damping:25,restSpeed:10},bP=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),TP={type:"keyframes",duration:.8},EP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},wP=(t,{keyframes:e})=>e.length>2?TP:ol.has(t)?t.startsWith("scale")?bP(e[1]):_P:EP;function SP({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const Zy=(t,e,n,s={},a,l)=>c=>{const f=jy(s,t)||{},m=f.delay||s.delay||0;let{elapsed:p=0}=s;p=p-Mi(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-p,onUpdate:b=>{e.set(b),f.onUpdate&&f.onUpdate(b)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};SP(f)||Object.assign(y,wP(t,y)),y.duration&&(y.duration=Mi(y.duration)),y.repeatDelay&&(y.repeatDelay=Mi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(_=!0)),(xs.instantAnimations||xs.skipAnimations)&&(_=!0,y.duration=0,y.delay=0),y.allowFlatten=!f.type&&!f.ease,_&&!l&&e.get()!==void 0){const b=vP(y.keyframes,f);if(b!==void 0){ft.update(()=>{y.onUpdate(b),y.onComplete()});return}}return f.isSync?new ky(y):new iD(y)};function AP({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function jA(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...f}=e;s&&(l=s);const m=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const y in f){const _=t.getValue(y,t.latestValues[y]??null),b=f[y];if(b===void 0||p&&AP(p,y))continue;const A={delay:n,...jy(l||{},y)},C=_.get();if(C!==void 0&&!_.isAnimating&&!Array.isArray(b)&&b===C&&!A.velocity)continue;let M=!1;if(window.MotionHandoffAnimation){const U=UA(t);if(U){const G=window.MotionHandoffAnimation(U,y,ft);G!==null&&(A.startTime=G,M=!0)}}Vg(t,y),_.start(Zy(y,_,b,t.shouldReduceMotion&&mA.has(y)?{type:!1}:A,t,M));const D=_.animation;D&&m.push(D)}return c&&Promise.all(m).then(()=>{ft.update(()=>{c&&pP(t,c)})}),m}function kg(t,e,n={}){var m;const s=ic(t,e,n.type==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(jA(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:_,staggerDirection:b}=a;return xP(t,e,y+p,_,b,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,y]=f==="beforeChildren"?[l,c]:[c,l];return p().then(()=>y())}else return Promise.all([l(),c(n.delay)])}function xP(t,e,n=0,s=0,a=1,l){const c=[],f=(t.variantChildren.size-1)*s,m=a===1?(p=0)=>p*s:(p=0)=>f-p*s;return Array.from(t.variantChildren).sort(RP).forEach((p,y)=>{p.notify("AnimationStart",e),c.push(kg(p,e,{...l,delay:n+m(y)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(c)}function RP(t,e){return t.sortNodePosition(e)}function CP(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>kg(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=kg(t,e,n);else{const a=typeof e=="function"?ic(t,e,n.custom):e;s=Promise.all(jA(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function BA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const IP=Gy.length;function zA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?zA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<IP;n++){const s=Gy[n],a=t.props[s];(tc(a)||a===!1)&&(e[s]=a)}return e}const NP=[...Hy].reverse(),DP=Hy.length;function PP(t){return e=>Promise.all(e.map(({animation:n,options:s})=>CP(t,n,s)))}function OP(t){let e=PP(t),n=JT(),s=!0;const a=m=>(p,y)=>{var b;const _=ic(t,y,m==="exit"?(b=t.presenceContext)==null?void 0:b.custom:void 0);if(_){const{transition:A,transitionEnd:C,...M}=_;p={...p,...M,...C}}return p};function l(m){e=m(t)}function c(m){const{props:p}=t,y=zA(t.parent)||{},_=[],b=new Set;let A={},C=1/0;for(let D=0;D<DP;D++){const U=NP[D],G=n[U],q=p[U]!==void 0?p[U]:y[U],se=tc(q),J=U===m?G.isActive:null;J===!1&&(C=D);let le=q===y[U]&&q!==p[U]&&se;if(le&&s&&t.manuallyAnimateOnMount&&(le=!1),G.protectedKeys={...A},!G.isActive&&J===null||!q&&!G.prevProp||md(q)||typeof q=="boolean")continue;const P=MP(G.prevProp,q);let R=P||U===m&&G.isActive&&!le&&se||D>C&&se,I=!1;const V=Array.isArray(q)?q:[q];let B=V.reduce(a(U),{});J===!1&&(B={});const{prevResolvedValues:F={}}=G,O={...F,...B},St=ae=>{R=!0,b.has(ae)&&(I=!0,b.delete(ae)),G.needsAnimating[ae]=!0;const de=t.getValue(ae);de&&(de.liveStyle=!1)};for(const ae in O){const de=B[ae],ke=F[ae];if(A.hasOwnProperty(ae))continue;let L=!1;Mg(de)&&Mg(ke)?L=!BA(de,ke):L=de!==ke,L?de!=null?St(ae):b.add(ae):de!==void 0&&b.has(ae)?St(ae):G.protectedKeys[ae]=!0}G.prevProp=q,G.prevResolvedValues=B,G.isActive&&(A={...A,...B}),s&&t.blockInitialAnimation&&(R=!1),R&&(!(le&&P)||I)&&_.push(...V.map(ae=>({animation:ae,options:{type:U}})))}if(b.size){const D={};if(typeof p.initial!="boolean"){const U=ic(t,Array.isArray(p.initial)?p.initial[0]:p.initial);U&&U.transition&&(D.transition=U.transition)}b.forEach(U=>{const G=t.getBaseTarget(U),q=t.getValue(U);q&&(q.liveStyle=!0),D[U]=G??null}),_.push({animation:D})}let M=!!_.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(M=!1),s=!1,M?e(_):Promise.resolve()}function f(m,p){var _;if(n[m].isActive===p)return Promise.resolve();(_=t.variantChildren)==null||_.forEach(b=>{var A;return(A=b.animationState)==null?void 0:A.setActive(m,p)}),n[m].isActive=p;const y=c(m);for(const b in n)n[b].protectedKeys={};return y}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=JT(),s=!0}}}function MP(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!BA(e,t):!1}function va(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function JT(){return{animate:va(!0),whileInView:va(),whileHover:va(),whileTap:va(),whileDrag:va(),whileFocus:va(),exit:va()}}class Nr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class VP extends Nr{constructor(e){super(e),e.animationState||(e.animationState=OP(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();md(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let kP=0;class LP extends Nr{constructor(){super(...arguments),this.id=kP++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const UP={animation:{Feature:VP},exit:{Feature:LP}};function sc(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function bc(t){return{point:{x:t.pageX,y:t.pageY}}}const jP=t=>e=>Fy(e)&&t(e,bc(e));function Fu(t,e,n,s){return sc(t,e,jP(n),s)}function FA({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function BP({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function zP(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}const qA=1e-4,FP=1-qA,qP=1+qA,HA=.01,HP=0-HA,GP=0+HA;function yn(t){return t.max-t.min}function KP(t,e,n){return Math.abs(t-e)<=n}function eE(t,e,n,s=.5){t.origin=s,t.originPoint=ht(e.min,e.max,t.origin),t.scale=yn(n)/yn(e),t.translate=ht(n.min,n.max,t.origin)-t.originPoint,(t.scale>=FP&&t.scale<=qP||isNaN(t.scale))&&(t.scale=1),(t.translate>=HP&&t.translate<=GP||isNaN(t.translate))&&(t.translate=0)}function qu(t,e,n,s){eE(t.x,e.x,n.x,s?s.originX:void 0),eE(t.y,e.y,n.y,s?s.originY:void 0)}function tE(t,e,n){t.min=n.min+e.min,t.max=t.min+yn(e)}function $P(t,e,n){tE(t.x,e.x,n.x),tE(t.y,e.y,n.y)}function nE(t,e,n){t.min=e.min-n.min,t.max=t.min+yn(e)}function Hu(t,e,n){nE(t.x,e.x,n.x),nE(t.y,e.y,n.y)}const iE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fo=()=>({x:iE(),y:iE()}),sE=()=>({min:0,max:0}),Et=()=>({x:sE(),y:sE()});function Wn(t){return[t("x"),t("y")]}function Qp(t){return t===void 0||t===1}function Lg({scale:t,scaleX:e,scaleY:n}){return!Qp(t)||!Qp(e)||!Qp(n)}function _a(t){return Lg(t)||GA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function GA(t){return rE(t.x)||rE(t.y)}function rE(t){return t&&t!=="0%"}function qf(t,e,n){const s=t-n,a=e*s;return n+a}function aE(t,e,n,s,a){return a!==void 0&&(t=qf(t,a,s)),qf(t,n,s)+e}function Ug(t,e=0,n=1,s,a){t.min=aE(t.min,e,n,s,a),t.max=aE(t.max,e,n,s,a)}function KA(t,{x:e,y:n}){Ug(t.x,e.translate,e.scale,e.originPoint),Ug(t.y,n.translate,n.scale,n.originPoint)}const oE=.999999999999,lE=1.0000000000001;function YP(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let f=0;f<a;f++){l=n[f],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Ho(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,KA(t,c)),s&&_a(l.latestValues)&&Ho(t,l.latestValues))}e.x<lE&&e.x>oE&&(e.x=1),e.y<lE&&e.y>oE&&(e.y=1)}function qo(t,e){t.min=t.min+e,t.max=t.max+e}function uE(t,e,n,s,a=.5){const l=ht(t.min,t.max,a);Ug(t,e,n,l,s)}function Ho(t,e){uE(t.x,e.x,e.scaleX,e.scale,e.originX),uE(t.y,e.y,e.scaleY,e.scale,e.originY)}function $A(t,e){return FA(zP(t.getBoundingClientRect(),e))}function XP(t,e,n){const s=$A(t,n),{scroll:a}=e;return a&&(qo(s.x,a.offset.x),qo(s.y,a.offset.y)),s}const YA=({current:t})=>t?t.ownerDocument.defaultView:null,cE=(t,e)=>Math.abs(t-e);function QP(t,e){const n=cE(t.x,e.x),s=cE(t.y,e.y);return Math.sqrt(n**2+s**2)}class XA{constructor(e,n,{transformPagePoint:s,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Zp(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,A=QP(_.offset,{x:0,y:0})>=3;if(!b&&!A)return;const{point:C}=_,{timestamp:M}=Jt;this.history.push({...C,timestamp:M});const{onStart:D,onMove:U}=this.handlers;b||(D&&D(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),U&&U(this.lastMoveEvent,_)},this.handlePointerMove=(_,b)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Wp(b,this.transformPagePoint),ft.update(this.updatePoint,!0)},this.handlePointerUp=(_,b)=>{this.end();const{onEnd:A,onSessionEnd:C,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=Zp(_.type==="pointercancel"?this.lastMoveEventInfo:Wp(b,this.transformPagePoint),this.history);this.startEvent&&A&&A(_,D),C&&C(_,D)},!Fy(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.contextWindow=a||window;const c=bc(e),f=Wp(c,this.transformPagePoint),{point:m}=f,{timestamp:p}=Jt;this.history=[{...m,timestamp:p}];const{onSessionStart:y}=n;y&&y(e,Zp(f,this.history)),this.removeListeners=yc(Fu(this.contextWindow,"pointermove",this.handlePointerMove),Fu(this.contextWindow,"pointerup",this.handlePointerUp),Fu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),br(this.updatePoint)}}function Wp(t,e){return e?{point:e(t.point)}:t}function hE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Zp({point:t},e){return{point:t,delta:hE(t,QA(e)),offset:hE(t,WP(e)),velocity:ZP(e,.1)}}function WP(t){return t[0]}function QA(t){return t[t.length-1]}function ZP(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=QA(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>Mi(e)));)n--;if(!s)return{x:0,y:0};const l=Vi(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function JP(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?ht(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?ht(n,t,s.max):Math.min(t,n)),t}function fE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function eO(t,{top:e,left:n,bottom:s,right:a}){return{x:fE(t.x,n,a),y:fE(t.y,e,s)}}function dE(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function tO(t,e){return{x:dE(t.x,e.x),y:dE(t.y,e.y)}}function nO(t,e){let n=.5;const s=yn(t),a=yn(e);return a>s?n=Zu(e.min,e.max-s,t.min):s>a&&(n=Zu(t.min,t.max-a,e.min)),As(0,1,n)}function iO(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const jg=.35;function sO(t=jg){return t===!1?t=0:t===!0&&(t=jg),{x:mE(t,"left","right"),y:mE(t,"top","bottom")}}function mE(t,e,n){return{min:pE(t,e),max:pE(t,n)}}function pE(t,e){return typeof t=="number"?t:t[e]||0}const rO=new WeakMap;class aO{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Et(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(bc(y).point)},l=(y,_)=>{const{drag:b,dragPropagation:A,onDragStart:C}=this.getProps();if(b&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_D(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Wn(D=>{let U=this.getAxisMotionValue(D).get()||0;if(ki.test(U)){const{projection:G}=this.visualElement;if(G&&G.layout){const q=G.layout.layoutBox[D];q&&(U=yn(q)*(parseFloat(U)/100))}}this.originPoint[D]=U}),C&&ft.postRender(()=>C(y,_)),Vg(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},c=(y,_)=>{const{dragPropagation:b,dragDirectionLock:A,onDirectionLock:C,onDrag:M}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:D}=_;if(A&&this.currentDirection===null){this.currentDirection=oO(D),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",_.point,D),this.updateAxis("y",_.point,D),this.visualElement.render(),M&&M(y,_)},f=(y,_)=>this.stop(y,_),m=()=>Wn(y=>{var _;return this.getAnimationState(y)==="paused"&&((_=this.getAxisMotionValue(y).animation)==null?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new XA(e,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:YA(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&ft.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!df(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=JP(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&zo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=eO(s.layoutBox,e):this.constraints=!1,this.elastic=sO(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Wn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=iO(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!zo(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=XP(s,a.root,this.visualElement.getTransformPagePoint());let c=tO(a.layout.layoutBox,l);if(n){const f=n(BP(c));this.hasMutatedConstraints=!!f,f&&(c=FA(f))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=Wn(y=>{if(!df(y,n,this.currentDirection))return;let _=m&&m[y]||{};c&&(_={min:0,max:0});const b=a?200:1e6,A=a?40:1e7,C={type:"inertia",velocity:s?e[y]:0,bounceStiffness:b,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,C)});return Promise.all(p).then(f)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Vg(this.visualElement,e),s.start(Zy(e,s,0,n,this.visualElement,!1))}stopAnimation(){Wn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Wn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Wn(n=>{const{drag:s}=this.getProps();if(!df(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[n];l.set(e[n]-ht(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!zo(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Wn(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const m=f.get();a[c]=nO({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Wn(c=>{if(!df(c,e,null))return;const f=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];f.set(ht(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;rO.set(this.visualElement,this);const e=this.visualElement.current,n=Fu(e,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();zo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ft.read(s);const c=sc(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(Wn(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=m[y].translate,_.set(_.get()+m[y].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=jg,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function df(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function oO(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class lO extends Nr{constructor(e){super(e),this.removeGroupControls=ei,this.removeListeners=ei,this.controls=new aO(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ei}unmount(){this.removeGroupControls(),this.removeListeners()}}const gE=t=>(e,n)=>{t&&ft.postRender(()=>t(e,n))};class uO extends Nr{constructor(){super(...arguments),this.removePointerDownListener=ei}onPointerDown(e){this.session=new XA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:YA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:gE(e),onStart:gE(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&ft.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Fu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const xf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function yE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Cu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(we.test(t))t=parseFloat(t);else return t;const n=yE(t,e.target.x),s=yE(t,e.target.y);return`${n}% ${s}%`}},cO={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Tr.parse(t);if(a.length>5)return s;const l=Tr.createTransformer(t),c=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,m=n.y.scale*e.y;a[0+c]/=f,a[1+c]/=m;const p=ht(f,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};class hO extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;XD(fO),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),xf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||ft.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),zy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function WA(t){const[e,n]=SA(),s=k.useContext(vy);return w.jsx(hO,{...t,layoutGroup:s,switchLayoutGroup:k.useContext(IA),isPresent:e,safeToRemove:n})}const fO={borderRadius:{...Cu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Cu,borderTopRightRadius:Cu,borderBottomLeftRadius:Cu,borderBottomRightRadius:Cu,boxShadow:cO};function dO(t,e,n){const s=cn(t)?t:Wo(t);return s.start(Zy("",s,e,n)),s.animation}const mO=(t,e)=>t.depth-e.depth;class pO{constructor(){this.children=[],this.isDirty=!1}add(e){Ty(this.children,e),this.isDirty=!0}remove(e){Ey(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(mO),this.isDirty=!1,this.children.forEach(e)}}function gO(t,e){const n=Sn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(br(s),t(l-e))};return ft.setup(s,!0),()=>br(s)}const ZA=["TopLeft","TopRight","BottomLeft","BottomRight"],yO=ZA.length,vE=t=>typeof t=="string"?parseFloat(t):t,_E=t=>typeof t=="number"||we.test(t);function vO(t,e,n,s,a,l){a?(t.opacity=ht(0,n.opacity??1,_O(s)),t.opacityExit=ht(e.opacity??1,0,bO(s))):l&&(t.opacity=ht(e.opacity??1,n.opacity??1,s));for(let c=0;c<yO;c++){const f=`border${ZA[c]}Radius`;let m=bE(e,f),p=bE(n,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||_E(m)===_E(p)?(t[f]=Math.max(ht(vE(m),vE(p),s),0),(ki.test(p)||ki.test(m))&&(t[f]+="%")):t[f]=p}(e.rotate||n.rotate)&&(t.rotate=ht(e.rotate||0,n.rotate||0,s))}function bE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const _O=JA(0,.5,GS),bO=JA(.5,.95,ei);function JA(t,e,n){return s=>s<t?0:s>e?1:n(Zu(t,e,s))}function TE(t,e){t.min=e.min,t.max=e.max}function Xn(t,e){TE(t.x,e.x),TE(t.y,e.y)}function EE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function wE(t,e,n,s,a){return t-=e,t=qf(t,1/n,s),a!==void 0&&(t=qf(t,1/a,s)),t}function TO(t,e=0,n=1,s=.5,a,l=t,c=t){if(ki.test(e)&&(e=parseFloat(e),e=ht(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=ht(l.min,l.max,s);t===l&&(f-=e),t.min=wE(t.min,e,n,f,a),t.max=wE(t.max,e,n,f,a)}function SE(t,e,[n,s,a],l,c){TO(t,e[n],e[s],e[a],e.scale,l,c)}const EO=["x","scaleX","originX"],wO=["y","scaleY","originY"];function AE(t,e,n,s){SE(t.x,e,EO,n?n.x:void 0,s?s.x:void 0),SE(t.y,e,wO,n?n.y:void 0,s?s.y:void 0)}function xE(t){return t.translate===0&&t.scale===1}function e1(t){return xE(t.x)&&xE(t.y)}function RE(t,e){return t.min===e.min&&t.max===e.max}function SO(t,e){return RE(t.x,e.x)&&RE(t.y,e.y)}function CE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function t1(t,e){return CE(t.x,e.x)&&CE(t.y,e.y)}function IE(t){return yn(t.x)/yn(t.y)}function NE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class AO{constructor(){this.members=[]}add(e){Ty(this.members,e),e.scheduleRender()}remove(e){if(Ey(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function xO(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:b,skewX:A,skewY:C}=n;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),_&&(s+=`rotateX(${_}deg) `),b&&(s+=`rotateY(${b}deg) `),A&&(s+=`skewX(${A}deg) `),C&&(s+=`skewY(${C}deg) `)}const f=t.x.scale*e.x,m=t.y.scale*e.y;return(f!==1||m!==1)&&(s+=`scale(${f}, ${m})`),s||"none"}const Jp=["","X","Y","Z"],RO={visibility:"hidden"},CO=1e3;let IO=0;function eg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function n1(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=UA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ft,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&n1(s)}function i1({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},f=e==null?void 0:e()){this.id=IO++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(PO),this.nodes.forEach(LO),this.nodes.forEach(UO),this.nodes.forEach(OO)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new pO)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Ay),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const m=this.eventHandlers.get(c);m&&m.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=wA(c)&&!AD(c),this.instance=c;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),t){let y;const _=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=gO(_,250),xf.hasAnimatedSinceResize&&(xf.hasAnimatedSinceResize=!1,this.nodes.forEach(PE))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:b,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||p.getDefaultTransition()||qO,{onLayoutAnimationStart:M,onLayoutAnimationComplete:D}=p.getProps(),U=!this.targetLayout||!t1(this.targetLayout,A),G=!_&&b;if(this.options.layoutRoot||this.resumeFrom||G||_&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const q={...jy(C,"layout"),onPlay:M,onComplete:D};(p.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q),this.setAnimationOrigin(y,G)}else _||PE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),br(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(jO),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&n1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(DE);return}this.isUpdating||this.nodes.forEach(VO),this.isUpdating=!1,this.nodes.forEach(kO),this.nodes.forEach(NO),this.nodes.forEach(DO),this.clearAllSnapshots();const f=Sn.now();Jt.delta=As(0,1e3/60,f-Jt.timestamp),Jt.timestamp=f,Jt.isProcessing=!0,Gp.update.process(Jt),Gp.preRender.process(Jt),Gp.render.process(Jt),Jt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(MO),this.sharedNodes.forEach(BO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!yn(this.snapshot.measuredBox.x)&&!yn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!e1(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(f||_a(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return c&&(m=this.removeTransform(m)),HO(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return Et();const f=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(GO))){const{scroll:y}=this.root;y&&(qo(f.x,y.offset.x),qo(f.y,y.offset.y))}return f}removeElementScroll(c){var m;const f=Et();if(Xn(f,c),(m=this.scroll)!=null&&m.wasRoot)return f;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:_,options:b}=y;y!==this.root&&_&&b.layoutScroll&&(_.wasRoot&&Xn(f,c),qo(f.x,_.offset.x),qo(f.y,_.offset.y))}return f}applyTransform(c,f=!1){const m=Et();Xn(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Ho(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),_a(y.latestValues)&&Ho(m,y.latestValues)}return _a(this.latestValues)&&Ho(m,this.latestValues),m}removeTransform(c){const f=Et();Xn(f,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!_a(p.latestValues))continue;Lg(p.latestValues)&&p.updateSnapshot();const y=Et(),_=p.measurePageBox();Xn(y,_),AE(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return _a(this.latestValues)&&AE(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Jt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var b;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=Jt.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),Hu(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),Xn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Et(),this.targetWithTransforms=Et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$P(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xn(this.target,this.layout.layoutBox),KA(this.target,this.targetDelta)):Xn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),Hu(this.relativeTargetOrigin,this.target,A.target),Xn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Lg(this.parent.latestValues)||GA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var C;const c=this.getLead(),f=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Jt.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Xn(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,b=this.treeScale.y;YP(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Et());const{target:A}=c;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(EE(this.prevProjectionDelta.x,this.projectionDelta.x),EE(this.prevProjectionDelta.y,this.projectionDelta.y)),qu(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==b||!NE(this.projectionDelta.x,this.prevProjectionDelta.x)||!NE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fo(),this.projectionDelta=Fo(),this.projectionDeltaWithTransform=Fo()}setAnimationOrigin(c,f=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},_=Fo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const b=Et(),A=m?m.source:void 0,C=this.layout?this.layout.source:void 0,M=A!==C,D=this.getStack(),U=!D||D.members.length<=1,G=!!(M&&!U&&this.options.crossfade===!0&&!this.path.some(FO));this.animationProgress=0;let q;this.mixTargetDelta=se=>{const J=se/1e3;OE(_.x,c.x,J),OE(_.y,c.y,J),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hu(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),zO(this.relativeTarget,this.relativeTargetOrigin,b,J),q&&SO(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=Et()),Xn(q,this.relativeTarget)),M&&(this.animationValues=y,vO(y,p,this.latestValues,J,G,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=J},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var f,m,p;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(p=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||p.stop(),this.pendingAnimation&&(br(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ft.update(()=>{xf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Wo(0)),this.currentAnimation=dO(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),c.onUpdate&&c.onUpdate(y)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(CO),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:y}=c;if(!(!f||!m||!p)){if(this!==c&&this.layout&&p&&s1(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Et();const _=yn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const b=yn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+b}Xn(f,m),Ho(f,y),qu(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new AO),this.sharedNodes.get(c).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var f;const{layoutId:c}=this.options;return c?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:c}=this.options;return c?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&eg("z",c,p,this.animationValues);for(let y=0;y<Jp.length;y++)eg(`rotate${Jp[y]}`,c,p,this.animationValues),eg(`skew${Jp[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return RO;const f={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=Af(c==null?void 0:c.pointerEvents)||"",f.transform=m?m(this.latestValues,""):"none",f;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const A={};return this.options.layoutId&&(A.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,A.pointerEvents=Af(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!_a(this.latestValues)&&(A.transform=m?m({},""):"none",this.hasProjected=!1),A}const y=p.animationValues||p.latestValues;this.applyTransformsToTarget(),f.transform=xO(this.projectionDeltaWithTransform,this.treeScale,y),m&&(f.transform=m(y,f.transform));const{x:_,y:b}=this.projectionDelta;f.transformOrigin=`${_.origin*100}% ${b.origin*100}% 0`,p.animationValues?f.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:f.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const A in nc){if(y[A]===void 0)continue;const{correct:C,applyTo:M,isCSSVariable:D}=nc[A],U=f.transform==="none"?y[A]:C(y[A],p);if(M){const G=M.length;for(let q=0;q<G;q++)f[M[q]]=U}else D?this.options.visualElement.renderState.vars[A]=U:f[A]=U}return this.options.layoutId&&(f.pointerEvents=p===this?Af(c==null?void 0:c.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var f;return(f=c.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(DE),this.root.sharedNodes.clear()}}}function NO(t){t.updateLayout()}function DO(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=t.layout,{animationType:l}=t.options,c=e.source!==t.layout.source;l==="size"?Wn(_=>{const b=c?e.measuredBox[_]:e.layoutBox[_],A=yn(b);b.min=s[_].min,b.max=b.min+A}):s1(l,e.layoutBox,s)&&Wn(_=>{const b=c?e.measuredBox[_]:e.layoutBox[_],A=yn(s[_]);b.max=b.min+A,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+A)});const f=Fo();qu(f,s,e.layoutBox);const m=Fo();c?qu(m,t.applyTransform(a,!0),e.measuredBox):qu(m,s,e.layoutBox);const p=!e1(f);let y=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:b,layout:A}=_;if(b&&A){const C=Et();Hu(C,e.layoutBox,b.layoutBox);const M=Et();Hu(M,s,A.layoutBox),t1(C,M)||(y=!0),_.options.layoutRoot&&(t.relativeTarget=M,t.relativeTargetOrigin=C,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:m,layoutDelta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:y})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function PO(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function OO(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function MO(t){t.clearSnapshot()}function DE(t){t.clearMeasurements()}function VO(t){t.isLayoutDirty=!1}function kO(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function PE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function LO(t){t.resolveTargetDelta()}function UO(t){t.calcProjection()}function jO(t){t.resetSkewAndRotation()}function BO(t){t.removeLeadSnapshot()}function OE(t,e,n){t.translate=ht(e.translate,0,n),t.scale=ht(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function ME(t,e,n,s){t.min=ht(e.min,n.min,s),t.max=ht(e.max,n.max,s)}function zO(t,e,n,s){ME(t.x,e.x,n.x,s),ME(t.y,e.y,n.y,s)}function FO(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const qO={duration:.45,ease:[.4,0,.1,1]},VE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),kE=VE("applewebkit/")&&!VE("chrome/")?Math.round:ei;function LE(t){t.min=kE(t.min),t.max=kE(t.max)}function HO(t){LE(t.x),LE(t.y)}function s1(t,e,n){return t==="position"||t==="preserve-aspect"&&!KP(IE(e),IE(n),.2)}function GO(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const KO=i1({attachResizeListener:(t,e)=>sc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),tg={current:void 0},r1=i1({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!tg.current){const t=new KO({});t.mount(window),t.setOptions({layoutScroll:!0}),tg.current=t}return tg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),$O={pan:{Feature:uO},drag:{Feature:lO,ProjectionNode:r1,MeasureLayout:WA}};function UE(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&ft.postRender(()=>l(e,bc(e)))}class YO extends Nr{mount(){const{current:e}=this.node;e&&(this.unmount=bD(e,(n,s)=>(UE(this.node,s,"Start"),a=>UE(this.node,a,"End"))))}unmount(){}}class XO extends Nr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yc(sc(this.node.current,"focus",()=>this.onFocus()),sc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function jE(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&ft.postRender(()=>l(e,bc(e)))}class QO extends Nr{mount(){const{current:e}=this.node;e&&(this.unmount=SD(e,(n,s)=>(jE(this.node,s,"Start"),(a,{success:l})=>jE(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Bg=new WeakMap,ng=new WeakMap,WO=t=>{const e=Bg.get(t.target);e&&e(t)},ZO=t=>{t.forEach(WO)};function JO({root:t,...e}){const n=t||document;ng.has(n)||ng.set(n,{});const s=ng.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(ZO,{root:t,...e})),s[a]}function eM(t,e,n){const s=JO(e);return Bg.set(t,n),s.observe(t),()=>{Bg.delete(t),s.unobserve(t)}}const tM={some:0,all:1};class nM extends Nr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:tM[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),b=p?y:_;b&&b(m)};return eM(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(iM(e,n))&&this.startObserver()}unmount(){}}function iM({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const sM={inView:{Feature:nM},tap:{Feature:QO},focus:{Feature:XO},hover:{Feature:YO}},rM={layout:{ProjectionNode:r1,MeasureLayout:WA}},zg={current:null},a1={current:!1};function aM(){if(a1.current=!0,!!by)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>zg.current=t.matches;t.addListener(e),e()}else zg.current=!1}const oM=new WeakMap;function lM(t,e,n){for(const s in e){const a=e[s],l=n[s];if(cn(a))t.addValue(s,a);else if(cn(l))t.addValue(s,Wo(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,Wo(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const BE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class uM{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ly,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Sn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,ft.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=pd(n),this.isVariantNode=RA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in _){const A=_[b];m[b]!==void 0&&cn(A)&&A.set(m[b],!1)}}mount(e){this.current=e,oM.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),a1.current||aM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:zg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),br(this.notifyUpdate),br(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=ol.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",f=>{this.latestValues[e]=f,this.props.onUpdate&&ft.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Zo){const n=Zo[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Et()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<BE.length;s++){const a=BE[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=lM(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Wo(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(VS(s)||LS(s))?s=parseFloat(s):!RD(s)&&Tr.test(n)&&(s=vA(e,n)),this.setBaseTarget(e,cn(s)?s.get():s)),cn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const c=Qy(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(s=c[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!cn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Ay),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class o1 extends uM{constructor(){super(...arguments),this.KeyframeResolver=pD}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;cn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function l1(t,{style:e,vars:n},s,a){Object.assign(t.style,e,a&&a.getProjectionStyles(s));for(const l in n)t.style.setProperty(l,n[l])}function cM(t){return window.getComputedStyle(t)}class hM extends o1{constructor(){super(...arguments),this.type="html",this.renderInstance=l1}readValueFromInstance(e,n){var s;if(ol.has(n))return(s=this.projection)!=null&&s.isProjecting?Cg(n):MN(e,n);{const a=cM(e),l=(Cy(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return $A(e,n)}build(e,n,s){$y(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Wy(e,n,s)}}const u1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fM(t,e,n,s){l1(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(u1.has(a)?a:Ky(a),e.attrs[a])}class dM extends o1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Et}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ol.has(n)){const s=yA(n);return s&&s.default||0}return n=u1.has(n)?n:Ky(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return LA(e,n,s)}build(e,n,s){OA(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){fM(e,n,s,a)}mount(e){this.isSVGTag=VA(e.tagName),super.mount(e)}}const mM=(t,e)=>Xy(t)?new dM(e):new hM(e,{allowProjection:t!==k.Fragment}),pM=fP({...UP,...sM,...$O,...rM},mM),Je=LD(pM);var Iu={},zE;function gM(){if(zE)return Iu;zE=1,Object.defineProperty(Iu,"__esModule",{value:!0}),Iu.parse=c,Iu.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function c(b,A){const C=new l,M=b.length;if(M<2)return C;const D=(A==null?void 0:A.decode)||y;let U=0;do{const G=b.indexOf("=",U);if(G===-1)break;const q=b.indexOf(";",U),se=q===-1?M:q;if(G>se){U=b.lastIndexOf(";",G-1)+1;continue}const J=f(b,U,G),le=m(b,G,J),P=b.slice(J,le);if(C[P]===void 0){let R=f(b,G+1,se),I=m(b,se,R);const V=D(b.slice(R,I));C[P]=V}U=se+1}while(U<M);return C}function f(b,A,C){do{const M=b.charCodeAt(A);if(M!==32&&M!==9)return A}while(++A<C);return C}function m(b,A,C){for(;A>C;){const M=b.charCodeAt(--A);if(M!==32&&M!==9)return A+1}return C}function p(b,A,C){const M=(C==null?void 0:C.encode)||encodeURIComponent;if(!t.test(b))throw new TypeError(`argument name is invalid: ${b}`);const D=M(A);if(!e.test(D))throw new TypeError(`argument val is invalid: ${A}`);let U=b+"="+D;if(!C)return U;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);U+="; Max-Age="+C.maxAge}if(C.domain){if(!n.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);U+="; Domain="+C.domain}if(C.path){if(!s.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);U+="; Path="+C.path}if(C.expires){if(!_(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);U+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(U+="; HttpOnly"),C.secure&&(U+="; Secure"),C.partitioned&&(U+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":U+="; Priority=Low";break;case"medium":U+="; Priority=Medium";break;case"high":U+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":U+="; SameSite=Strict";break;case"lax":U+="; SameSite=Lax";break;case"none":U+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return U}function y(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function _(b){return a.call(b)==="[object Date]"}return Iu}gM();var FE="popstate";function yM(t={}){function e(s,a){let{pathname:l,search:c,hash:f}=s.location;return Fg("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:rc(a)}return _M(e,n,null,t)}function lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ci(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vM(){return Math.random().toString(36).substring(2,10)}function qE(t,e){return{usr:t.state,key:t.key,idx:e}}function Fg(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ll(e):e,state:n,key:e&&e.key||s||vM()}}function rc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ll(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function _M(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,f="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){f="POP";let D=y(),U=D==null?null:D-p;p=D,m&&m({action:f,location:M.location,delta:U})}function b(D,U){f="PUSH";let G=Fg(M.location,D,U);p=y()+1;let q=qE(G,p),se=M.createHref(G);try{c.pushState(q,"",se)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;a.location.assign(se)}l&&m&&m({action:f,location:M.location,delta:1})}function A(D,U){f="REPLACE";let G=Fg(M.location,D,U);p=y();let q=qE(G,p),se=M.createHref(G);c.replaceState(q,"",se),l&&m&&m({action:f,location:M.location,delta:0})}function C(D){return bM(D)}let M={get action(){return f},get location(){return t(a,c)},listen(D){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(FE,_),m=D,()=>{a.removeEventListener(FE,_),m=null}},createHref(D){return e(a,D)},createURL:C,encodeLocation(D){let U=C(D);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:b,replace:A,go(D){return c.go(D)}};return M}function bM(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:rc(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function c1(t,e,n="/"){return TM(t,e,n,!1)}function TM(t,e,n,s){let a=typeof e=="string"?ll(e):e,l=Rs(a.pathname||"/",n);if(l==null)return null;let c=h1(t);EM(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=OM(l);f=DM(c[m],p,s)}return f}function h1(t,e=[],n=[],s=""){let a=(l,c,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(lt(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let p=Ts([s,m.relativePath]),y=n.concat(m);l.children&&l.children.length>0&&(lt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),h1(l.children,e,y,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:IM(p,l.index),routesMeta:y})};return t.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))a(l,c);else for(let m of f1(l.path))a(l,c,m)}),e}function f1(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=f1(s.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function EM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:NM(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var wM=/^:[\w-]+$/,SM=3,AM=2,xM=1,RM=10,CM=-2,HE=t=>t==="*";function IM(t,e){let n=t.split("/"),s=n.length;return n.some(HE)&&(s+=CM),e&&(s+=AM),n.filter(a=>!HE(a)).reduce((a,l)=>a+(wM.test(l)?SM:l===""?xM:RM),s)}function NM(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function DM(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",c=[];for(let f=0;f<s.length;++f){let m=s[f],p=f===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=Hf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),b=m.route;if(!_&&p&&n&&!s[s.length-1].route.index&&(_=Hf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:Ts([l,_.pathname]),pathnameBase:LM(Ts([l,_.pathnameBase])),route:b}),_.pathnameBase!=="/"&&(l=Ts([l,_.pathnameBase]))}return c}function Hf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=PM(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:_},b)=>{if(y==="*"){let C=f[b]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const A=f[b];return _&&!A?p[y]=void 0:p[y]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function PM(t,e=!1,n=!0){ci(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function OM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ci(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Rs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function MM(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?ll(t):t;return{pathname:n?n.startsWith("/")?n:VM(n,e):e,search:UM(s),hash:jM(a)}}function VM(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function ig(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Jy(t){let e=kM(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function ev(t,e,n,s=!1){let a;typeof t=="string"?a=ll(t):(a={...t},lt(!a.pathname||!a.pathname.includes("?"),ig("?","pathname","search",a)),lt(!a.pathname||!a.pathname.includes("#"),ig("#","pathname","hash",a)),lt(!a.search||!a.search.includes("#"),ig("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=n;else{let _=e.length-1;if(!s&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),_-=1;a.pathname=b.join("/")}f=_>=0?e[_]:"/"}let m=MM(a,f),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Ts=t=>t.join("/").replace(/\/\/+/g,"/"),LM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),UM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,jM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function BM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var d1=["POST","PUT","PATCH","DELETE"];new Set(d1);var zM=["GET",...d1];new Set(zM);var ul=k.createContext(null);ul.displayName="DataRouter";var gd=k.createContext(null);gd.displayName="DataRouterState";var m1=k.createContext({isTransitioning:!1});m1.displayName="ViewTransition";var FM=k.createContext(new Map);FM.displayName="Fetchers";var qM=k.createContext(null);qM.displayName="Await";var di=k.createContext(null);di.displayName="Navigation";var Tc=k.createContext(null);Tc.displayName="Location";var mi=k.createContext({outlet:null,matches:[],isDataRoute:!1});mi.displayName="Route";var tv=k.createContext(null);tv.displayName="RouteError";function HM(t,{relative:e}={}){lt(cl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=k.useContext(di),{hash:a,pathname:l,search:c}=Ec(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:Ts([n,l])),s.createHref({pathname:f,search:c,hash:a})}function cl(){return k.useContext(Tc)!=null}function Ps(){return lt(cl(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Tc).location}var p1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function g1(t){k.useContext(di).static||k.useLayoutEffect(t)}function Dr(){let{isDataRoute:t}=k.useContext(mi);return t?iV():GM()}function GM(){lt(cl(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(ul),{basename:e,navigator:n}=k.useContext(di),{matches:s}=k.useContext(mi),{pathname:a}=Ps(),l=JSON.stringify(Jy(s)),c=k.useRef(!1);return g1(()=>{c.current=!0}),k.useCallback((m,p={})=>{if(ci(c.current,p1),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=ev(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ts([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}k.createContext(null);function y1(){let{matches:t}=k.useContext(mi),e=t[t.length-1];return e?e.params:{}}function Ec(t,{relative:e}={}){let{matches:n}=k.useContext(mi),{pathname:s}=Ps(),a=JSON.stringify(Jy(n));return k.useMemo(()=>ev(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function KM(t,e){return v1(t,e)}function v1(t,e,n,s){var U;lt(cl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=k.useContext(di),{matches:l}=k.useContext(mi),c=l[l.length-1],f=c?c.params:{},m=c?c.pathname:"/",p=c?c.pathnameBase:"/",y=c&&c.route;{let G=y&&y.path||"";_1(m,!y||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let _=Ps(),b;if(e){let G=typeof e=="string"?ll(e):e;lt(p==="/"||((U=G.pathname)==null?void 0:U.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${G.pathname}" was given in the \`location\` prop.`),b=G}else b=_;let A=b.pathname||"/",C=A;if(p!=="/"){let G=p.replace(/^\//,"").split("/");C="/"+A.replace(/^\//,"").split("/").slice(G.length).join("/")}let M=c1(t,{pathname:C});ci(y||M!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),ci(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=WM(M&&M.map(G=>Object.assign({},G,{params:Object.assign({},f,G.params),pathname:Ts([p,a.encodeLocation?a.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?p:Ts([p,a.encodeLocation?a.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),l,n,s);return e&&D?k.createElement(Tc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},D):D}function $M(){let t=nV(),e=BM(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:l},"ErrorBoundary")," or"," ",k.createElement("code",{style:l},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:a},n):null,c)}var YM=k.createElement($M,null),XM=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?k.createElement(mi.Provider,{value:this.props.routeContext},k.createElement(tv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function QM({routeContext:t,match:e,children:n}){let s=k.useContext(ul);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(mi.Provider,{value:t},n)}function WM(t,e=[],n=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let m=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);lt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,f=-1;if(n)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=m),p.route.id){let{loaderData:y,errors:_}=n,b=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||b){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((m,p,y)=>{let _,b=!1,A=null,C=null;n&&(_=l&&p.route.id?l[p.route.id]:void 0,A=p.route.errorElement||YM,c&&(f<0&&y===0?(_1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,C=null):f===y&&(b=!0,C=p.route.hydrateFallbackElement||null)));let M=e.concat(a.slice(0,y+1)),D=()=>{let U;return _?U=A:b?U=C:p.route.Component?U=k.createElement(p.route.Component,null):p.route.element?U=p.route.element:U=m,k.createElement(QM,{match:p,routeContext:{outlet:m,matches:M,isDataRoute:n!=null},children:U})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?k.createElement(XM,{location:n.location,revalidation:n.revalidation,component:A,error:_,children:D(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):D()},null)}function nv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZM(t){let e=k.useContext(ul);return lt(e,nv(t)),e}function JM(t){let e=k.useContext(gd);return lt(e,nv(t)),e}function eV(t){let e=k.useContext(mi);return lt(e,nv(t)),e}function iv(t){let e=eV(t),n=e.matches[e.matches.length-1];return lt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function tV(){return iv("useRouteId")}function nV(){var s;let t=k.useContext(tv),e=JM("useRouteError"),n=iv("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function iV(){let{router:t}=ZM("useNavigate"),e=iv("useNavigate"),n=k.useRef(!1);return g1(()=>{n.current=!0}),k.useCallback(async(a,l={})=>{ci(n.current,p1),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var GE={};function _1(t,e,n){!e&&!GE[t]&&(GE[t]=!0,ci(!1,n))}k.memo(sV);function sV({routes:t,future:e,state:n}){return v1(t,void 0,n,e)}function b1({to:t,replace:e,state:n,relative:s}){lt(cl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=k.useContext(di);ci(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=k.useContext(mi),{pathname:c}=Ps(),f=Dr(),m=ev(t,Jy(l),c,s==="path"),p=JSON.stringify(m);return k.useEffect(()=>{f(JSON.parse(p),{replace:e,state:n,relative:s})},[f,p,s,e,n]),null}function Qn(t){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rV({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){lt(!cl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),f=k.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=ll(n));let{pathname:m="/",search:p="",hash:y="",state:_=null,key:b="default"}=n,A=k.useMemo(()=>{let C=Rs(m,c);return C==null?null:{location:{pathname:C,search:p,hash:y,state:_,key:b},navigationType:s}},[c,m,p,y,_,b,s]);return ci(A!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:k.createElement(di.Provider,{value:f},k.createElement(Tc.Provider,{children:e,value:A}))}function aV({children:t,location:e}){return KM(qg(t),e)}function qg(t,e=[]){let n=[];return k.Children.forEach(t,(s,a)=>{if(!k.isValidElement(s))return;let l=[...e,a];if(s.type===k.Fragment){n.push.apply(n,qg(s.props.children,l));return}lt(s.type===Qn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=qg(s.props.children,l)),n.push(c)}),n}var Rf="get",Cf="application/x-www-form-urlencoded";function yd(t){return t!=null&&typeof t.tagName=="string"}function oV(t){return yd(t)&&t.tagName.toLowerCase()==="button"}function lV(t){return yd(t)&&t.tagName.toLowerCase()==="form"}function uV(t){return yd(t)&&t.tagName.toLowerCase()==="input"}function cV(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function hV(t,e){return t.button===0&&(!e||e==="_self")&&!cV(t)}var mf=null;function fV(){if(mf===null)try{new FormData(document.createElement("form"),0),mf=!1}catch{mf=!0}return mf}var dV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sg(t){return t!=null&&!dV.has(t)?(ci(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cf}"`),null):t}function mV(t,e){let n,s,a,l,c;if(lV(t)){let f=t.getAttribute("action");s=f?Rs(f,e):null,n=t.getAttribute("method")||Rf,a=sg(t.getAttribute("enctype"))||Cf,l=new FormData(t)}else if(oV(t)||uV(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||f.getAttribute("action");if(s=m?Rs(m,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Rf,a=sg(t.getAttribute("formenctype"))||sg(f.getAttribute("enctype"))||Cf,l=new FormData(f,t),!fV()){let{name:p,type:y,value:_}=t;if(y==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,_)}}else{if(yd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Rf,s=null,a=Cf,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}function sv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function pV(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gV(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function yV(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await pV(l,n);return c.links?c.links():[]}return[]}));return TV(s.flat(1).filter(gV).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function KE(t,e,n,s,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>{var y;return n[p].pathname!==m.pathname||((y=n[p].route.path)==null?void 0:y.endsWith("*"))&&n[p].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,p)=>c(m,p)||f(m,p)):l==="data"?e.filter((m,p)=>{var _;let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function vV(t,e,{includeHydrateFallback:n}={}){return _V(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function _V(t){return[...new Set(t)]}function bV(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function TV(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(bV(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var EV=new Set([100,101,204,205]);function wV(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Rs(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function T1(){let t=k.useContext(ul);return sv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function SV(){let t=k.useContext(gd);return sv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var rv=k.createContext(void 0);rv.displayName="FrameworkContext";function E1(){let t=k.useContext(rv);return sv(t,"You must render this element inside a <HydratedRouter> element"),t}function AV(t,e){let n=k.useContext(rv),[s,a]=k.useState(!1),[l,c]=k.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,b=k.useRef(null);k.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let M=U=>{U.forEach(G=>{c(G.isIntersecting)})},D=new IntersectionObserver(M,{threshold:.5});return b.current&&D.observe(b.current),()=>{D.disconnect()}}},[t]),k.useEffect(()=>{if(s){let M=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(M)}}},[s]);let A=()=>{a(!0)},C=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,b,{}]:[l,b,{onFocus:Nu(f,A),onBlur:Nu(m,C),onMouseEnter:Nu(p,A),onMouseLeave:Nu(y,C),onTouchStart:Nu(_,A)}]:[!1,b,{}]}function Nu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function xV({page:t,...e}){let{router:n}=T1(),s=k.useMemo(()=>c1(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?k.createElement(CV,{page:t,matches:s,...e}):null}function RV(t){let{manifest:e,routeModules:n}=E1(),[s,a]=k.useState([]);return k.useEffect(()=>{let l=!1;return yV(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),s}function CV({page:t,matches:e,...n}){let s=Ps(),{manifest:a,routeModules:l}=E1(),{basename:c}=T1(),{loaderData:f,matches:m}=SV(),p=k.useMemo(()=>KE(t,e,m,a,s,"data"),[t,e,m,a,s]),y=k.useMemo(()=>KE(t,e,m,a,s,"assets"),[t,e,m,a,s]),_=k.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let C=new Set,M=!1;if(e.forEach(U=>{var q;let G=a.routes[U.route.id];!G||!G.hasLoader||(!p.some(se=>se.route.id===U.route.id)&&U.route.id in f&&((q=l[U.route.id])!=null&&q.shouldRevalidate)||G.hasClientLoader?M=!0:C.add(U.route.id))}),C.size===0)return[];let D=wV(t,c);return M&&C.size>0&&D.searchParams.set("_routes",e.filter(U=>C.has(U.route.id)).map(U=>U.route.id).join(",")),[D.pathname+D.search]},[c,f,s,a,p,e,t,l]),b=k.useMemo(()=>vV(y,a),[y,a]),A=RV(y);return k.createElement(k.Fragment,null,_.map(C=>k.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),b.map(C=>k.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),A.map(({key:C,link:M})=>k.createElement("link",{key:C,...M})))}function IV(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var w1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{w1&&(window.__reactRouterVersion="7.6.2")}catch{}function NV({basename:t,children:e,window:n}){let s=k.useRef();s.current==null&&(s.current=yM({window:n,v5Compat:!0}));let a=s.current,[l,c]=k.useState({action:a.action,location:a.location}),f=k.useCallback(m=>{k.startTransition(()=>c(m))},[c]);return k.useLayoutEffect(()=>a.listen(f),[a,f]),k.createElement(rV,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var S1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,He=k.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:f,target:m,to:p,preventScrollReset:y,viewTransition:_,...b},A){let{basename:C}=k.useContext(di),M=typeof p=="string"&&S1.test(p),D,U=!1;if(typeof p=="string"&&M&&(D=p,w1))try{let I=new URL(window.location.href),V=p.startsWith("//")?new URL(I.protocol+p):new URL(p),B=Rs(V.pathname,C);V.origin===I.origin&&B!=null?p=B+V.search+V.hash:U=!0}catch{ci(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=HM(p,{relative:a}),[q,se,J]=AV(s,b),le=MV(p,{replace:c,state:f,target:m,preventScrollReset:y,relative:a,viewTransition:_});function P(I){e&&e(I),I.defaultPrevented||le(I)}let R=k.createElement("a",{...b,...J,href:D||G,onClick:U||l?e:P,ref:IV(A,se),target:m,"data-discover":!M&&n==="render"?"true":void 0});return q&&!M?k.createElement(k.Fragment,null,R,k.createElement(xV,{page:G})):R});He.displayName="Link";var DV=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:f,children:m,...p},y){let _=Ec(c,{relative:p.relative}),b=Ps(),A=k.useContext(gd),{navigator:C,basename:M}=k.useContext(di),D=A!=null&&jV(_)&&f===!0,U=C.encodeLocation?C.encodeLocation(_).pathname:_.pathname,G=b.pathname,q=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(G=G.toLowerCase(),q=q?q.toLowerCase():null,U=U.toLowerCase()),q&&M&&(q=Rs(q,M)||q);const se=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let J=G===U||!a&&G.startsWith(U)&&G.charAt(se)==="/",le=q!=null&&(q===U||!a&&q.startsWith(U)&&q.charAt(U.length)==="/"),P={isActive:J,isPending:le,isTransitioning:D},R=J?e:void 0,I;typeof s=="function"?I=s(P):I=[s,J?"active":null,le?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(P):l;return k.createElement(He,{...p,"aria-current":R,className:I,ref:y,style:V,to:c,viewTransition:f},typeof m=="function"?m(P):m)});DV.displayName="NavLink";var PV=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:c=Rf,action:f,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:_,...b},A)=>{let C=LV(),M=UV(f,{relative:p}),D=c.toLowerCase()==="get"?"get":"post",U=typeof f=="string"&&S1.test(f),G=q=>{if(m&&m(q),q.defaultPrevented)return;q.preventDefault();let se=q.nativeEvent.submitter,J=(se==null?void 0:se.getAttribute("formmethod"))||c;C(se||q.currentTarget,{fetcherKey:e,method:J,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_})};return k.createElement("form",{ref:A,method:D,action:M,onSubmit:s?m:G,...b,"data-discover":!U&&t==="render"?"true":void 0})});PV.displayName="Form";function OV(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function A1(t){let e=k.useContext(ul);return lt(e,OV(t)),e}function MV(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c}={}){let f=Dr(),m=Ps(),p=Ec(t,{relative:l});return k.useCallback(y=>{if(hV(y,e)){y.preventDefault();let _=n!==void 0?n:rc(m)===rc(p);f(t,{replace:_,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[m,f,p,n,s,e,t,a,l,c])}var VV=0,kV=()=>`__${String(++VV)}__`;function LV(){let{router:t}=A1("useSubmit"),{basename:e}=k.useContext(di),n=tV();return k.useCallback(async(s,a={})=>{let{action:l,method:c,encType:f,formData:m,body:p}=mV(s,e);if(a.navigate===!1){let y=a.fetcherKey||kV();await t.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||f,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function UV(t,{relative:e}={}){let{basename:n}=k.useContext(di),s=k.useContext(mi);lt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Ec(t||".",{relative:e})},c=Ps();if(t==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(_=>_).forEach(_=>f.append("index",_));let y=f.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ts([n,l.pathname])),rc(l)}function jV(t,e={}){let n=k.useContext(m1);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=A1("useViewTransitionState"),a=Ec(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=Rs(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Rs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Hf(a.pathname,c)!=null||Hf(a.pathname,l)!=null}[...EV];const BV=()=>{};var $E={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},zV=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],f=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},R1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,f=c?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,y=l>>2,_=(l&3)<<4|f>>4;let b=(f&15)<<2|p>>6,A=p&63;m||(A=64,c||(b=64)),s.push(n[y],n[_],n[b],n[A])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(x1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||p==null||_==null)throw new FV;const b=l<<2|f>>4;if(s.push(b),p!==64){const A=f<<4&240|p>>2;if(s.push(A),_!==64){const C=p<<6&192|_;s.push(C)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class FV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qV=function(t){const e=x1(t);return R1.encodeByteArray(e,!0)},Gf=function(t){return qV(t).replace(/\./g,"")},C1=function(t){try{return R1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV=()=>HV().__FIREBASE_DEFAULTS__,KV=()=>{if(typeof process>"u"||typeof $E>"u")return;const t=$E.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$V=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&C1(t[1]);return e&&JSON.parse(e)},vd=()=>{try{return BV()||GV()||KV()||$V()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},I1=t=>{var e,n;return(n=(e=vd())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},N1=t=>{const e=I1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},D1=()=>{var t;return(t=vd())==null?void 0:t.config},P1=t=>{var e;return(e=vd())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function av(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Gf(JSON.stringify(n)),Gf(JSON.stringify(c)),""].join(".")}const Gu={};function XV(){const t={prod:[],emulator:[]};for(const e of Object.keys(Gu))Gu[e]?t.emulator.push(e):t.prod.push(e);return t}function QV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let YE=!1;function ov(t,e){if(typeof window>"u"||typeof document>"u"||!Pr(window.location.host)||Gu[t]===e||Gu[t]||YE)return;Gu[t]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",l=XV().prod.length>0;function c(){const b=document.getElementById(s);b&&b.remove()}function f(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,A){b.setAttribute("width","24"),b.setAttribute("id",A),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{YE=!0,c()},b}function y(b,A){b.setAttribute("id",A),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function _(){const b=QV(s),A=n("text"),C=document.getElementById(A)||document.createElement("span"),M=n("learnmore"),D=document.getElementById(M)||document.createElement("a"),U=n("preprendIcon"),G=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const q=b.element;f(q),y(D,M);const se=p();m(G,U),q.append(G,C,D,se),document.body.appendChild(q)}l?(C.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function ZV(){var e;const t=(e=vd())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ek(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nk(){const t=hn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ik(){return!ZV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sk(){try{return typeof indexedDB=="object"}catch{return!1}}function rk(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)==null?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak="FirebaseError";class Ki extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=ak,Object.setPrototypeOf(this,Ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wc.prototype.create)}}class wc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?ok(l,s):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new Ki(a,f,s)}}function ok(t,e){return t.replace(lk,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const lk=/\{\$([^}]+)}/g;function uk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ca(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],c=e[a];if(XE(l)&&XE(c)){if(!Ca(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function XE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ou(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Mu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ck(t,e){const n=new hk(t,e);return n.subscribe.bind(n)}class hk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");fk(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=rg),a.error===void 0&&(a.error=rg),a.complete===void 0&&(a.complete=rg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function rg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(t){return t&&t._delegate?t._delegate:t}class Er{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new YV;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pk(e))try{this.getOrInitializeService({instanceIdentifier:ba})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=ba){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ba){return this.instances.has(e)}getOptions(e=ba){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&c.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:mk(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ba){return this.component?this.component.multipleInstances?e:ba:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mk(t){return t===ba?void 0:t}function pk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Oe||(Oe={}));const yk={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},vk=Oe.INFO,_k={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},bk=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=_k[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lv{constructor(e){this.name=e,this._logLevel=vk,this._logHandler=bk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const Tk=(t,e)=>e.some(n=>t instanceof n);let QE,WE;function Ek(){return QE||(QE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wk(){return WE||(WE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const M1=new WeakMap,Hg=new WeakMap,V1=new WeakMap,ag=new WeakMap,uv=new WeakMap;function Sk(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(gr(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&M1.set(n,t)}).catch(()=>{}),uv.set(e,t),e}function Ak(t){if(Hg.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Hg.set(t,e)}let Gg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||V1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xk(t){Gg=t(Gg)}function Rk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(og(this),e,...n);return V1.set(s,e.sort?e.sort():[e]),gr(s)}:wk().includes(t)?function(...e){return t.apply(og(this),e),gr(M1.get(this))}:function(...e){return gr(t.apply(og(this),e))}}function Ck(t){return typeof t=="function"?Rk(t):(t instanceof IDBTransaction&&Ak(t),Tk(t,Ek())?new Proxy(t,Gg):t)}function gr(t){if(t instanceof IDBRequest)return Sk(t);if(ag.has(t))return ag.get(t);const e=Ck(t);return e!==t&&(ag.set(t,e),uv.set(e,t)),e}const og=t=>uv.get(t);function Ik(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),f=gr(c);return s&&c.addEventListener("upgradeneeded",m=>{s(gr(c.result),m.oldVersion,m.newVersion,gr(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const Nk=["get","getKey","getAll","getAllKeys","count"],Dk=["put","add","delete","clear"],lg=new Map;function ZE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(lg.get(e))return lg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=Dk.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||Nk.includes(n)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return lg.set(e,l),l}xk(t=>({...t,get:(e,n,s)=>ZE(e,n)||t.get(e,n,s),has:(e,n)=>!!ZE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ok(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Ok(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Kg="@firebase/app",JE="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new lv("@firebase/app"),Mk="@firebase/app-compat",Vk="@firebase/analytics-compat",kk="@firebase/analytics",Lk="@firebase/app-check-compat",Uk="@firebase/app-check",jk="@firebase/auth",Bk="@firebase/auth-compat",zk="@firebase/database",Fk="@firebase/data-connect",qk="@firebase/database-compat",Hk="@firebase/functions",Gk="@firebase/functions-compat",Kk="@firebase/installations",$k="@firebase/installations-compat",Yk="@firebase/messaging",Xk="@firebase/messaging-compat",Qk="@firebase/performance",Wk="@firebase/performance-compat",Zk="@firebase/remote-config",Jk="@firebase/remote-config-compat",e4="@firebase/storage",t4="@firebase/storage-compat",n4="@firebase/firestore",i4="@firebase/ai",s4="@firebase/firestore-compat",r4="firebase",a4="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g="[DEFAULT]",o4={[Kg]:"fire-core",[Mk]:"fire-core-compat",[kk]:"fire-analytics",[Vk]:"fire-analytics-compat",[Uk]:"fire-app-check",[Lk]:"fire-app-check-compat",[jk]:"fire-auth",[Bk]:"fire-auth-compat",[zk]:"fire-rtdb",[Fk]:"fire-data-connect",[qk]:"fire-rtdb-compat",[Hk]:"fire-fn",[Gk]:"fire-fn-compat",[Kk]:"fire-iid",[$k]:"fire-iid-compat",[Yk]:"fire-fcm",[Xk]:"fire-fcm-compat",[Qk]:"fire-perf",[Wk]:"fire-perf-compat",[Zk]:"fire-rc",[Jk]:"fire-rc-compat",[e4]:"fire-gcs",[t4]:"fire-gcs-compat",[n4]:"fire-fst",[s4]:"fire-fst-compat",[i4]:"fire-vertex","fire-js":"fire-js",[r4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf=new Map,l4=new Map,Yg=new Map;function ew(t,e){try{t.container.addComponent(e)}catch(n){Cs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ia(t){const e=t.name;if(Yg.has(e))return Cs.debug(`There were multiple attempts to register component ${e}.`),!1;Yg.set(e,t);for(const n of Kf.values())ew(n,t);for(const n of l4.values())ew(n,t);return!0}function _d(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Mn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yr=new wc("app","Firebase",u4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Er("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=a4;function k1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:$g,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw yr.create("bad-app-name",{appName:String(a)});if(n||(n=D1()),!n)throw yr.create("no-options");const l=Kf.get(a);if(l){if(Ca(n,l.options)&&Ca(s,l.config))return l;throw yr.create("duplicate-app",{appName:a})}const c=new gk(a);for(const m of Yg.values())c.addComponent(m);const f=new c4(n,s,c);return Kf.set(a,f),f}function cv(t=$g){const e=Kf.get(t);if(!e&&t===$g&&D1())return k1();if(!e)throw yr.create("no-app",{appName:t});return e}function Li(t,e,n){let s=o4[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cs.warn(c.join(" "));return}Ia(new Er(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4="firebase-heartbeat-database",f4=1,ac="firebase-heartbeat-store";let ug=null;function L1(){return ug||(ug=Ik(h4,f4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ac)}catch(n){console.warn(n)}}}}).catch(t=>{throw yr.create("idb-open",{originalErrorMessage:t.message})})),ug}async function d4(t){try{const n=(await L1()).transaction(ac),s=await n.objectStore(ac).get(U1(t));return await n.done,s}catch(e){if(e instanceof Ki)Cs.warn(e.message);else{const n=yr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Cs.warn(n.message)}}}async function tw(t,e){try{const s=(await L1()).transaction(ac,"readwrite");await s.objectStore(ac).put(e,U1(t)),await s.done}catch(n){if(n instanceof Ki)Cs.warn(n.message);else{const s=yr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Cs.warn(s.message)}}}function U1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=1024,p4=30;class g4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new v4(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=nw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>p4){const c=_4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Cs.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=nw(),{heartbeatsToSend:s,unsentEntries:a}=y4(this._heartbeatsCache.heartbeats),l=Gf(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Cs.warn(n),""}}}function nw(){return new Date().toISOString().substring(0,10)}function y4(t,e=m4){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),iw(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),iw(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class v4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sk()?rk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await d4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return tw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return tw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function iw(t){return Gf(JSON.stringify({version:2,heartbeats:t})).length}function _4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(t){Ia(new Er("platform-logger",e=>new Pk(e),"PRIVATE")),Ia(new Er("heartbeat",e=>new g4(e),"PRIVATE")),Li(Kg,JE,t),Li(Kg,JE,"esm2020"),Li("fire-js","")}b4("");var T4="firebase",E4="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Li(T4,E4,"app");function j1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const w4=j1,B1=new wc("auth","Firebase",j1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f=new lv("@firebase/auth");function S4(t,...e){$f.logLevel<=Oe.WARN&&$f.warn(`Auth (${Va}): ${t}`,...e)}function If(t,...e){$f.logLevel<=Oe.ERROR&&$f.error(`Auth (${Va}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(t,...e){throw hv(t,...e)}function Ui(t,...e){return hv(t,...e)}function z1(t,e,n){const s={...w4(),[e]:n};return new wc("auth","Firebase",s).create(e,{appName:t.name})}function Es(t){return z1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hv(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return B1.create(t,...e)}function be(t,e,...n){if(!t)throw hv(e,...n)}function _s(t){const e="INTERNAL ASSERTION FAILED: "+t;throw If(e),new Error(e)}function Is(t,e){t||_s(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function A4(){return sw()==="http:"||sw()==="https:"}function sw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(A4()||ek()||"connection"in navigator)?navigator.onLine:!0}function R4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n){this.shortDelay=e,this.longDelay=n,Is(n>e,"Short delay should be less than long delay!"),this.isMobile=WV()||tk()}get(){return x4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(t,e){Is(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_s("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_s("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_s("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],N4=new Ac(3e4,6e4);function Or(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Mr(t,e,n,s,a={}){return q1(t,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const f=Sc({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return JV()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Pr(t.emulatorConfig.host)&&(p.credentials="include"),F1.fetch()(await H1(t,t.config.apiHost,n,f),p)})}async function q1(t,e,n){t._canInitEmulator=!1;const s={...C4,...e};try{const a=new P4(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw pf(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw pf(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw pf(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw pf(t,"user-disabled",c);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw z1(t,y,p);hi(t,y)}}catch(a){if(a instanceof Ki)throw a;hi(t,"network-request-failed",{message:String(a)})}}async function xc(t,e,n,s,a={}){const l=await Mr(t,e,n,s,a);return"mfaPendingCredential"in l&&hi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function H1(t,e,n,s){const a=`${e}${n}?${s}`,l=t,c=l.config.emulator?fv(t.config,a):`${t.config.apiScheme}://${a}`;return I4.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function D4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class P4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ui(this.auth,"network-request-failed")),N4.get())})}}function pf(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Ui(t,e,s);return a.customData._tokenResponse=n,a}function rw(t){return t!==void 0&&t.enterprise!==void 0}class O4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return D4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function M4(t,e){return Mr(t,"GET","/v2/recaptchaConfig",Or(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V4(t,e){return Mr(t,"POST","/v1/accounts:delete",e)}async function Yf(t,e){return Mr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function k4(t,e=!1){const n=Bt(t),s=await n.getIdToken(e),a=dv(s);be(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:Ku(cg(a.auth_time)),issuedAtTime:Ku(cg(a.iat)),expirationTime:Ku(cg(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function cg(t){return Number(t)*1e3}function dv(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return If("JWT malformed, contained fewer than 3 sections"),null;try{const a=C1(n);return a?JSON.parse(a):(If("Failed to decode base64 JWT payload"),null)}catch(a){return If("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function aw(t){const e=dv(t);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oc(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ki&&L4(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function L4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ku(this.lastLoginAt),this.creationTime=Ku(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xf(t){var _;const e=t.auth,n=await t.getIdToken(),s=await oc(t,Yf(e,{idToken:n}));be(s==null?void 0:s.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=(_=a.providerUserInfo)!=null&&_.length?G1(a.providerUserInfo):[],c=B4(t.providerData,l),f=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),p=f?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Qg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function j4(t){const e=Bt(t);await Xf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function B4(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function G1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z4(t,e){const n=await q1(t,{},async()=>{const s=Sc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await H1(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:s};return t.emulatorConfig&&Pr(t.emulatorConfig.host)&&(m.credentials="include"),F1.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function F4(t,e){return Mr(t,"POST","/v2/accounts:revokeToken",Or(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=aw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await z4(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new Ko;return s&&(be(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(be(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(be(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ko,this.toJSON())}_performRefresh(){return _s("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(t,e){be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class li{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new U4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Qg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await oc(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return k4(this,e)}reload(){return j4(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new li({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Xf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(Es(this.auth));const e=await this.getIdToken();return await oc(this,V4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,f=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:_,emailVerified:b,isAnonymous:A,providerData:C,stsTokenManager:M}=n;be(_&&M,e,"internal-error");const D=Ko.fromJSON(this.name,M);be(typeof _=="string",e,"internal-error"),lr(s,e.name),lr(a,e.name),be(typeof b=="boolean",e,"internal-error"),be(typeof A=="boolean",e,"internal-error"),lr(l,e.name),lr(c,e.name),lr(f,e.name),lr(m,e.name),lr(p,e.name),lr(y,e.name);const U=new li({uid:_,auth:e,email:a,emailVerified:b,displayName:s,isAnonymous:A,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:D,createdAt:p,lastLoginAt:y});return C&&Array.isArray(C)&&(U.providerData=C.map(G=>({...G}))),m&&(U._redirectEventId=m),U}static async _fromIdTokenResponse(e,n,s=!1){const a=new Ko;a.updateFromServerResponse(n);const l=new li({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Xf(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];be(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?G1(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new Ko;f.updateFromIdToken(s);const m=new li({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Qg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=new Map;function bs(t){Is(t instanceof Function,"Expected a class definition");let e=ow.get(t);return e?(Is(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ow.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}K1.type="NONE";const lw=K1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(t,e,n){return`firebase:${t}:${e}:${n}`}class $o{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Nf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Nf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Yf(this.auth,{idToken:e}).catch(()=>{});return n?li._fromGetAccountInfoResponse(this.auth,n,e):null}return li._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new $o(bs(lw),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||bs(lw);const c=Nf(s,e.config.apiKey,e.name);let f=null;for(const p of n)try{const y=await p._get(c);if(y){let _;if(typeof y=="string"){const b=await Yf(e,{idToken:y}).catch(()=>{});if(!b)break;_=await li._fromGetAccountInfoResponse(e,b,y)}else _=li._fromJSON(e,y);p!==l&&(f=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new $o(l,e,s):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new $o(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Q1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Z1(e))return"Blackberry";if(J1(e))return"Webos";if(Y1(e))return"Safari";if((e.includes("chrome/")||X1(e))&&!e.includes("edge/"))return"Chrome";if(W1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function $1(t=hn()){return/firefox\//i.test(t)}function Y1(t=hn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function X1(t=hn()){return/crios\//i.test(t)}function Q1(t=hn()){return/iemobile/i.test(t)}function W1(t=hn()){return/android/i.test(t)}function Z1(t=hn()){return/blackberry/i.test(t)}function J1(t=hn()){return/webos/i.test(t)}function mv(t=hn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function q4(t=hn()){var e;return mv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function H4(){return nk()&&document.documentMode===10}function ex(t=hn()){return mv(t)||W1(t)||J1(t)||Z1(t)||/windows phone/i.test(t)||Q1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(t,e=[]){let n;switch(t){case"Browser":n=uw(hn());break;case"Worker":n=`${uw(hn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Va}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,f)=>{try{const m=e(l);c(m)}catch(m){f(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K4(t,e={}){return Mr(t,"GET","/v2/passwordPolicy",Or(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4=6;class Y4{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cw(this),this.idTokenSubscription=new cw(this),this.beforeStateQueue=new G4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=B1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=bs(n)),this._initializationPromise=this.queue(async()=>{var s,a,l;if(!this._deleted&&(this.persistenceManager=await $o.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Yf(this,{idToken:e}),s=await li._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(Mn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,f=s==null?void 0:s._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===f)&&(m!=null&&m.user)&&(s=m.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=R4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mn(this.app))return Promise.reject(Es(this));const n=e?Bt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(Es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mn(this.app)?Promise.reject(Es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await K4(this),n=new Y4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await F4(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&bs(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await $o.create(this,[bs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&S4(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ka(t){return Bt(t)}class cw{constructor(e){this.auth=e,this.observer=null,this.addObserver=ck(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Q4(t){bd=t}function nx(t){return bd.loadJS(t)}function W4(){return bd.recaptchaEnterpriseScript}function Z4(){return bd.gapiScript}function J4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class eL{constructor(){this.enterprise=new tL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class tL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const nL="recaptcha-enterprise",ix="NO_RECAPTCHA";class iL{constructor(e){this.type=nL,this.auth=ka(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{M4(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new O4(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{f(m)})})}function a(l,c,f){const m=window.grecaptcha;rw(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(ix)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eL().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(f=>{if(!n&&rw(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=W4();m.length!==0&&(m+=f),nx(m).then(()=>{a(f,l,c)}).catch(p=>{c(p)})}}).catch(f=>{c(f)})})}}async function hw(t,e,n,s=!1,a=!1){const l=new iL(t);let c;if(a)c=ix;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const f={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Wg(t,e,n,s,a){var l;if((l=t._getRecaptchaConfig())!=null&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await hw(t,e,n,n==="getOobCode");return s(t,c)}else return s(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await hw(t,e,n,n==="getOobCode");return s(t,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(t,e){const n=_d(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ca(l,e??{}))return a;hi(a,"already-initialized")}return n.initialize({options:e})}function rL(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(bs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function aL(t,e,n){const s=ka(t);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=sx(e),{host:c,port:f}=oL(e),m=f===null?"":`:${f}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(Ca(p,s.config.emulator)&&Ca(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,Pr(c)?(av(`${l}//${c}${m}`),ov("Auth",!0)):lL()}function sx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function oL(t){const e=sx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:fw(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:fw(c)}}}function fw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function lL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _s("not implemented")}_getIdTokenResponse(e){return _s("not implemented")}_linkToIdToken(e,n){return _s("not implemented")}_getReauthenticationResolver(e){return _s("not implemented")}}async function uL(t,e){return Mr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cL(t,e){return xc(t,"POST","/v1/accounts:signInWithPassword",Or(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hL(t,e){return xc(t,"POST","/v1/accounts:signInWithEmailLink",Or(t,e))}async function fL(t,e){return xc(t,"POST","/v1/accounts:signInWithEmailLink",Or(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc extends pv{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new lc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new lc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wg(e,n,"signInWithPassword",cL);case"emailLink":return hL(e,{email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wg(e,s,"signUpPassword",uL);case"emailLink":return fL(e,{idToken:n,email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(t,e){return xc(t,"POST","/v1/accounts:signInWithIdp",Or(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL="http://localhost";class Na extends pv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Na(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new Na(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Yo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Yo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Yo(e,n)}buildRequest(){const e={requestUri:dL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Sc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pL(t){const e=Ou(Mu(t)).link,n=e?Ou(Mu(e)).deep_link_id:null,s=Ou(Mu(t)).deep_link_id;return(s?Ou(Mu(s)).link:null)||s||n||e||t}class gv{constructor(e){const n=Ou(Mu(e)),s=n.apiKey??null,a=n.oobCode??null,l=mL(n.mode??null);be(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=pL(e);try{return new gv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(){this.providerId=hl.PROVIDER_ID}static credential(e,n){return lc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=gv.parseLink(n);return be(s,"argument-error"),lc._fromEmailAndCode(e,s.code,s.tenantId)}}hl.PROVIDER_ID="password";hl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends rx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends Rc{constructor(){super("facebook.com")}static credential(e){return Na._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cr.credential(e.oauthAccessToken)}catch{return null}}}cr.FACEBOOK_SIGN_IN_METHOD="facebook.com";cr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr extends Rc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Na._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return hr.credential(n,s)}catch{return null}}}hr.GOOGLE_SIGN_IN_METHOD="google.com";hr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends Rc{constructor(){super("github.com")}static credential(e){return Na._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fr.credential(e.oauthAccessToken)}catch{return null}}}fr.GITHUB_SIGN_IN_METHOD="github.com";fr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends Rc{constructor(){super("twitter.com")}static credential(e,n){return Na._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return dr.credential(n,s)}catch{return null}}}dr.TWITTER_SIGN_IN_METHOD="twitter.com";dr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gL(t,e){return xc(t,"POST","/v1/accounts:signUp",Or(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await li._fromIdTokenResponse(e,s,a),c=dw(s);return new Da({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=dw(s);return new Da({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function dw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf extends Ki{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Qf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new Qf(e,n,s,a)}}function ax(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Qf._fromErrorAndOperation(t,l,e,s):l})}async function yL(t,e,n=!1){const s=await oc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Da._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vL(t,e,n=!1){const{auth:s}=t;if(Mn(s.app))return Promise.reject(Es(s));const a="reauthenticate";try{const l=await oc(t,ax(s,a,e,t),n);be(l.idToken,s,"internal-error");const c=dv(l.idToken);be(c,s,"internal-error");const{sub:f}=c;return be(t.uid===f,s,"user-mismatch"),Da._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&hi(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ox(t,e,n=!1){if(Mn(t.app))return Promise.reject(Es(t));const s="signIn",a=await ax(t,s,e),l=await Da._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function _L(t,e){return ox(ka(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lx(t){const e=ka(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function bL(t,e,n){if(Mn(t.app))return Promise.reject(Es(t));const s=ka(t),c=await Wg(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gL).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&lx(t),m}),f=await Da._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(f.user),f}function TL(t,e,n){return Mn(t.app)?Promise.reject(Es(t)):_L(Bt(t),hl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&lx(t),s})}function EL(t,e,n,s){return Bt(t).onIdTokenChanged(e,n,s)}function wL(t,e,n){return Bt(t).beforeAuthStateChanged(e,n)}function SL(t,e,n,s){return Bt(t).onAuthStateChanged(e,n,s)}function AL(t){return Bt(t).signOut()}const Wf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wf,"1"),this.storage.removeItem(Wf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL=1e3,RL=10;class cx extends ux{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ex(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);H4()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,RL):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},xL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cx.type="LOCAL";const CL=cx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx extends ux{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}hx.type="SESSION";const fx=hx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Td(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(c).map(async p=>p(n.origin,l)),m=await IL(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Td.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const p=yv("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(_){const b=_;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(b.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(){return window}function DL(t){ji().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(){return typeof ji().WorkerGlobalScope<"u"&&typeof ji().importScripts=="function"}async function PL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function ML(){return dx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx="firebaseLocalStorageDb",VL=1,Zf="firebaseLocalStorage",px="fbase_key";class Cc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ed(t,e){return t.transaction([Zf],e?"readwrite":"readonly").objectStore(Zf)}function kL(){const t=indexedDB.deleteDatabase(mx);return new Cc(t).toPromise()}function Zg(){const t=indexedDB.open(mx,VL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Zf,{keyPath:px})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Zf)?e(s):(s.close(),await kL(),e(await Zg()))})})}async function mw(t,e,n){const s=Ed(t,!0).put({[px]:e,value:n});return new Cc(s).toPromise()}async function LL(t,e){const n=Ed(t,!1).get(e),s=await new Cc(n).toPromise();return s===void 0?null:s.value}function pw(t,e){const n=Ed(t,!0).delete(e);return new Cc(n).toPromise()}const UL=800,jL=3;class gx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>jL)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Td._getInstance(ML()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await PL(),!this.activeServiceWorker)return;this.sender=new NL(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zg();return await mw(e,Wf,"1"),await pw(e,Wf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>mw(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>LL(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>pw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Ed(a,!1).getAll();return new Cc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gx.type="LOCAL";const BL=gx;new Ac(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zL(t,e){return e?bs(e):(be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv extends pv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Yo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function FL(t){return ox(t.auth,new vv(t),t.bypassAuthState)}function qL(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),vL(n,new vv(t),t.bypassAuthState)}async function HL(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),yL(n,new vv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return FL;case"linkViaPopup":case"linkViaRedirect":return HL;case"reauthViaPopup":case"reauthViaRedirect":return qL;default:hi(this.auth,"internal-error")}}resolve(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL=new Ac(2e3,1e4);class Go extends yx{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Go.currentPopupAction&&Go.currentPopupAction.cancel(),Go.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Is(this.filter.length===1,"Popup operations only handle one event");const e=yv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Go.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GL.get())};e()}}Go.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL="pendingRedirect",Df=new Map;class $L extends yx{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Df.get(this.auth._key());if(!e){try{const s=await YL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Df.set(this.auth._key(),e)}return this.bypassAuthState||Df.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YL(t,e){const n=WL(e),s=QL(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function XL(t,e){Df.set(t._key(),e)}function QL(t){return bs(t._redirectPersistence)}function WL(t){return Nf(KL,t.config.apiKey,t.name)}async function ZL(t,e,n=!1){if(Mn(t.app))return Promise.reject(Es(t));const s=ka(t),a=zL(s,e),c=await new $L(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=10*60*1e3;class e6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!t6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!vx(e)){const a=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ui(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JL&&this.cachedEventUids.clear(),this.cachedEventUids.has(gw(e))}saveEventToCache(e){this.cachedEventUids.add(gw(e)),this.lastProcessedEventTime=Date.now()}}function gw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vx({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function t6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vx(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n6(t,e={}){return Mr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,s6=/^https?/;async function r6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await n6(t);for(const n of e)try{if(a6(n))return}catch{}hi(t,"unauthorized-domain")}function a6(t){const e=Xg(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!s6.test(n))return!1;if(i6.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6=new Ac(3e4,6e4);function yw(){const t=ji().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function l6(t){return new Promise((e,n)=>{var a,l,c;function s(){yw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yw(),n(Ui(t,"network-request-failed"))},timeout:o6.get()})}if((l=(a=ji().gapi)==null?void 0:a.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=ji().gapi)!=null&&c.load)s();else{const f=J4("iframefcb");return ji()[f]=()=>{gapi.load?s():n(Ui(t,"network-request-failed"))},nx(`${Z4()}?onload=${f}`).catch(m=>n(m))}}).catch(e=>{throw Pf=null,e})}let Pf=null;function u6(t){return Pf=Pf||l6(t),Pf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6=new Ac(5e3,15e3),h6="__/auth/iframe",f6="emulator/auth/iframe",d6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},m6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function p6(t){const e=t.config;be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?fv(e,f6):`https://${t.config.authDomain}/${h6}`,s={apiKey:e.apiKey,appName:t.name,v:Va},a=m6.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Sc(s).slice(1)}`}async function g6(t){const e=await u6(t),n=ji().gapi;return be(n,t,"internal-error"),e.open({where:document.body,url:p6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:d6,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Ui(t,"network-request-failed"),f=ji().setTimeout(()=>{l(c)},c6.get());function m(){ji().clearTimeout(f),a(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},v6=500,_6=600,b6="_blank",T6="http://localhost";class vw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function E6(t,e,n,s=v6,a=_6){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const m={...y6,width:s.toString(),height:a.toString(),top:l,left:c},p=hn().toLowerCase();n&&(f=X1(p)?b6:n),$1(p)&&(e=e||T6,m.scrollbars="yes");const y=Object.entries(m).reduce((b,[A,C])=>`${b}${A}=${C},`,"");if(q4(p)&&f!=="_self")return w6(e||"",f),new vw(null);const _=window.open(e||"",f,y);be(_,t,"popup-blocked");try{_.focus()}catch{}return new vw(_)}function w6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6="__/auth/handler",A6="emulator/auth/handler",x6=encodeURIComponent("fac");async function _w(t,e,n,s,a,l){be(t.config.authDomain,t,"auth-domain-config-required"),be(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Va,eventId:a};if(e instanceof rx){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",uk(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof Rc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await t._getAppCheckToken(),p=m?`#${x6}=${encodeURIComponent(m)}`:"";return`${R6(t)}?${Sc(f).slice(1)}${p}`}function R6({config:t}){return t.emulator?fv(t,A6):`https://${t.authDomain}/${S6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg="webStorageSupport";class C6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fx,this._completeRedirectFn=ZL,this._overrideRedirectResult=XL}async _openPopup(e,n,s,a){var c;Is((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await _w(e,n,s,Xg(),a);return E6(e,l,yv())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await _w(e,n,s,Xg(),a);return DL(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Is(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await g6(e),s=new e6(e);return n.register("authEvent",a=>(be(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hg,{type:hg},a=>{var c;const l=(c=a==null?void 0:a[0])==null?void 0:c[hg];l!==void 0&&n(!!l),hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=r6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ex()||Y1()||mv()}}const I6=C6;var bw="@firebase/auth",Tw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function P6(t){Ia(new Er("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=s.options;be(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tx(t)},p=new X4(s,a,l,m);return rL(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ia(new Er("auth-internal",e=>{const n=ka(e.getProvider("auth").getImmediate());return(s=>new N6(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Li(bw,Tw,D6(t)),Li(bw,Tw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6=5*60,M6=P1("authIdTokenMaxAge")||O6;let Ew=null;const V6=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>M6)return;const a=n==null?void 0:n.token;Ew!==a&&(Ew=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function k6(t=cv()){const e=_d(t,"auth");if(e.isInitialized())return e.getImmediate();const n=sL(t,{popupRedirectResolver:I6,persistence:[BL,CL,fx]}),s=P1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=V6(l.toString());wL(n,c,()=>c(n.currentUser)),EL(n,f=>c(f))}}const a=I1("auth");return a&&aL(n,`http://${a}`),n}function L6(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Q4({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Ui("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",L6().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});P6("Browser");var ww=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vr,_x;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,R){function I(){}I.prototype=R.prototype,P.D=R.prototype,P.prototype=new I,P.prototype.constructor=P,P.C=function(V,B,F){for(var O=Array(arguments.length-2),St=2;St<arguments.length;St++)O[St-2]=arguments[St];return R.prototype[B].apply(V,O)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(P,R,I){I||(I=0);var V=Array(16);if(typeof R=="string")for(var B=0;16>B;++B)V[B]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(B=0;16>B;++B)V[B]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=P.g[0],I=P.g[1],B=P.g[2];var F=P.g[3],O=R+(F^I&(B^F))+V[0]+3614090360&4294967295;R=I+(O<<7&4294967295|O>>>25),O=F+(B^R&(I^B))+V[1]+3905402710&4294967295,F=R+(O<<12&4294967295|O>>>20),O=B+(I^F&(R^I))+V[2]+606105819&4294967295,B=F+(O<<17&4294967295|O>>>15),O=I+(R^B&(F^R))+V[3]+3250441966&4294967295,I=B+(O<<22&4294967295|O>>>10),O=R+(F^I&(B^F))+V[4]+4118548399&4294967295,R=I+(O<<7&4294967295|O>>>25),O=F+(B^R&(I^B))+V[5]+1200080426&4294967295,F=R+(O<<12&4294967295|O>>>20),O=B+(I^F&(R^I))+V[6]+2821735955&4294967295,B=F+(O<<17&4294967295|O>>>15),O=I+(R^B&(F^R))+V[7]+4249261313&4294967295,I=B+(O<<22&4294967295|O>>>10),O=R+(F^I&(B^F))+V[8]+1770035416&4294967295,R=I+(O<<7&4294967295|O>>>25),O=F+(B^R&(I^B))+V[9]+2336552879&4294967295,F=R+(O<<12&4294967295|O>>>20),O=B+(I^F&(R^I))+V[10]+4294925233&4294967295,B=F+(O<<17&4294967295|O>>>15),O=I+(R^B&(F^R))+V[11]+2304563134&4294967295,I=B+(O<<22&4294967295|O>>>10),O=R+(F^I&(B^F))+V[12]+1804603682&4294967295,R=I+(O<<7&4294967295|O>>>25),O=F+(B^R&(I^B))+V[13]+4254626195&4294967295,F=R+(O<<12&4294967295|O>>>20),O=B+(I^F&(R^I))+V[14]+2792965006&4294967295,B=F+(O<<17&4294967295|O>>>15),O=I+(R^B&(F^R))+V[15]+1236535329&4294967295,I=B+(O<<22&4294967295|O>>>10),O=R+(B^F&(I^B))+V[1]+4129170786&4294967295,R=I+(O<<5&4294967295|O>>>27),O=F+(I^B&(R^I))+V[6]+3225465664&4294967295,F=R+(O<<9&4294967295|O>>>23),O=B+(R^I&(F^R))+V[11]+643717713&4294967295,B=F+(O<<14&4294967295|O>>>18),O=I+(F^R&(B^F))+V[0]+3921069994&4294967295,I=B+(O<<20&4294967295|O>>>12),O=R+(B^F&(I^B))+V[5]+3593408605&4294967295,R=I+(O<<5&4294967295|O>>>27),O=F+(I^B&(R^I))+V[10]+38016083&4294967295,F=R+(O<<9&4294967295|O>>>23),O=B+(R^I&(F^R))+V[15]+3634488961&4294967295,B=F+(O<<14&4294967295|O>>>18),O=I+(F^R&(B^F))+V[4]+3889429448&4294967295,I=B+(O<<20&4294967295|O>>>12),O=R+(B^F&(I^B))+V[9]+568446438&4294967295,R=I+(O<<5&4294967295|O>>>27),O=F+(I^B&(R^I))+V[14]+3275163606&4294967295,F=R+(O<<9&4294967295|O>>>23),O=B+(R^I&(F^R))+V[3]+4107603335&4294967295,B=F+(O<<14&4294967295|O>>>18),O=I+(F^R&(B^F))+V[8]+1163531501&4294967295,I=B+(O<<20&4294967295|O>>>12),O=R+(B^F&(I^B))+V[13]+2850285829&4294967295,R=I+(O<<5&4294967295|O>>>27),O=F+(I^B&(R^I))+V[2]+4243563512&4294967295,F=R+(O<<9&4294967295|O>>>23),O=B+(R^I&(F^R))+V[7]+1735328473&4294967295,B=F+(O<<14&4294967295|O>>>18),O=I+(F^R&(B^F))+V[12]+2368359562&4294967295,I=B+(O<<20&4294967295|O>>>12),O=R+(I^B^F)+V[5]+4294588738&4294967295,R=I+(O<<4&4294967295|O>>>28),O=F+(R^I^B)+V[8]+2272392833&4294967295,F=R+(O<<11&4294967295|O>>>21),O=B+(F^R^I)+V[11]+1839030562&4294967295,B=F+(O<<16&4294967295|O>>>16),O=I+(B^F^R)+V[14]+4259657740&4294967295,I=B+(O<<23&4294967295|O>>>9),O=R+(I^B^F)+V[1]+2763975236&4294967295,R=I+(O<<4&4294967295|O>>>28),O=F+(R^I^B)+V[4]+1272893353&4294967295,F=R+(O<<11&4294967295|O>>>21),O=B+(F^R^I)+V[7]+4139469664&4294967295,B=F+(O<<16&4294967295|O>>>16),O=I+(B^F^R)+V[10]+3200236656&4294967295,I=B+(O<<23&4294967295|O>>>9),O=R+(I^B^F)+V[13]+681279174&4294967295,R=I+(O<<4&4294967295|O>>>28),O=F+(R^I^B)+V[0]+3936430074&4294967295,F=R+(O<<11&4294967295|O>>>21),O=B+(F^R^I)+V[3]+3572445317&4294967295,B=F+(O<<16&4294967295|O>>>16),O=I+(B^F^R)+V[6]+76029189&4294967295,I=B+(O<<23&4294967295|O>>>9),O=R+(I^B^F)+V[9]+3654602809&4294967295,R=I+(O<<4&4294967295|O>>>28),O=F+(R^I^B)+V[12]+3873151461&4294967295,F=R+(O<<11&4294967295|O>>>21),O=B+(F^R^I)+V[15]+530742520&4294967295,B=F+(O<<16&4294967295|O>>>16),O=I+(B^F^R)+V[2]+3299628645&4294967295,I=B+(O<<23&4294967295|O>>>9),O=R+(B^(I|~F))+V[0]+4096336452&4294967295,R=I+(O<<6&4294967295|O>>>26),O=F+(I^(R|~B))+V[7]+1126891415&4294967295,F=R+(O<<10&4294967295|O>>>22),O=B+(R^(F|~I))+V[14]+2878612391&4294967295,B=F+(O<<15&4294967295|O>>>17),O=I+(F^(B|~R))+V[5]+4237533241&4294967295,I=B+(O<<21&4294967295|O>>>11),O=R+(B^(I|~F))+V[12]+1700485571&4294967295,R=I+(O<<6&4294967295|O>>>26),O=F+(I^(R|~B))+V[3]+2399980690&4294967295,F=R+(O<<10&4294967295|O>>>22),O=B+(R^(F|~I))+V[10]+4293915773&4294967295,B=F+(O<<15&4294967295|O>>>17),O=I+(F^(B|~R))+V[1]+2240044497&4294967295,I=B+(O<<21&4294967295|O>>>11),O=R+(B^(I|~F))+V[8]+1873313359&4294967295,R=I+(O<<6&4294967295|O>>>26),O=F+(I^(R|~B))+V[15]+4264355552&4294967295,F=R+(O<<10&4294967295|O>>>22),O=B+(R^(F|~I))+V[6]+2734768916&4294967295,B=F+(O<<15&4294967295|O>>>17),O=I+(F^(B|~R))+V[13]+1309151649&4294967295,I=B+(O<<21&4294967295|O>>>11),O=R+(B^(I|~F))+V[4]+4149444226&4294967295,R=I+(O<<6&4294967295|O>>>26),O=F+(I^(R|~B))+V[11]+3174756917&4294967295,F=R+(O<<10&4294967295|O>>>22),O=B+(R^(F|~I))+V[2]+718787259&4294967295,B=F+(O<<15&4294967295|O>>>17),O=I+(F^(B|~R))+V[9]+3951481745&4294967295,P.g[0]=P.g[0]+R&4294967295,P.g[1]=P.g[1]+(B+(O<<21&4294967295|O>>>11))&4294967295,P.g[2]=P.g[2]+B&4294967295,P.g[3]=P.g[3]+F&4294967295}s.prototype.u=function(P,R){R===void 0&&(R=P.length);for(var I=R-this.blockSize,V=this.B,B=this.h,F=0;F<R;){if(B==0)for(;F<=I;)a(this,P,F),F+=this.blockSize;if(typeof P=="string"){for(;F<R;)if(V[B++]=P.charCodeAt(F++),B==this.blockSize){a(this,V),B=0;break}}else for(;F<R;)if(V[B++]=P[F++],B==this.blockSize){a(this,V),B=0;break}}this.h=B,this.o+=R},s.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var R=1;R<P.length-8;++R)P[R]=0;var I=8*this.o;for(R=P.length-8;R<P.length;++R)P[R]=I&255,I/=256;for(this.u(P),P=Array(16),R=I=0;4>R;++R)for(var V=0;32>V;V+=8)P[I++]=this.g[R]>>>V&255;return P};function l(P,R){var I=f;return Object.prototype.hasOwnProperty.call(I,P)?I[P]:I[P]=R(P)}function c(P,R){this.h=R;for(var I=[],V=!0,B=P.length-1;0<=B;B--){var F=P[B]|0;V&&F==R||(I[B]=F,V=!1)}this.g=I}var f={};function m(P){return-128<=P&&128>P?l(P,function(R){return new c([R|0],0>R?-1:0)}):new c([P|0],0>P?-1:0)}function p(P){if(isNaN(P)||!isFinite(P))return _;if(0>P)return D(p(-P));for(var R=[],I=1,V=0;P>=I;V++)R[V]=P/I|0,I*=4294967296;return new c(R,0)}function y(P,R){if(P.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(P.charAt(0)=="-")return D(y(P.substring(1),R));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=p(Math.pow(R,8)),V=_,B=0;B<P.length;B+=8){var F=Math.min(8,P.length-B),O=parseInt(P.substring(B,B+F),R);8>F?(F=p(Math.pow(R,F)),V=V.j(F).add(p(O))):(V=V.j(I),V=V.add(p(O)))}return V}var _=m(0),b=m(1),A=m(16777216);t=c.prototype,t.m=function(){if(M(this))return-D(this).m();for(var P=0,R=1,I=0;I<this.g.length;I++){var V=this.i(I);P+=(0<=V?V:4294967296+V)*R,R*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(C(this))return"0";if(M(this))return"-"+D(this).toString(P);for(var R=p(Math.pow(P,6)),I=this,V="";;){var B=se(I,R).g;I=U(I,B.j(R));var F=((0<I.g.length?I.g[0]:I.h)>>>0).toString(P);if(I=B,C(I))return F+V;for(;6>F.length;)F="0"+F;V=F+V}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function C(P){if(P.h!=0)return!1;for(var R=0;R<P.g.length;R++)if(P.g[R]!=0)return!1;return!0}function M(P){return P.h==-1}t.l=function(P){return P=U(this,P),M(P)?-1:C(P)?0:1};function D(P){for(var R=P.g.length,I=[],V=0;V<R;V++)I[V]=~P.g[V];return new c(I,~P.h).add(b)}t.abs=function(){return M(this)?D(this):this},t.add=function(P){for(var R=Math.max(this.g.length,P.g.length),I=[],V=0,B=0;B<=R;B++){var F=V+(this.i(B)&65535)+(P.i(B)&65535),O=(F>>>16)+(this.i(B)>>>16)+(P.i(B)>>>16);V=O>>>16,F&=65535,O&=65535,I[B]=O<<16|F}return new c(I,I[I.length-1]&-2147483648?-1:0)};function U(P,R){return P.add(D(R))}t.j=function(P){if(C(this)||C(P))return _;if(M(this))return M(P)?D(this).j(D(P)):D(D(this).j(P));if(M(P))return D(this.j(D(P)));if(0>this.l(A)&&0>P.l(A))return p(this.m()*P.m());for(var R=this.g.length+P.g.length,I=[],V=0;V<2*R;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(var B=0;B<P.g.length;B++){var F=this.i(V)>>>16,O=this.i(V)&65535,St=P.i(B)>>>16,ut=P.i(B)&65535;I[2*V+2*B]+=O*ut,G(I,2*V+2*B),I[2*V+2*B+1]+=F*ut,G(I,2*V+2*B+1),I[2*V+2*B+1]+=O*St,G(I,2*V+2*B+1),I[2*V+2*B+2]+=F*St,G(I,2*V+2*B+2)}for(V=0;V<R;V++)I[V]=I[2*V+1]<<16|I[2*V];for(V=R;V<2*R;V++)I[V]=0;return new c(I,0)};function G(P,R){for(;(P[R]&65535)!=P[R];)P[R+1]+=P[R]>>>16,P[R]&=65535,R++}function q(P,R){this.g=P,this.h=R}function se(P,R){if(C(R))throw Error("division by zero");if(C(P))return new q(_,_);if(M(P))return R=se(D(P),R),new q(D(R.g),D(R.h));if(M(R))return R=se(P,D(R)),new q(D(R.g),R.h);if(30<P.g.length){if(M(P)||M(R))throw Error("slowDivide_ only works with positive integers.");for(var I=b,V=R;0>=V.l(P);)I=J(I),V=J(V);var B=le(I,1),F=le(V,1);for(V=le(V,2),I=le(I,2);!C(V);){var O=F.add(V);0>=O.l(P)&&(B=B.add(I),F=O),V=le(V,1),I=le(I,1)}return R=U(P,B.j(R)),new q(B,R)}for(B=_;0<=P.l(R);){for(I=Math.max(1,Math.floor(P.m()/R.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),F=p(I),O=F.j(R);M(O)||0<O.l(P);)I-=V,F=p(I),O=F.j(R);C(F)&&(F=b),B=B.add(F),P=U(P,O)}return new q(B,P)}t.A=function(P){return se(this,P).h},t.and=function(P){for(var R=Math.max(this.g.length,P.g.length),I=[],V=0;V<R;V++)I[V]=this.i(V)&P.i(V);return new c(I,this.h&P.h)},t.or=function(P){for(var R=Math.max(this.g.length,P.g.length),I=[],V=0;V<R;V++)I[V]=this.i(V)|P.i(V);return new c(I,this.h|P.h)},t.xor=function(P){for(var R=Math.max(this.g.length,P.g.length),I=[],V=0;V<R;V++)I[V]=this.i(V)^P.i(V);return new c(I,this.h^P.h)};function J(P){for(var R=P.g.length+1,I=[],V=0;V<R;V++)I[V]=P.i(V)<<1|P.i(V-1)>>>31;return new c(I,P.h)}function le(P,R){var I=R>>5;R%=32;for(var V=P.g.length-I,B=[],F=0;F<V;F++)B[F]=0<R?P.i(F+I)>>>R|P.i(F+I+1)<<32-R:P.i(F+I);return new c(B,P.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,_x=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,vr=c}).apply(typeof ww<"u"?ww:typeof self<"u"?self:typeof window<"u"?window:{});var gf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bx,Vu,Tx,Of,Jg,Ex,wx,Sx;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,T){return h==Array.prototype||h==Object.prototype||(h[v]=T.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof gf=="object"&&gf];for(var v=0;v<h.length;++v){var T=h[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=n(this);function a(h,v){if(v)e:{var T=s;h=h.split(".");for(var x=0;x<h.length-1;x++){var H=h[x];if(!(H in T))break e;T=T[H]}h=h[h.length-1],x=T[h],v=v(x),v!=x&&v!=null&&e(T,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var T=0,x=!1,H={next:function(){if(!x&&T<h.length){var Q=T++;return{value:v(Q,h[Q]),done:!1}}return x=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,T){return h.call.apply(h.bind,arguments)}function _(h,v,T){if(!h)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,x),h.apply(v,H)}}return function(){return h.apply(v,arguments)}}function b(h,v,T){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,b.apply(null,arguments)}function A(h,v){var T=Array.prototype.slice.call(arguments,1);return function(){var x=T.slice();return x.push.apply(x,arguments),h.apply(this,x)}}function C(h,v){function T(){}T.prototype=v.prototype,h.aa=v.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(x,H,Q){for(var ue=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)ue[Le-2]=arguments[Le];return v.prototype[H].apply(x,ue)}}function M(h){const v=h.length;if(0<v){const T=Array(v);for(let x=0;x<v;x++)T[x]=h[x];return T}return[]}function D(h,v){for(let T=1;T<arguments.length;T++){const x=arguments[T];if(m(x)){const H=h.length||0,Q=x.length||0;h.length=H+Q;for(let ue=0;ue<Q;ue++)h[H+ue]=x[ue]}else h.push(x)}}class U{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function G(h){return/^[\s\xa0]*$/.test(h)}function q(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function se(h){return se[" "](h),h}se[" "]=function(){};var J=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function le(h,v,T){for(const x in h)v.call(T,h[x],x,h)}function P(h,v){for(const T in h)v.call(void 0,h[T],T,h)}function R(h){const v={};for(const T in h)v[T]=h[T];return v}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(h,v){let T,x;for(let H=1;H<arguments.length;H++){x=arguments[H];for(T in x)h[T]=x[T];for(let Q=0;Q<I.length;Q++)T=I[Q],Object.prototype.hasOwnProperty.call(x,T)&&(h[T]=x[T])}}function B(h){var v=1;h=h.split(":");const T=[];for(;0<v&&h.length;)T.push(h.shift()),v--;return h.length&&T.push(h.join(":")),T}function F(h){f.setTimeout(()=>{throw h},0)}function O(){var h=ke;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class St{constructor(){this.h=this.g=null}add(v,T){const x=ut.get();x.set(v,T),this.h?this.h.next=x:this.g=x,this.h=x}}var ut=new U(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,de=!1,ke=new St,L=()=>{const h=f.Promise.resolve(void 0);ae=()=>{h.then(re)}};var re=()=>{for(var h;h=O();){try{h.h.call(h.g)}catch(T){F(T)}var v=ut;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}de=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};f.addEventListener("test",T,v),f.removeEventListener("test",T,v)}catch{}return h}();function Ie(h,v){if(oe.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,x=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(J){e:{try{se(v.nodeName);var H=!0;break e}catch{}H=!1}H||(v=null)}}else T=="mouseover"?v=h.fromElement:T=="mouseout"&&(v=h.toElement);this.relatedTarget=v,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Se[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ie.aa.h.call(this)}}C(Ie,oe);var Se={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var zt="closure_listenable_"+(1e6*Math.random()|0),tt=0;function pi(h,v,T,x,H){this.listener=h,this.proxy=null,this.src=v,this.type=T,this.capture=!!x,this.ha=H,this.key=++tt,this.da=this.fa=!1}function Os(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function $i(h){this.src=h,this.g={},this.h=0}$i.prototype.add=function(h,v,T,x,H){var Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);var ue=kr(h,v,x,H);return-1<ue?(v=h[ue],T||(v.fa=!1)):(v=new pi(v,this.src,Q,!!x,H),v.fa=T,h.push(v)),v};function Vr(h,v){var T=v.type;if(T in h.g){var x=h.g[T],H=Array.prototype.indexOf.call(x,v,void 0),Q;(Q=0<=H)&&Array.prototype.splice.call(x,H,1),Q&&(Os(v),h.g[T].length==0&&(delete h.g[T],h.h--))}}function kr(h,v,T,x){for(var H=0;H<h.length;++H){var Q=h[H];if(!Q.da&&Q.listener==v&&Q.capture==!!T&&Q.ha==x)return H}return-1}var Lr="closure_lm_"+(1e6*Math.random()|0),vl={};function jc(h,v,T,x,H){if(Array.isArray(v)){for(var Q=0;Q<v.length;Q++)jc(h,v[Q],T,x,H);return null}return T=Bc(T),h&&h[zt]?h.K(v,T,p(x)?!!x.capture:!1,H):kn(h,v,T,!1,x,H)}function kn(h,v,T,x,H,Q){if(!v)throw Error("Invalid event type");var ue=p(H)?!!H.capture:!!H,Le=Fa(h);if(Le||(h[Lr]=Le=new $i(h)),T=Le.add(v,T,x,ue,Q),T.proxy)return T;if(x=jd(),T.proxy=x,x.src=h,x.listener=T,h.addEventListener)ye||(H=ue),H===void 0&&(H=!1),h.addEventListener(v.toString(),x,H);else if(h.attachEvent)h.attachEvent(Ur(v.toString()),x);else if(h.addListener&&h.removeListener)h.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return T}function jd(){function h(T){return v.call(h.src,h.listener,T)}const v=Bd;return h}function _l(h,v,T,x,H){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)_l(h,v[Q],T,x,H);else x=p(x)?!!x.capture:!!x,T=Bc(T),h&&h[zt]?(h=h.i,v=String(v).toString(),v in h.g&&(Q=h.g[v],T=kr(Q,T,x,H),-1<T&&(Os(Q[T]),Array.prototype.splice.call(Q,T,1),Q.length==0&&(delete h.g[v],h.h--)))):h&&(h=Fa(h))&&(v=h.g[v.toString()],h=-1,v&&(h=kr(v,T,x,H)),(T=-1<h?v[h]:null)&&za(T))}function za(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[zt])Vr(v.i,h);else{var T=h.type,x=h.proxy;v.removeEventListener?v.removeEventListener(T,x,h.capture):v.detachEvent?v.detachEvent(Ur(T),x):v.addListener&&v.removeListener&&v.removeListener(x),(T=Fa(v))?(Vr(T,h),T.h==0&&(T.src=null,v[Lr]=null)):Os(h)}}}function Ur(h){return h in vl?vl[h]:vl[h]="on"+h}function Bd(h,v){if(h.da)h=!0;else{v=new Ie(v,this);var T=h.listener,x=h.ha||h.src;h.fa&&za(h),h=T.call(x,v)}return h}function Fa(h){return h=h[Lr],h instanceof $i?h:null}var bl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bc(h){return typeof h=="function"?h:(h[bl]||(h[bl]=function(v){return h.handleEvent(v)}),h[bl])}function pt(){ce.call(this),this.i=new $i(this),this.M=this,this.F=null}C(pt,ce),pt.prototype[zt]=!0,pt.prototype.removeEventListener=function(h,v,T,x){_l(this,h,v,T,x)};function Ke(h,v){var T,x=h.F;if(x)for(T=[];x;x=x.F)T.push(x);if(h=h.M,x=v.type||v,typeof v=="string")v=new oe(v,h);else if(v instanceof oe)v.target=v.target||h;else{var H=v;v=new oe(x,h),V(v,H)}if(H=!0,T)for(var Q=T.length-1;0<=Q;Q--){var ue=v.g=T[Q];H=An(ue,x,!0,v)&&H}if(ue=v.g=h,H=An(ue,x,!0,v)&&H,H=An(ue,x,!1,v)&&H,T)for(Q=0;Q<T.length;Q++)ue=v.g=T[Q],H=An(ue,x,!1,v)&&H}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var T=h.g[v],x=0;x<T.length;x++)Os(T[x]);delete h.g[v],h.h--}}this.F=null},pt.prototype.K=function(h,v,T,x){return this.i.add(String(h),v,!1,T,x)},pt.prototype.L=function(h,v,T,x){return this.i.add(String(h),v,!0,T,x)};function An(h,v,T,x){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var H=!0,Q=0;Q<v.length;++Q){var ue=v[Q];if(ue&&!ue.da&&ue.capture==T){var Le=ue.listener,Vt=ue.ha||ue.src;ue.fa&&Vr(h.i,ue),H=Le.call(Vt,x)!==!1&&H}}return H&&!x.defaultPrevented}function sn(h,v,T){if(typeof h=="function")T&&(h=b(h,T));else if(h&&typeof h.handleEvent=="function")h=b(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(h,v||0)}function zc(h){h.g=sn(()=>{h.g=null,h.i&&(h.i=!1,zc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class zd extends ce{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:zc(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jr(h){ce.call(this),this.h=h,this.g={}}C(jr,ce);var Br=[];function zr(h){le(h.g,function(v,T){this.g.hasOwnProperty(T)&&za(v)},h),h.g={}}jr.prototype.N=function(){jr.aa.N.call(this),zr(this)},jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ti=f.JSON.stringify,qa=f.JSON.parse,Fr=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function Tl(){}Tl.prototype.h=null;function El(h){return h.h||(h.h=h.i())}function wl(){}var Yi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xi(){oe.call(this,"d")}C(Xi,oe);function Sl(){oe.call(this,"c")}C(Sl,oe);var gi={},Al=null;function Ms(){return Al=Al||new pt}gi.La="serverreachability";function Ha(h){oe.call(this,gi.La,h)}C(Ha,oe);function Vs(h){const v=Ms();Ke(v,new Ha(v))}gi.STAT_EVENT="statevent";function Fc(h,v){oe.call(this,gi.STAT_EVENT,h),this.stat=v}C(Fc,oe);function at(h){const v=Ms();Ke(v,new Fc(v,h))}gi.Ma="timingevent";function Mt(h,v){oe.call(this,gi.Ma,h),this.size=v}C(Mt,oe);function At(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},v)}function Ln(){this.g=!0}Ln.prototype.xa=function(){this.g=!1};function xl(h,v,T,x,H,Q){h.info(function(){if(h.g)if(Q)for(var ue="",Le=Q.split("&"),Vt=0;Vt<Le.length;Vt++){var Ue=Le[Vt].split("=");if(1<Ue.length){var qt=Ue[0];Ue=Ue[1];var kt=qt.split("_");ue=2<=kt.length&&kt[1]=="type"?ue+(qt+"="+Ue+"&"):ue+(qt+"=redacted&")}}else ue=null;else ue=Q;return"XMLHTTP REQ ("+x+") [attempt "+H+"]: "+v+`
`+T+`
`+ue})}function Fd(h,v,T,x,H,Q,ue){h.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+H+"]: "+v+`
`+T+`
`+Q+" "+ue})}function ks(h,v,T,x){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+qr(h,T)+(x?" "+x:"")})}function qc(h,v){h.info(function(){return"TIMEOUT: "+v})}Ln.prototype.info=function(){};function qr(h,v){if(!h.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var x=T[h];if(!(2>x.length)){var H=x[1];if(Array.isArray(H)&&!(1>H.length)){var Q=H[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ue=1;ue<H.length;ue++)H[ue]=""}}}}return ti(T)}catch{return v}}var Ls={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Qi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yi;function vi(){}C(vi,Tl),vi.prototype.g=function(){return new XMLHttpRequest},vi.prototype.i=function(){return{}},yi=new vi;function fn(h,v,T,x){this.j=h,this.i=v,this.l=T,this.R=x||1,this.U=new jr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _t}function _t(){this.i=null,this.g="",this.h=!1}var Rl={},Ga={};function ni(h,v,T){h.L=1,h.v=Yr(xn(v)),h.m=T,h.P=!0,Wi(h,null)}function Wi(h,v){h.F=Date.now(),Hr(h),h.A=xn(h.v);var T=h.A,x=h.R;Array.isArray(x)||(x=[String(x)]),Ol(T.i,"t",x),h.C=0,T=h.j.J,h.h=new _t,h.g=rh(h.j,T?v:null,!h.m),0<h.O&&(h.M=new zd(b(h.Y,h,h.g),h.O)),v=h.U,T=h.g,x=h.ca;var H="readystatechange";Array.isArray(H)||(H&&(Br[0]=H.toString()),H=Br);for(var Q=0;Q<H.length;Q++){var ue=jc(T,H[Q],x||v.handleEvent,!1,v.h||v);if(!ue)break;v.g[ue.key]=ue}v=h.H?R(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Vs(),xl(h.i,h.u,h.A,h.l,h.R,h.m)}fn.prototype.ca=function(h){h=h.target;const v=this.M;v&&zn(h)==3?v.j():this.Y(h)},fn.prototype.Y=function(h){try{if(h==this.g)e:{const kt=zn(this.g);var v=this.g.Ba();const rs=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||Wc(this.g)))){this.J||kt!=4||v==7||(v==8||0>=rs?Vs(3):Vs(2)),Us(this);var T=this.g.Z();this.X=T;t:if(Hc(this)){var x=Wc(this.g);h="";var H=x.length,Q=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yt(this),_i(this);var ue="";break t}this.h.i=new f.TextDecoder}for(v=0;v<H;v++)this.h.h=!0,h+=this.h.i.decode(x[v],{stream:!(Q&&v==H-1)});x.length=0,this.h.g+=h,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=T==200,Fd(this.i,this.u,this.A,this.l,this.R,kt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,Vt=this.g;if((Le=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Le)){var Ue=Le;break t}}Ue=null}if(T=Ue)ks(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gr(this,T);else{this.o=!1,this.s=3,at(12),Yt(this),_i(this);break e}}if(this.P){T=!0;let Xt;for(;!this.J&&this.C<ue.length;)if(Xt=Gc(this,ue),Xt==Ga){kt==4&&(this.s=4,at(14),T=!1),ks(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==Rl){this.s=4,at(15),ks(this.i,this.l,ue,"[Invalid Chunk]"),T=!1;break}else ks(this.i,this.l,Xt,null),Gr(this,Xt);if(Hc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||ue.length!=0||this.h.h||(this.s=1,at(16),T=!1),this.o=this.o&&T,!T)ks(this.i,this.l,ue,"[Invalid Chunked Response]"),Yt(this),_i(this);else if(0<ue.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),na(qt),qt.M=!0,at(11))}}else ks(this.i,this.l,ue,null),Gr(this,ue);kt==4&&Yt(this),this.o&&!this.J&&(kt==4?nh(this.j,this):(this.o=!1,Hr(this)))}else $d(this.g),T==400&&0<ue.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),Yt(this),_i(this)}}}catch{}finally{}};function Hc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Gc(h,v){var T=h.C,x=v.indexOf(`
`,T);return x==-1?Ga:(T=Number(v.substring(T,x)),isNaN(T)?Rl:(x+=1,x+T>v.length?Ga:(v=v.slice(x,x+T),h.C=x+T,v)))}fn.prototype.cancel=function(){this.J=!0,Yt(this)};function Hr(h){h.S=Date.now()+h.I,Kc(h,h.I)}function Kc(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=At(b(h.ba,h),v)}function Us(h){h.B&&(f.clearTimeout(h.B),h.B=null)}fn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(qc(this.i,this.A),this.L!=2&&(Vs(),at(17)),Yt(this),this.s=2,_i(this)):Kc(this,this.S-h)};function _i(h){h.j.G==0||h.J||nh(h.j,h)}function Yt(h){Us(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,zr(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Gr(h,v){try{var T=h.j;if(T.G!=0&&(T.g==h||Cl(T.h,h))){if(!h.K&&Cl(T.h,h)&&T.G==3){try{var x=T.Da.g.parse(v)}catch{x=null}if(Array.isArray(x)&&x.length==3){var H=x;if(H[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)io(T),to(T);else break e;Ul(T),at(18)}}else T.za=H[1],0<T.za-T.T&&37500>H[2]&&T.F&&T.v==0&&!T.C&&(T.C=At(b(T.Za,T),6e3));if(1>=$a(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else ss(T,11)}else if((h.K||T.g==h)&&io(T),!G(v))for(H=T.Da.g.parse(v),v=0;v<H.length;v++){let Ue=H[v];if(T.T=Ue[0],Ue=Ue[1],T.G==2)if(Ue[0]=="c"){T.K=Ue[1],T.ia=Ue[2];const qt=Ue[3];qt!=null&&(T.la=qt,T.j.info("VER="+T.la));const kt=Ue[4];kt!=null&&(T.Aa=kt,T.j.info("SVER="+T.Aa));const rs=Ue[5];rs!=null&&typeof rs=="number"&&0<rs&&(x=1.5*rs,T.L=x,T.j.info("backChannelRequestTimeoutMs_="+x)),x=T;const Xt=h.g;if(Xt){const xi=Xt.g?Xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xi){var Q=x.h;Q.g||xi.indexOf("spdy")==-1&&xi.indexOf("quic")==-1&&xi.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ya(Q,Q.h),Q.h=null))}if(x.D){const Bl=Xt.g?Xt.g.getResponseHeader("X-HTTP-Session-Id"):null;Bl&&(x.ya=Bl,Xe(x.I,x.D,Bl))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),x=T;var ue=h;if(x.qa=sh(x,x.J?x.ia:null,x.W),ue.K){dn(x.h,ue);var Le=ue,Vt=x.L;Vt&&(Le.I=Vt),Le.B&&(Us(Le),Hr(Le)),x.g=ue}else eh(x);0<T.i.length&&no(T)}else Ue[0]!="stop"&&Ue[0]!="close"||ss(T,7);else T.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?ss(T,7):kl(T):Ue[0]!="noop"&&T.l&&T.l.ta(Ue),T.v=0)}}Vs(4)}catch{}}var $c=class{constructor(h,v){this.g=h,this.map=v}};function Zi(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ka(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function $a(h){return h.h?1:h.g?h.g.size:0}function Cl(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Ya(h,v){h.g?h.g.add(v):h.h=v}function dn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Zi.prototype.cancel=function(){if(this.i=Il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Il(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const T of h.g.values())v=v.concat(T.D);return v}return M(h.i)}function qd(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],T=h.length,x=0;x<T;x++)v.push(h[x]);return v}v=[],T=0;for(x in h)v[T++]=h[x];return v}function Xa(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var T=0;T<h;T++)v.push(T);return v}v=[],T=0;for(const x in h)v[T++]=x;return v}}}function Nl(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var T=Xa(h),x=qd(h),H=x.length,Q=0;Q<H;Q++)v.call(void 0,x[Q],T&&T[Q],h)}var Kr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hd(h,v){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var x=h[T].indexOf("="),H=null;if(0<=x){var Q=h[T].substring(0,x);H=h[T].substring(x+1)}else Q=h[T];v(Q,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function xt(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof xt){this.h=h.h,$r(this,h.j),this.o=h.o,this.g=h.g,js(this,h.s),this.l=h.l;var v=h.i,T=new es;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),Ji(this,T),this.m=h.m}else h&&(v=String(h).match(Kr))?(this.h=!1,$r(this,v[1]||"",!0),this.o=Un(v[2]||""),this.g=Un(v[3]||"",!0),js(this,v[4]),this.l=Un(v[5]||"",!0),Ji(this,v[6]||"",!0),this.m=Un(v[7]||"")):(this.h=!1,this.i=new es(null,this.h))}xt.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Xr(v,Dl,!0),":");var T=this.g;return(T||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Xr(v,Dl,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Xr(T,T.charAt(0)=="/"?Gd:Pl,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Xr(T,Qa)),h.join("")};function xn(h){return new xt(h)}function $r(h,v,T){h.j=T?Un(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function js(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Ji(h,v,T){v instanceof es?(h.i=v,Xc(h.i,h.h)):(T||(v=Xr(v,Kd)),h.i=new es(v,h.h))}function Xe(h,v,T){h.i.set(v,T)}function Yr(h){return Xe(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Un(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Xr(h,v,T){return typeof h=="string"?(h=encodeURI(h).replace(v,Yc),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Yc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Dl=/[#\/\?@]/g,Pl=/[#\?:]/g,Gd=/[#\?]/g,Kd=/[#\?@]/g,Qa=/#/g;function es(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function jn(h){h.g||(h.g=new Map,h.h=0,h.i&&Hd(h.i,function(v,T){h.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}t=es.prototype,t.add=function(h,v){jn(this),this.i=null,h=bi(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(v),this.h+=1,this};function ts(h,v){jn(h),v=bi(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function ns(h,v){return jn(h),v=bi(h,v),h.g.has(v)}t.forEach=function(h,v){jn(this),this.g.forEach(function(T,x){T.forEach(function(H){h.call(v,H,x,this)},this)},this)},t.na=function(){jn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let x=0;x<v.length;x++){const H=h[x];for(let Q=0;Q<H.length;Q++)T.push(v[x])}return T},t.V=function(h){jn(this);let v=[];if(typeof h=="string")ns(this,h)&&(v=v.concat(this.g.get(bi(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)v=v.concat(h[T])}return v},t.set=function(h,v){return jn(this),this.i=null,h=bi(this,h),ns(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Ol(h,v,T){ts(h,v),0<T.length&&(h.i=null,h.g.set(bi(h,v),M(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var x=v[T];const Q=encodeURIComponent(String(x)),ue=this.V(x);for(x=0;x<ue.length;x++){var H=Q;ue[x]!==""&&(H+="="+encodeURIComponent(String(ue[x]))),h.push(H)}}return this.i=h.join("&")};function bi(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Xc(h,v){v&&!h.j&&(jn(h),h.i=null,h.g.forEach(function(T,x){var H=x.toLowerCase();x!=H&&(ts(this,x),Ol(this,H,T))},h)),h.j=v}function Qr(h,v){const T=new Ln;if(f.Image){const x=new Image;x.onload=A(Bn,T,"TestLoadImage: loaded",!0,v,x),x.onerror=A(Bn,T,"TestLoadImage: error",!1,v,x),x.onabort=A(Bn,T,"TestLoadImage: abort",!1,v,x),x.ontimeout=A(Bn,T,"TestLoadImage: timeout",!1,v,x),f.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=h}else v(!1)}function ii(h,v){const T=new Ln,x=new AbortController,H=setTimeout(()=>{x.abort(),Bn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:x.signal}).then(Q=>{clearTimeout(H),Q.ok?Bn(T,"TestPingServer: ok",!0,v):Bn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),Bn(T,"TestPingServer: error",!1,v)})}function Bn(h,v,T,x,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),x(T)}catch{}}function Wr(){this.g=new Fr}function Ti(h,v,T){const x=T||"";try{Nl(h,function(H,Q){let ue=H;p(H)&&(ue=ti(H)),v.push(x+Q+"="+encodeURIComponent(ue))})}catch(H){throw v.push(x+"type="+encodeURIComponent("_badmap")),H}}function Bs(h){this.l=h.Ub||null,this.j=h.eb||!1}C(Bs,Tl),Bs.prototype.g=function(){return new is(this.l,this.j)},Bs.prototype.i=function(h){return function(){return h}}({});function is(h,v){pt.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(is,pt),t=is.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,wi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ei(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,wi(this)),this.g&&(this.readyState=3,wi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ml(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ml(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Ei(this):wi(this),this.readyState==3&&Ml(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Ei(this))},t.Qa=function(h){this.g&&(this.response=h,Ei(this))},t.ga=function(){this.g&&Ei(this)};function Ei(h){h.readyState=4,h.l=null,h.j=null,h.v=null,wi(h)}t.setRequestHeader=function(h,v){this.u.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=v.next();return h.join(`\r
`)};function wi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(is.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Vl(h){let v="";return le(h,function(T,x){v+=x,v+=":",v+=T,v+=`\r
`}),v}function Ft(h,v,T){e:{for(x in T){var x=!1;break e}x=!0}x||(T=Vl(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):Xe(h,v,T))}function qe(h){pt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(qe,pt);var Wa=/^https?$/i,Zr=["POST","PUT"];t=qe.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,v,T,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yi.g(),this.v=this.o?El(this.o):El(yi),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Q){Qc(this,Q);return}if(h=T||"",T=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var H in x)T.set(H,x[H]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const Q of x.keys())T.set(Q,x.get(Q));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(T.keys()).find(Q=>Q.toLowerCase()=="content-type"),H=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Zr,v,void 0))||x||H||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ue]of T)this.g.setRequestHeader(Q,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Jr(this),this.u=!0,this.g.send(h),this.u=!1}catch(Q){Qc(this,Q)}};function Qc(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Za(h),Si(h)}function Za(h){h.A||(h.A=!0,Ke(h,"complete"),Ke(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ke(this,"complete"),Ke(this,"abort"),Si(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Si(this,!0)),qe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ja(this):this.bb())},t.bb=function(){Ja(this)};function Ja(h){if(h.h&&typeof c<"u"&&(!h.v[1]||zn(h)!=4||h.Z()!=2)){if(h.u&&zn(h)==4)sn(h.Ea,0,h);else if(Ke(h,"readystatechange"),zn(h)==4){h.h=!1;try{const ue=h.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var x;if(x=ue===0){var H=String(h.D).match(Kr)[1]||null;!H&&f.self&&f.self.location&&(H=f.self.location.protocol.slice(0,-1)),x=!Wa.test(H?H.toLowerCase():"")}T=x}if(T)Ke(h,"complete"),Ke(h,"success");else{h.m=6;try{var Q=2<zn(h)?h.g.statusText:""}catch{Q=""}h.l=Q+" ["+h.Z()+"]",Za(h)}}finally{Si(h)}}}}function Si(h,v){if(h.g){Jr(h);const T=h.g,x=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Ke(h,"ready");try{T.onreadystatechange=x}catch{}}}function Jr(h){h.I&&(f.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function zn(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),qa(v)}};function Wc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function $d(h){const v={};h=(h.g&&2<=zn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<h.length;x++){if(G(h[x]))continue;var T=B(h[x]);const H=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Q=v[H]||[];v[H]=Q,Q.push(T)}P(v,function(x){return x.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ea(h,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||v}function eo(h){this.Aa=0,this.i=[],this.j=new Ln,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ea("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ea("baseRetryDelayMs",5e3,h),this.cb=ea("retryDelaySeedMs",1e4,h),this.Wa=ea("forwardChannelMaxRetries",2,h),this.wa=ea("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Zi(h&&h.concurrentRequestLimit),this.Da=new Wr,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=eo.prototype,t.la=8,t.G=1,t.connect=function(h,v,T,x){at(0),this.W=h,this.H=v||{},T&&x!==void 0&&(this.H.OSID=T,this.H.OAID=x),this.F=this.X,this.I=sh(this,null,this.W),no(this)};function kl(h){if(Zc(h),h.G==3){var v=h.U++,T=xn(h.I);if(Xe(T,"SID",h.K),Xe(T,"RID",v),Xe(T,"TYPE","terminate"),ta(h,T),v=new fn(h,h.j,v),v.L=2,v.v=Yr(xn(T)),T=!1,f.navigator&&f.navigator.sendBeacon)try{T=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&f.Image&&(new Image().src=v.v,T=!0),T||(v.g=rh(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Hr(v)}ih(h)}function to(h){h.g&&(na(h),h.g.cancel(),h.g=null)}function Zc(h){to(h),h.u&&(f.clearTimeout(h.u),h.u=null),io(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function no(h){if(!Ka(h.h)&&!h.s){h.s=!0;var v=h.Ga;ae||L(),de||(ae(),de=!0),ke.add(v,h),h.B=0}}function Yd(h,v){return $a(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=At(b(h.Ga,h,v),jl(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const H=new fn(this,this.j,h);let Q=this.o;if(this.S&&(Q?(Q=R(Q),V(Q,this.S)):Q=this.S),this.m!==null||this.O||(H.H=Q,Q=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var x=this.i[T];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(v+=x,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=Jc(this,H,v),T=xn(this.I),Xe(T,"RID",h),Xe(T,"CVER",22),this.D&&Xe(T,"X-HTTP-Session-Id",this.D),ta(this,T),Q&&(this.O?v="headers="+encodeURIComponent(String(Vl(Q)))+"&"+v:this.m&&Ft(T,this.m,Q)),Ya(this.h,H),this.Ua&&Xe(T,"TYPE","init"),this.P?(Xe(T,"$req",v),Xe(T,"SID","null"),H.T=!0,ni(H,T,null)):ni(H,T,v),this.G=2}}else this.G==3&&(h?Ll(this,h):this.i.length==0||Ka(this.h)||Ll(this))};function Ll(h,v){var T;v?T=v.l:T=h.U++;const x=xn(h.I);Xe(x,"SID",h.K),Xe(x,"RID",T),Xe(x,"AID",h.T),ta(h,x),h.m&&h.o&&Ft(x,h.m,h.o),T=new fn(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Jc(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ya(h.h,T),ni(T,x,v)}function ta(h,v){h.H&&le(h.H,function(T,x){Xe(v,x,T)}),h.l&&Nl({},function(T,x){Xe(v,x,T)})}function Jc(h,v,T){T=Math.min(h.i.length,T);var x=h.l?b(h.l.Na,h.l,h):null;e:{var H=h.i;let Q=-1;for(;;){const ue=["count="+T];Q==-1?0<T?(Q=H[0].g,ue.push("ofs="+Q)):Q=0:ue.push("ofs="+Q);let Le=!0;for(let Vt=0;Vt<T;Vt++){let Ue=H[Vt].g;const qt=H[Vt].map;if(Ue-=Q,0>Ue)Q=Math.max(0,H[Vt].g-100),Le=!1;else try{Ti(qt,ue,"req"+Ue+"_")}catch{x&&x(qt)}}if(Le){x=ue.join("&");break e}}}return h=h.i.splice(0,T),v.D=h,x}function eh(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;ae||L(),de||(ae(),de=!0),ke.add(v,h),h.v=0}}function Ul(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=At(b(h.Fa,h),jl(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,th(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=At(b(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),to(this),th(this))};function na(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function th(h){h.g=new fn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=xn(h.qa);Xe(v,"RID","rpc"),Xe(v,"SID",h.K),Xe(v,"AID",h.T),Xe(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&Xe(v,"TO",h.ja),Xe(v,"TYPE","xmlhttp"),ta(h,v),h.m&&h.o&&Ft(v,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=Yr(xn(v)),T.m=null,T.P=!0,Wi(T,h)}t.Za=function(){this.C!=null&&(this.C=null,to(this),Ul(this),at(19))};function io(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function nh(h,v){var T=null;if(h.g==v){io(h),na(h),h.g=null;var x=2}else if(Cl(h.h,v))T=v.D,dn(h.h,v),x=1;else return;if(h.G!=0){if(v.o)if(x==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var H=h.B;x=Ms(),Ke(x,new Mt(x,T)),no(h)}else eh(h);else if(H=v.s,H==3||H==0&&0<v.X||!(x==1&&Yd(h,v)||x==2&&Ul(h)))switch(T&&0<T.length&&(v=h.h,v.i=v.i.concat(T)),H){case 1:ss(h,5);break;case 4:ss(h,10);break;case 3:ss(h,6);break;default:ss(h,2)}}}function jl(h,v){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*v}function ss(h,v){if(h.j.info("Error code "+v),v==2){var T=b(h.fb,h),x=h.Xa;const H=!x;x=new xt(x||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||$r(x,"https"),Yr(x),H?Qr(x.toString(),T):ii(x.toString(),T)}else at(2);h.G=0,h.l&&h.l.sa(v),ih(h),Zc(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function ih(h){if(h.G=0,h.ka=[],h.l){const v=Il(h.h);(v.length!=0||h.i.length!=0)&&(D(h.ka,v),D(h.ka,h.i),h.h.i.length=0,M(h.i),h.i.length=0),h.l.ra()}}function sh(h,v,T){var x=T instanceof xt?xn(T):new xt(T);if(x.g!="")v&&(x.g=v+"."+x.g),js(x,x.s);else{var H=f.location;x=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;var Q=new xt(null);x&&$r(Q,x),v&&(Q.g=v),H&&js(Q,H),T&&(Q.l=T),x=Q}return T=h.D,v=h.ya,T&&v&&Xe(x,T,v),Xe(x,"VER",h.la),ta(h,x),x}function rh(h,v,T){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new qe(new Bs({eb:T})):new qe(h.pa),v.Ha(h.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ah(){}t=ah.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function so(){}so.prototype.g=function(h,v){return new mn(h,v)};function mn(h,v){pt.call(this),this.g=new eo(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!G(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!G(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Ai(this)}C(mn,pt),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){kl(this.g)},mn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=ti(h),h=T);v.i.push(new $c(v.Ya++,h)),v.G==3&&no(v)},mn.prototype.N=function(){this.g.l=null,delete this.j,kl(this.g),delete this.g,mn.aa.N.call(this)};function oh(h){Xi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const T in v){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}C(oh,Xi);function lh(){Sl.call(this),this.status=1}C(lh,Sl);function Ai(h){this.g=h}C(Ai,ah),Ai.prototype.ua=function(){Ke(this.g,"a")},Ai.prototype.ta=function(h){Ke(this.g,new oh(h))},Ai.prototype.sa=function(h){Ke(this.g,new lh)},Ai.prototype.ra=function(){Ke(this.g,"b")},so.prototype.createWebChannel=so.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Sx=function(){return new so},wx=function(){return Ms()},Ex=gi,Jg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ls.NO_ERROR=0,Ls.TIMEOUT=8,Ls.HTTP_ERROR=6,Of=Ls,Qi.COMPLETE="complete",Tx=Qi,wl.EventType=Yi,Yi.OPEN="a",Yi.CLOSE="b",Yi.ERROR="c",Yi.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Vu=wl,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,bx=qe}).apply(typeof gf<"u"?gf:typeof self<"u"?self:typeof window<"u"?window:{});const Sw="@firebase/firestore",Aw="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa=new lv("@firebase/firestore");function Vo(){return Pa.logLevel}function fe(t,...e){if(Pa.logLevel<=Oe.DEBUG){const n=e.map(_v);Pa.debug(`Firestore (${fl}): ${t}`,...n)}}function Ns(t,...e){if(Pa.logLevel<=Oe.ERROR){const n=e.map(_v);Pa.error(`Firestore (${fl}): ${t}`,...n)}}function Jo(t,...e){if(Pa.logLevel<=Oe.WARN){const n=e.map(_v);Pa.warn(`Firestore (${fl}): ${t}`,...n)}}function _v(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Ax(t,s,n)}function Ax(t,e,n){let s=`FIRESTORE (${fl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ns(s),new Error(s)}function Ge(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||Ax(e,a,s)}function xe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Ki{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class U6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ln.UNAUTHENTICATED))}shutdown(){}}class j6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class B6{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new ws;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ws,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},f=m=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ws)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new xx(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class z6{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class F6{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new z6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class q6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const s=l=>{l.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,fe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const a=l=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new xw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new xw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=H6(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function Me(t,e){return t<e?-1:t>e?1:0}function ey(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return fg(a)===fg(l)?Me(a,l):fg(a)?1:-1}return Me(t.length,e.length)}const G6=55296,K6=57343;function fg(t){const e=t.charCodeAt(0);return e>=G6&&e<=K6}function el(t,e,n){return t.length===e.length&&t.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="__name__";class Pi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Pi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=Pi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Me(e.length,n.length)}static compareSegments(e,n){const s=Pi.isNumericId(e),a=Pi.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Pi.extractNumericId(e).compare(Pi.extractNumericId(n)):ey(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vr.fromString(e.substring(4,e.length-2))}}class it extends Pi{construct(e,n,s){return new it(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new it(n)}static emptyPath(){return new it([])}}const $6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Pi{construct(e,n,s){return new tn(e,n,s)}static isValidIdentifier(e){return $6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Rw}static keyField(){return new tn([Rw])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new he(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new he(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(s+=f,a++):(l(),a++)}if(l(),c)throw new he(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(it.fromString(e))}static fromName(e){return new ge(it.fromString(e).popFirst(5))}static empty(){return new ge(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(t,e,n){if(!n)throw new he(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Y6(t,e,n,s){if(e===!0&&s===!0)throw new he(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Cw(t){if(!ge.isDocumentKey(t))throw new he(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Iw(t){if(ge.isDocumentKey(t))throw new he(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Cx(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function wd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Te(12329,{type:typeof t})}function wr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wd(t);throw new he(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ic(t,e){if(!Cx(t))throw new he(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new he(te.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=-62135596800,Dw=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Dw);return new st(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Nw)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Dw}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ic(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Nw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Pt("string",st._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new st(0,0))}static max(){return new Ae(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=-1;function X6(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ae.fromTimestamp(s===1e9?new st(n+1,0):new st(n,s));return new Sr(a,ge.empty(),e)}function Q6(t){return new Sr(t.readTime,t.key,uc)}class Sr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Sr(Ae.min(),ge.empty(),uc)}static max(){return new Sr(Ae.max(),ge.empty(),uc)}}function W6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class J6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dl(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==Z6)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.reject(n)}static resolve(e){return new ie((n,s)=>{n(e)})}static reject(e){return new ie((n,s)=>{s(e)})}static waitFor(e){return new ie((n,s)=>{let a=0,l=0,c=!1;e.forEach(f=>{++a,f.next(()=>{++l,c&&l===a&&n()},m=>s(m))}),c=!0,l===a&&n()})}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next(a=>a?ie.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,l)=>{s.push(n.call(this,a,l))}),this.waitFor(s)}static mapArray(e,n){return new ie((s,a)=>{const l=e.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next(y=>{c[p]=y,++f,f===l&&s(c)},y=>a(y))}})}static doWhile(e,n){return new ie((s,a)=>{const l=()=>{e()===!0?n().next(()=>{l()},a):s()};l()})}}function e3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ml(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv=-1;function Ad(t){return t==null}function Jf(t){return t===0&&1/t==-1/0}function t3(t){return typeof t=="number"&&Number.isInteger(t)&&!Jf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="";function n3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Pw(e)),e=i3(t.get(n),e);return Pw(e)}function i3(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case Ix:n+="";break;default:n+=l}}return n}function Pw(t){return t+Ix+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function La(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Nx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yf(this.root,e,this.comparator,!1)}getReverseIterator(){return new yf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yf(this.root,e,this.comparator,!0)}}class yf{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??en.RED,this.left=a??en.EMPTY,this.right=l??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new en(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return en.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new en(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Mw(this.data.getIterator())}getIteratorFrom(e){return new Mw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new jt(this.comparator);return n.data=e,n}}class Mw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new ui([])}unionWith(e){let n=new jt(tn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ui(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return el(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Dx("Invalid base64 string: "+l):l}}(e);return new nn(n)}static fromUint8Array(e){const n=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const s3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ar(t){if(Ge(!!t,39018),typeof t=="string"){let e=0;const n=s3.exec(t);if(Ge(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:wt(t.seconds),nanos:wt(t.nanos)}}function wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xr(t){return typeof t=="string"?nn.fromBase64String(t):nn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="server_timestamp",Ox="__type__",Mx="__previous_value__",Vx="__local_write_time__";function Ev(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Ox])==null?void 0:s.stringValue)===Px}function xd(t){const e=t.mapValue.fields[Mx];return Ev(e)?xd(e):e}function cc(t){const e=Ar(t.mapValue.fields[Vx].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e,n,s,a,l,c,f,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const ed="(default)";class hc{constructor(e,n){this.projectId=e,this.database=n||ed}static empty(){return new hc("","")}get isDefaultDatabase(){return this.database===ed}isEqual(e){return e instanceof hc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="__type__",a3="__max__",vf={mapValue:{}},Lx="__vector__",td="value";function Rr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ev(t)?4:l3(t)?9007199254740991:o3(t)?10:11:Te(28295,{value:t})}function Gi(t,e){if(t===e)return!0;const n=Rr(t);if(n!==Rr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cc(t).isEqual(cc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ar(a.timestampValue),f=Ar(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,l){return xr(a.bytesValue).isEqual(xr(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,l){return wt(a.geoPointValue.latitude)===wt(l.geoPointValue.latitude)&&wt(a.geoPointValue.longitude)===wt(l.geoPointValue.longitude)}(t,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return wt(a.integerValue)===wt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=wt(a.doubleValue),f=wt(l.doubleValue);return c===f?Jf(c)===Jf(f):isNaN(c)&&isNaN(f)}return!1}(t,e);case 9:return el(t.arrayValue.values||[],e.arrayValue.values||[],Gi);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(Ow(c)!==Ow(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!Gi(c[m],f[m])))return!1;return!0}(t,e);default:return Te(52216,{left:t})}}function fc(t,e){return(t.values||[]).find(n=>Gi(n,e))!==void 0}function tl(t,e){if(t===e)return 0;const n=Rr(t),s=Rr(e);if(n!==s)return Me(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return function(l,c){const f=wt(l.integerValue||l.doubleValue),m=wt(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(t,e);case 3:return Vw(t.timestampValue,e.timestampValue);case 4:return Vw(cc(t),cc(e));case 5:return ey(t.stringValue,e.stringValue);case 6:return function(l,c){const f=xr(l),m=xr(c);return f.compareTo(m)}(t.bytesValue,e.bytesValue);case 7:return function(l,c){const f=l.split("/"),m=c.split("/");for(let p=0;p<f.length&&p<m.length;p++){const y=Me(f[p],m[p]);if(y!==0)return y}return Me(f.length,m.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,c){const f=Me(wt(l.latitude),wt(c.latitude));return f!==0?f:Me(wt(l.longitude),wt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return kw(t.arrayValue,e.arrayValue);case 10:return function(l,c){var b,A,C,M;const f=l.fields||{},m=c.fields||{},p=(b=f[td])==null?void 0:b.arrayValue,y=(A=m[td])==null?void 0:A.arrayValue,_=Me(((C=p==null?void 0:p.values)==null?void 0:C.length)||0,((M=y==null?void 0:y.values)==null?void 0:M.length)||0);return _!==0?_:kw(p,y)}(t.mapValue,e.mapValue);case 11:return function(l,c){if(l===vf.mapValue&&c===vf.mapValue)return 0;if(l===vf.mapValue)return 1;if(c===vf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const b=ey(m[_],y[_]);if(b!==0)return b;const A=tl(f[m[_]],p[y[_]]);if(A!==0)return A}return Me(m.length,y.length)}(t.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function Vw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);const n=Ar(t),s=Ar(e),a=Me(n.seconds,s.seconds);return a!==0?a:Me(n.nanos,s.nanos)}function kw(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=tl(n[a],s[a]);if(l)return l}return Me(n.length,s.length)}function nl(t){return ty(t)}function ty(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=Ar(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return xr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ge.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=ty(l);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${ty(n.fields[c])}`;return a+"}"}(t.mapValue):Te(61005,{value:t})}function Mf(t){switch(Rr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xd(t);return e?16+Mf(e):16;case 5:return 2*t.stringValue.length;case 6:return xr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,l)=>a+Mf(l),0)}(t.arrayValue);case 10:case 11:return function(s){let a=0;return La(s.fields,(l,c)=>{a+=l.length+Mf(c)}),a}(t.mapValue);default:throw Te(13486,{value:t})}}function Lw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ny(t){return!!t&&"integerValue"in t}function wv(t){return!!t&&"arrayValue"in t}function Uw(t){return!!t&&"nullValue"in t}function jw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vf(t){return!!t&&"mapValue"in t}function o3(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[kx])==null?void 0:s.stringValue)===Lx}function $u(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return La(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=$u(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$u(t.arrayValue.values[n]);return e}return{...t}}function l3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===a3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.value=e}static empty(){return new Zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Vf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$u(n)}setAll(e){let n=tn.emptyPath(),s={},a=[];e.forEach((c,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=f.popLast()}c?s[f.lastSegment()]=$u(c):a.push(f.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Vf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Vf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){La(n,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new Zn($u(this.value))}}function Ux(t){const e=[];return La(t.fields,(n,s)=>{const a=new tn([n]);if(Vf(s)){const l=Ux(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new ui(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n,s,a,l,c,f){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new un(e,0,Ae.min(),Ae.min(),Ae.min(),Zn.empty(),0)}static newFoundDocument(e,n,s,a){return new un(e,1,n,Ae.min(),s,a,0)}static newNoDocument(e,n){return new un(e,2,n,Ae.min(),Ae.min(),Zn.empty(),0)}static newUnknownDocument(e,n){return new un(e,3,n,Ae.min(),Ae.min(),Zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n){this.position=e,this.inclusive=n}}function Bw(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?s=ge.comparator(ge.fromName(c.referenceValue),n.key):s=tl(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function zw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n="asc"){this.field=e,this.dir=n}}function u3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{}class Dt extends jx{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new h3(e,n,s):n==="array-contains"?new m3(e,s):n==="in"?new p3(e,s):n==="not-in"?new g3(e,s):n==="array-contains-any"?new y3(e,s):new Dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new f3(e,s):new d3(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(tl(n,this.value)):n!==null&&Rr(this.value)===Rr(n)&&this.matchesComparison(tl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fi extends jx{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new fi(e,n)}matches(e){return Bx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Bx(t){return t.op==="and"}function zx(t){return c3(t)&&Bx(t)}function c3(t){for(const e of t.filters)if(e instanceof fi)return!1;return!0}function iy(t){if(t instanceof Dt)return t.field.canonicalString()+t.op.toString()+nl(t.value);if(zx(t))return t.filters.map(e=>iy(e)).join(",");{const e=t.filters.map(n=>iy(n)).join(",");return`${t.op}(${e})`}}function Fx(t,e){return t instanceof Dt?function(s,a){return a instanceof Dt&&s.op===a.op&&s.field.isEqual(a.field)&&Gi(s.value,a.value)}(t,e):t instanceof fi?function(s,a){return a instanceof fi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((l,c,f)=>l&&Fx(c,a.filters[f]),!0):!1}(t,e):void Te(19439)}function qx(t){return t instanceof Dt?function(n){return`${n.field.canonicalString()} ${n.op} ${nl(n.value)}`}(t):t instanceof fi?function(n){return n.op.toString()+" {"+n.getFilters().map(qx).join(" ,")+"}"}(t):"Filter"}class h3 extends Dt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class f3 extends Dt{constructor(e,n){super(e,"in",n),this.keys=Hx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class d3 extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=Hx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Hx(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(s=>ge.fromName(s.referenceValue))}class m3 extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wv(n)&&fc(n.arrayValue,this.value)}}class p3 extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fc(this.value.arrayValue,n)}}class g3 extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fc(this.value.arrayValue,n)}}class y3 extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>fc(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e,n=null,s=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function Fw(t,e=null,n=[],s=[],a=null,l=null,c=null){return new v3(t,e,n,s,a,l,c)}function Sv(t){const e=xe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>iy(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),Ad(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>nl(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>nl(s)).join(",")),e.Te=n}return e.Te}function Av(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!u3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Fx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zw(t.startAt,e.startAt)&&zw(t.endAt,e.endAt)}function sy(t){return ge.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n=null,s=[],a=[],l=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _3(t,e,n,s,a,l,c,f){return new Nc(t,e,n,s,a,l,c,f)}function xv(t){return new Nc(t)}function qw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Gx(t){return t.collectionGroup!==null}function Yu(t){const e=xe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new jt(tn.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(f=f.add(p.field))})}),f})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new id(l,s))}),n.has(tn.keyField().canonicalString())||e.Ie.push(new id(tn.keyField(),s))}return e.Ie}function Bi(t){const e=xe(t);return e.Ee||(e.Ee=b3(e,Yu(t))),e.Ee}function b3(t,e){if(t.limitType==="F")return Fw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new id(a.field,l)});const n=t.endAt?new nd(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new nd(t.startAt.position,t.startAt.inclusive):null;return Fw(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function ry(t,e){const n=t.filters.concat([e]);return new Nc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ay(t,e,n){return new Nc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Rd(t,e){return Av(Bi(t),Bi(e))&&t.limitType===e.limitType}function Kx(t){return`${Sv(Bi(t))}|lt:${t.limitType}`}function ko(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>qx(a)).join(", ")}]`),Ad(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>nl(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>nl(a)).join(",")),`Target(${s})`}(Bi(t))}; limitType=${t.limitType})`}function Cd(t,e){return e.isFoundDocument()&&function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ge.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(t,e)&&function(s,a){for(const l of Yu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(t,e)&&function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0}(t,e)&&function(s,a){return!(s.startAt&&!function(c,f,m){const p=Bw(c,f,m);return c.inclusive?p<=0:p<0}(s.startAt,Yu(s),a)||s.endAt&&!function(c,f,m){const p=Bw(c,f,m);return c.inclusive?p>=0:p>0}(s.endAt,Yu(s),a))}(t,e)}function T3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function $x(t){return(e,n)=>{let s=!1;for(const a of Yu(t)){const l=E3(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function E3(t,e,n){const s=t.field.isKeyField()?ge.comparator(e.key,n.key):function(l,c,f){const m=c.data.field(l),p=f.data.field(l);return m!==null&&p!==null?tl(m,p):Te(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){La(this.inner,(n,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return Nx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3=new dt(ge.comparator);function Ds(){return w3}const Yx=new dt(ge.comparator);function ku(...t){let e=Yx;for(const n of t)e=e.insert(n.key,n);return e}function Xx(t){let e=Yx;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function wa(){return Xu()}function Qx(){return Xu()}function Xu(){return new Ua(t=>t.toString(),(t,e)=>t.isEqual(e))}const S3=new dt(ge.comparator),A3=new jt(ge.comparator);function Ve(...t){let e=A3;for(const n of t)e=e.add(n);return e}const x3=new jt(Me);function R3(){return x3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jf(e)?"-0":e}}function Wx(t){return{integerValue:""+t}}function C3(t,e){return t3(e)?Wx(e):Rv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(){this._=void 0}}function I3(t,e,n){return t instanceof dc?function(a,l){const c={fields:{[Ox]:{stringValue:Px},[Vx]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Ev(l)&&(l=xd(l)),l&&(c.fields[Mx]=l),{mapValue:c}}(n,e):t instanceof mc?Jx(t,e):t instanceof pc?eR(t,e):function(a,l){const c=Zx(a,l),f=Hw(c)+Hw(a.Ae);return ny(c)&&ny(a.Ae)?Wx(f):Rv(a.serializer,f)}(t,e)}function N3(t,e,n){return t instanceof mc?Jx(t,e):t instanceof pc?eR(t,e):n}function Zx(t,e){return t instanceof sd?function(s){return ny(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class dc extends Id{}class mc extends Id{constructor(e){super(),this.elements=e}}function Jx(t,e){const n=tR(e);for(const s of t.elements)n.some(a=>Gi(a,s))||n.push(s);return{arrayValue:{values:n}}}class pc extends Id{constructor(e){super(),this.elements=e}}function eR(t,e){let n=tR(e);for(const s of t.elements)n=n.filter(a=>!Gi(a,s));return{arrayValue:{values:n}}}class sd extends Id{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Hw(t){return wt(t.integerValue||t.doubleValue)}function tR(t){return wv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e,n){this.field=e,this.transform=n}}function P3(t,e){return t.field.isEqual(e.field)&&function(s,a){return s instanceof mc&&a instanceof mc||s instanceof pc&&a instanceof pc?el(s.elements,a.elements,Gi):s instanceof sd&&a instanceof sd?Gi(s.Ae,a.Ae):s instanceof dc&&a instanceof dc}(t.transform,e.transform)}class O3{constructor(e,n){this.version=e,this.transformResults=n}}class zi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zi}static exists(e){return new zi(void 0,e)}static updateTime(e){return new zi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Nd{}function nR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new sR(t.key,zi.none()):new Dc(t.key,t.data,zi.none());{const n=t.data,s=Zn.empty();let a=new jt(tn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new ja(t.key,s,new ui(a.toArray()),zi.none())}}function M3(t,e,n){t instanceof Dc?function(a,l,c){const f=a.value.clone(),m=Kw(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(t,e,n):t instanceof ja?function(a,l,c){if(!kf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=Kw(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(iR(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(t,e,n):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function Qu(t,e,n,s){return t instanceof Dc?function(l,c,f,m){if(!kf(l.precondition,c))return f;const p=l.value.clone(),y=$w(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(t,e,n,s):t instanceof ja?function(l,c,f,m){if(!kf(l.precondition,c))return f;const p=$w(l.fieldTransforms,m,c),y=c.data;return y.setAll(iR(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(t,e,n,s):function(l,c,f){return kf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(t,e,n)}function V3(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=Zx(s.transform,a||null);l!=null&&(n===null&&(n=Zn.empty()),n.set(s.field,l))}return n||null}function Gw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&el(s,a,(l,c)=>P3(l,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Dc extends Nd{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ja extends Nd{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function iR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function Kw(t,e,n){const s=new Map;Ge(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,f=e.data.field(l.field);s.set(l.field,N3(c,f,n[a]))}return s}function $w(t,e,n){const s=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);s.set(a.field,I3(l,c,e))}return s}class sR extends Nd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class k3 extends Nd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&M3(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Qu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Qu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Qx();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const m=nR(c,f);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Ae.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&el(this.mutations,e.mutations,(n,s)=>Gw(n,s))&&el(this.baseMutations,e.baseMutations,(n,s)=>Gw(n,s))}}class Cv{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=function(){return S3}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new Cv(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,Be;function B3(t){switch(t){case te.OK:return Te(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Te(15467,{code:t})}}function rR(t){if(t===void 0)return Ns("GRPC error has no .code"),te.UNKNOWN;switch(t){case It.OK:return te.OK;case It.CANCELLED:return te.CANCELLED;case It.UNKNOWN:return te.UNKNOWN;case It.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case It.INTERNAL:return te.INTERNAL;case It.UNAVAILABLE:return te.UNAVAILABLE;case It.UNAUTHENTICATED:return te.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case It.NOT_FOUND:return te.NOT_FOUND;case It.ALREADY_EXISTS:return te.ALREADY_EXISTS;case It.PERMISSION_DENIED:return te.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case It.ABORTED:return te.ABORTED;case It.OUT_OF_RANGE:return te.OUT_OF_RANGE;case It.UNIMPLEMENTED:return te.UNIMPLEMENTED;case It.DATA_LOSS:return te.DATA_LOSS;default:return Te(39323,{code:t})}}(Be=It||(It={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3=new vr([4294967295,4294967295],0);function Yw(t){const e=z3().encode(t),n=new _x;return n.update(e),new Uint8Array(n.digest())}function Xw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new vr([n,s],0),new vr([a,l],0)]}class Iv{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Lu(`Invalid padding: ${n}`);if(s<0)throw new Lu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Lu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Lu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=vr.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(vr.fromNumber(s)));return a.compare(F3)===1&&(a=new vr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Yw(e),[s,a]=Xw(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Iv(l,a,n);return s.forEach(f=>c.insert(f)),c}insert(e){if(this.ge===0)return;const n=Yw(e),[s,a]=Xw(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Lu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Pc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Dd(Ae.min(),a,new dt(Me),Ds(),Ve())}}class Pc{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Pc(s,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class aR{constructor(e,n){this.targetId=e,this.Ce=n}}class oR{constructor(e,n,s=nn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Qw{constructor(){this.ve=0,this.Fe=Ww(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),n=Ve(),s=Ve();return this.Fe.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Te(38017,{changeType:l})}}),new Pc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Ww()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class q3{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ds(),this.Je=_f(),this.He=_f(),this.Ye=new dt(Me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,a)=>{this.rt(a)&&n(a)})}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(sy(l))if(s===0){const c=new ge(l.path);this.et(n,c,un.newNoDocument(c,Ae.min()))}else Ge(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const f=this.ut(e),m=f?this.ct(f,e,c):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=xr(s).toUint8Array()}catch(m){if(m instanceof Dx)return Jo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new Iv(c,a,l)}catch(m){return Jo(m instanceof Lu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach(l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)}),a}Tt(e){const n=new Map;this.ze.forEach((l,c)=>{const f=this.ot(c);if(f){if(l.current&&sy(f.target)){const m=new ge(f.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,un.newNoDocument(m,e))}l.Be&&(n.set(c,l.ke()),l.qe())}});let s=Ve();this.He.forEach((l,c)=>{let f=!0;c.forEachWhile(m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(s=s.add(l))}),this.je.forEach((l,c)=>c.setReadTime(e));const a=new Dd(e,n,this.Ye,this.je,s);return this.je=Ds(),this.Je=_f(),this.He=_f(),this.Ye=new dt(Me),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Qw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new jt(Me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new jt(Me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Qw),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function _f(){return new dt(ge.comparator)}function Ww(){return new dt(ge.comparator)}const H3={asc:"ASCENDING",desc:"DESCENDING"},G3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},K3={and:"AND",or:"OR"};class $3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function oy(t,e){return t.useProto3Json||Ad(e)?e:{value:e}}function rd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Y3(t,e){return rd(t,e.toTimestamp())}function Fi(t){return Ge(!!t,49232),Ae.fromTimestamp(function(n){const s=Ar(n);return new st(s.seconds,s.nanos)}(t))}function Nv(t,e){return ly(t,e).canonicalString()}function ly(t,e){const n=function(a){return new it(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function uR(t){const e=it.fromString(t);return Ge(mR(e),10190,{key:e.toString()}),e}function uy(t,e){return Nv(t.databaseId,e.path)}function dg(t,e){const n=uR(e);if(n.get(1)!==t.databaseId.projectId)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ge(hR(n))}function cR(t,e){return Nv(t.databaseId,e)}function X3(t){const e=uR(t);return e.length===4?it.emptyPath():hR(e)}function cy(t){return new it(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function hR(t){return Ge(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Zw(t,e,n){return{name:uy(t,e),fields:n.value.mapValue.fields}}function Q3(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Te(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(p,y){return p.useProto3Json?(Ge(y===void 0||typeof y=="string",58123),nn.fromBase64String(y||"")):(Ge(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),nn.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(p){const y=p.code===void 0?te.UNKNOWN:rR(p.code);return new he(y,p.message||"")}(c);n=new oR(s,a,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=dg(t,s.document.name),l=Fi(s.document.updateTime),c=s.document.createTime?Fi(s.document.createTime):Ae.min(),f=new Zn({mapValue:{fields:s.document.fields}}),m=un.newFoundDocument(a,l,c,f),p=s.targetIds||[],y=s.removedTargetIds||[];n=new Lf(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=dg(t,s.document),l=s.readTime?Fi(s.readTime):Ae.min(),c=un.newNoDocument(a,l),f=s.removedTargetIds||[];n=new Lf([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=dg(t,s.document),l=s.removedTargetIds||[];n=new Lf([],l,a,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new j3(a,l),f=s.targetId;n=new aR(f,c)}}return n}function W3(t,e){let n;if(e instanceof Dc)n={update:Zw(t,e.key,e.value)};else if(e instanceof sR)n={delete:uy(t,e.key)};else if(e instanceof ja)n={update:Zw(t,e.key,e.data),updateMask:aU(e.fieldMask)};else{if(!(e instanceof k3))return Te(16599,{Vt:e.type});n={verify:uy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(l,c){const f=c.transform;if(f instanceof dc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof mc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof pc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof sd)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw Te(20930,{transform:c.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:Y3(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te(27497)}(t,e.precondition)),n}function Z3(t,e){return t&&t.length>0?(Ge(e!==void 0,14353),t.map(n=>function(a,l){let c=a.updateTime?Fi(a.updateTime):Fi(l);return c.isEqual(Ae.min())&&(c=Fi(l)),new O3(c,a.transformResults||[])}(n,e))):[]}function J3(t,e){return{documents:[cR(t,e.path)]}}function eU(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=cR(t,a);const l=function(p){if(p.length!==0)return dR(fi.create(p,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(y=>function(b){return{field:Lo(b.field),direction:iU(b.dir)}}(y))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=oy(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ft:n,parent:a}}function tU(t){let e=X3(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Ge(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=function(_){const b=fR(_);return b instanceof fi&&zx(b)?b.getFilters():[b]}(n.where));let c=[];n.orderBy&&(c=function(_){return _.map(b=>function(C){return new id(Uo(C.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(b))}(n.orderBy));let f=null;n.limit&&(f=function(_){let b;return b=typeof _=="object"?_.value:_,Ad(b)?null:b}(n.limit));let m=null;n.startAt&&(m=function(_){const b=!!_.before,A=_.values||[];return new nd(A,b)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const b=!_.before,A=_.values||[];return new nd(A,b)}(n.endAt)),_3(e,a,c,l,f,"F",m,p)}function nU(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:a})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Uo(n.unaryFilter.field);return Dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Uo(n.unaryFilter.field);return Dt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Uo(n.unaryFilter.field);return Dt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Uo(n.unaryFilter.field);return Dt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(t):t.fieldFilter!==void 0?function(n){return Dt.create(Uo(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return fi.create(n.compositeFilter.filters.map(s=>fR(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(n.compositeFilter.op))}(t):Te(30097,{filter:t})}function iU(t){return H3[t]}function sU(t){return G3[t]}function rU(t){return K3[t]}function Lo(t){return{fieldPath:t.canonicalString()}}function Uo(t){return tn.fromServerFormat(t.fieldPath)}function dR(t){return t instanceof Dt?function(n){if(n.op==="=="){if(jw(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NAN"}};if(Uw(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(jw(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NOT_NAN"}};if(Uw(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lo(n.field),op:sU(n.op),value:n.value}}}(t):t instanceof fi?function(n){const s=n.getFilters().map(a=>dR(a));return s.length===1?s[0]:{compositeFilter:{op:rU(n.op),filters:s}}}(t):Te(54877,{filter:t})}function aU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function mR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,n,s,a,l=Ae.min(),c=Ae.min(),f=nn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new pr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(e){this.yt=e}}function lU(t){const e=tU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ay(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(){this.Cn=new cU}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(Sr.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(Sr.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class cU{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new jt(it.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new jt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pR=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(pR,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new il(0)}static cr(){return new il(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="LruGarbageCollector",hU=1048576;function tS([t,e],[n,s]){const a=Me(t,n);return a===0?Me(e,s):a}class fU{constructor(e){this.Ir=e,this.buffer=new jt(tS),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();tS(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class dU{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(eS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ml(n)?fe(eS,"Ignoring IndexedDB error during garbage collection: ",n):await dl(n)}await this.Vr(3e5)})}}class mU{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Sd.ce);const s=new fU(n);return this.mr.forEachTarget(e,a=>s.Ar(a.sequenceNumber)).next(()=>this.mr.pr(e,a=>s.Ar(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(Jw)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jw):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,c,f,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(s=_,f=Date.now(),this.removeTargets(e,s,n))).next(_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(_=>(p=Date.now(),Vo()<=Oe.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_})))}}function pU(t,e){return new mU(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(){this.changes=new Ua(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&Qu(s.mutation,a,ui.empty(),st.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ve()){const a=wa();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(l=>{let c=ku();return l.forEach((f,m)=>{c=c.insert(f,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const s=wa();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ve()))}populateOverlays(e,n,s){const a=[];return s.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,f)=>{n.set(c,f)})})}computeViews(e,n,s,a){let l=Ds();const c=Xu(),f=function(){return Xu()}();return n.forEach((m,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof ja)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Qu(y.mutation,p,y.mutation.getFieldMask(),st.now())):c.set(p.key,ui.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((p,y)=>c.set(p,y)),n.forEach((p,y)=>f.set(p,new yU(y,c.get(p)??null))),f))}recalculateAndSaveOverlays(e,n){const s=Xu();let a=new dt((c,f)=>c-f),l=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const f of c)f.keys().forEach(m=>{const p=n.get(m);if(p===null)return;let y=s.get(m)||ui.empty();y=f.applyToLocalView(p,y),s.set(m,y);const _=(a.get(f.batchId)||Ve()).add(m);a=a.insert(f.batchId,_)})}).next(()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,y=m.value,_=Qx();y.forEach(b=>{if(!l.has(b)){const A=nR(n.get(b),s.get(b));A!==null&&_.set(b,A),l=l.add(b)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,_))}return ie.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(c){return ge.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Gx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):ie.resolve(wa());let f=uc,m=l;return c.next(p=>ie.forEach(p,(y,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(y)?ie.resolve():this.remoteDocumentCache.getEntry(e,y).next(b=>{m=m.insert(y,b)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,m,p,Ve())).next(y=>({batchId:f,changes:Xx(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(s=>{let a=ku();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let c=ku();return this.indexManager.getCollectionParents(e,l).next(f=>ie.forEach(f,m=>{const p=function(_,b){return new Nc(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next(y=>{y.forEach((_,b)=>{c=c.insert(_,b)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a))).next(c=>{l.forEach((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,un.newInvalidDocument(y)))});let f=ku();return c.forEach((m,p)=>{const y=l.get(m);y!==void 0&&Qu(y.mutation,p,ui.empty(),st.now()),Cd(n,p)&&(f=f.insert(m,p))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Fi(a.createTime)}}(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(a){return{name:a.name,query:lU(a.bundledQuery),readTime:Fi(a.readTime)}}(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(){this.overlays=new dt(ge.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=wa();return ie.forEach(n,a=>this.getOverlay(e,a).next(l=>{l!==null&&s.set(a,l)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,l)=>{this.St(e,n,l)}),ie.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const a=wa(),l=n.length+1,c=new ge(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return ie.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new dt((p,y)=>p-y);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=wa(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=wa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,y)=>f.set(p,y)),!(f.size()>=a)););return ie.resolve(f)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new U3(n,s));let l=this.qr.get(n);l===void 0&&(l=Ve(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(){this.Qr=new jt($t.$r),this.Ur=new jt($t.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new $t(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new $t(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new ge(new it([])),s=new $t(n,e),a=new $t(n,e+1),l=[];return this.Ur.forEachInRange([s,a],c=>{this.Gr(c),l.push(c.key)}),l}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ge(new it([])),s=new $t(n,e),a=new $t(n,e+1);let l=Ve();return this.Ur.forEachInRange([s,a],c=>{l=l.add(c.key)}),l}containsKey(e){const n=new $t(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class $t{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ge.comparator(e.key,n.key)||Me(e.Yr,n.Yr)}static Kr(e,n){return Me(e.Yr,n.Yr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new jt($t.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new L3(l,n,s,a);this.mutationQueue.push(c);for(const f of a)this.Zr=this.Zr.add(new $t(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ie.resolve(c)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return ie.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Tv:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new $t(n,0),a=new $t(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],c=>{const f=this.Xr(c.Yr);l.push(f)}),ie.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new jt(Me);return n.forEach(a=>{const l=new $t(a,0),c=new $t(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],f=>{s=s.add(f.Yr)})}),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;ge.isDocumentKey(l)||(l=l.child(""));const c=new $t(new ge(l),0);let f=new jt(Me);return this.Zr.forEachWhile(m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Yr)),!0)},c),ie.resolve(this.ti(f))}ti(e){const n=[];return e.forEach(s=>{const a=this.Xr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(n.mutations,a=>{const l=new $t(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new $t(n,0),a=this.Zr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(e){this.ri=e,this.docs=function(){return new dt(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let s=Ds();return n.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():un.newInvalidDocument(a))}),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=Ds();const c=n.path,f=new ge(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||W6(Q6(y),s)<=0||(a.has(y.key)||Cd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ie.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Te(9500)}ii(e,n){return ie.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new SU(this)}getSize(e){return ie.resolve(this.size)}}class SU extends gU{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)}),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(e){this.persistence=e,this.si=new Ua(n=>Sv(n),Av),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Dv,this.targetCount=0,this.ai=il.ur()}forEachTarget(e,n){return this.si.forEach((s,a)=>n(a)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new il(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach((c,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),ie.waitFor(l).next(()=>a)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),ie.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n){this.ui={},this.overlays={},this.ci=new Sd(0),this.li=!1,this.li=!0,this.hi=new TU,this.referenceDelegate=e(this),this.Pi=new AU(this),this.indexManager=new uU,this.remoteDocumentCache=function(a){return new wU(a)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new oU(n),this.Ii=new _U(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new bU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new EU(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const a=new xU(this.ci.next());return this.referenceDelegate.Ei(),s(a).next(l=>this.referenceDelegate.di(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ai(e,n){return ie.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class xU extends J6{constructor(e){super(),this.currentSequenceNumber=e}}class Pv{constructor(e){this.persistence=e,this.Ri=new Dv,this.Vi=null}static mi(e){return new Pv(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(a=>this.fi.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.fi.add(l.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,s=>{const a=ge.fromPath(s);return this.gi(e,a).next(l=>{l||n.removeEntry(a,Ae.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ad{constructor(e,n){this.persistence=e,this.pi=new Ua(s=>n3(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=pU(this,n)}static mi(e,n){return new ad(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return ie.forEach(this.pi,(s,a)=>this.br(e,s,a).next(l=>l?ie.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,c=>this.br(e,c,n).next(f=>{f||(s++,l.removeEntry(c,Ae.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Mf(e.data.value)),n}br(e,n,s){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ie.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=Ve(),a=Ve();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Ov(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return ik()?8:e3(hn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ws(e,n,a,s).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new RU;return this.Ss(e,n,c).next(f=>{if(l.result=f,this.Vs)return this.bs(e,n,c,f.size)})}).next(()=>l.result)}bs(e,n,s,a){return s.documentReadCount<this.fs?(Vo()<=Oe.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",ko(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(Vo()<=Oe.DEBUG&&fe("QueryEngine","Query:",ko(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Vo()<=Oe.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",ko(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bi(n))):ie.resolve())}ys(e,n){if(qw(n))return ie.resolve(null);let s=Bi(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=ay(n,null,"F"),s=Bi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const c=Ve(...l);return this.ps.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,s).next(m=>{const p=this.Ds(n,f);return this.Cs(n,p,c,m.readTime)?this.ys(e,ay(n,null,"F")):this.vs(e,p,n,m)}))})))}ws(e,n,s,a){return qw(n)||a.isEqual(Ae.min())?ie.resolve(null):this.ps.getDocuments(e,s).next(l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,a)?ie.resolve(null):(Vo()<=Oe.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ko(n)),this.vs(e,c,n,X6(a,uc)).next(f=>f))})}Ds(e,n){let s=new jt($x(e));return n.forEach((a,l)=>{Cd(e,l)&&(s=s.add(l))}),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return Vo()<=Oe.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",ko(n)),this.ps.getDocumentsMatchingQuery(e,n,Sr.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="LocalStore",IU=3e8;class NU{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new dt(Me),this.xs=new Ua(l=>Sv(l),Av),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vU(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function DU(t,e,n,s){return new NU(t,e,n,s)}async function yR(t,e){const n=xe(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(l=>{const c=[],f=[];let m=Ve();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){f.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next(p=>({Ls:p,removedBatchIds:c,addedBatchIds:f}))})})}function PU(t,e){const n=xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return function(f,m,p,y){const _=p.batch,b=_.keys();let A=ie.resolve();return b.forEach(C=>{A=A.next(()=>y.getEntry(m,C)).next(M=>{const D=p.docVersions.get(C);Ge(D!==null,48541),M.version.compareTo(D)<0&&(_.applyToRemoteDocument(M,p),M.isValidDocument()&&(M.setReadTime(p.commitVersion),y.addEntry(M)))})}),A.next(()=>f.mutationQueue.removeMutationBatch(m,_))}(n,s,e,l).next(()=>l.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let m=Ve();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function vR(t){const e=xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function OU(t,e){const n=xe(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const f=[];e.targetChanges.forEach((y,_)=>{const b=a.get(_);if(!b)return;f.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,_).next(()=>n.Pi.addMatchingKeys(l,y.addedDocuments,_)));let A=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?A=A.withResumeToken(nn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,s)),a=a.insert(_,A),function(M,D,U){return M.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=IU?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(b,A,y)&&f.push(n.Pi.updateTargetData(l,A))});let m=Ds(),p=Ve();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))}),f.push(MU(l,c,e.documentUpdates).next(y=>{m=y.ks,p=y.qs})),!s.isEqual(Ae.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next(_=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s));f.push(y)}return ie.waitFor(f).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(n.Ms=a,l))}function MU(t,e,n){let s=Ve(),a=Ve();return n.forEach(l=>s=s.add(l)),e.getEntries(t,s).next(l=>{let c=Ds();return n.forEach((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Ae.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):fe(Mv,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)}),{ks:c,qs:a}})}function VU(t,e){const n=xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Tv),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function kU(t,e){const n=xe(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Pi.getTargetData(s,e).next(l=>l?(a=l,ie.resolve(a)):n.Pi.allocateTargetId(s).next(c=>(a=new pr(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function hy(t,e,n){const s=xe(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,c=>s.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!ml(c))throw c;fe(Mv,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function nS(t,e,n){const s=xe(t);let a=Ae.min(),l=Ve();return s.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,y){const _=xe(m),b=_.xs.get(y);return b!==void 0?ie.resolve(_.Ms.get(b)):_.Pi.getTargetData(p,y)}(s,c,Bi(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,f.targetId).next(m=>{l=m})}).next(()=>s.Fs.getDocumentsMatchingQuery(c,e,n?a:Ae.min(),n?l:Ve())).next(f=>(LU(s,T3(e),f),{documents:f,Qs:l})))}function LU(t,e,n){let s=t.Os.get(e)||Ae.min();n.forEach((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),t.Os.set(e,s)}class iS{constructor(){this.activeTargetIds=R3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UU{constructor(){this.Mo=new iS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new iS,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="ConnectivityMonitor";class rS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(sS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(sS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bf=null;function fy(){return bf===null?bf=function(){return 268435456+Math.round(2147483648*Math.random())}():bf++,"0x"+bf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="RestConnection",BU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zU{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===ed?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const c=fy(),f=this.zo(e,n.toUriEncodedString());fe(mg,`Sending RPC '${e}' ${c}:`,f,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(f),y=Pr(p);return this.Jo(e,f,m,s,y).then(_=>(fe(mg,`Received RPC '${e}' ${c}: `,_),_),_=>{throw Jo(mg,`RPC '${e}' ${c} failed with error: `,_,"url: ",f,"request:",s),_})}Ho(e,n,s,a,l,c){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>e[l]=a),s&&s.headers.forEach((a,l)=>e[l]=a)}zo(e,n){const s=BU[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class qU extends zU{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const c=fy();return new Promise((f,m)=>{const p=new bx;p.setWithCredentials(!0),p.listenOnce(Tx.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Of.NO_ERROR:const _=p.getResponseJson();fe(on,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),f(_);break;case Of.TIMEOUT:fe(on,`RPC '${e}' ${c} timed out`),m(new he(te.DEADLINE_EXCEEDED,"Request time out"));break;case Of.HTTP_ERROR:const b=p.getStatus();if(fe(on,`RPC '${e}' ${c} failed with status:`,b,"response text:",p.getResponseText()),b>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const C=A==null?void 0:A.error;if(C&&C.status&&C.message){const M=function(U){const G=U.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(G)>=0?G:te.UNKNOWN}(C.status);m(new he(M,C.message))}else m(new he(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new he(te.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{fe(on,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(a);fe(on,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",y,s,15)})}T_(e,n,s){const a=fy(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Sx(),f=wx(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=l.join("");fe(on,`Creating RPC '${e}' stream ${a}: ${y}`,m);const _=c.createWebChannel(y,m);this.I_(_);let b=!1,A=!1;const C=new FU({Yo:D=>{A?fe(on,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(b||(fe(on,`Opening RPC '${e}' stream ${a} transport.`),_.open(),b=!0),fe(on,`RPC '${e}' stream ${a} sending:`,D),_.send(D))},Zo:()=>_.close()}),M=(D,U,G)=>{D.listen(U,q=>{try{G(q)}catch(se){setTimeout(()=>{throw se},0)}})};return M(_,Vu.EventType.OPEN,()=>{A||(fe(on,`RPC '${e}' stream ${a} transport opened.`),C.o_())}),M(_,Vu.EventType.CLOSE,()=>{A||(A=!0,fe(on,`RPC '${e}' stream ${a} transport closed`),C.a_(),this.E_(_))}),M(_,Vu.EventType.ERROR,D=>{A||(A=!0,Jo(on,`RPC '${e}' stream ${a} transport errored. Name:`,D.name,"Message:",D.message),C.a_(new he(te.UNAVAILABLE,"The operation could not be completed")))}),M(_,Vu.EventType.MESSAGE,D=>{var U;if(!A){const G=D.data[0];Ge(!!G,16349);const q=G,se=(q==null?void 0:q.error)||((U=q[0])==null?void 0:U.error);if(se){fe(on,`RPC '${e}' stream ${a} received error:`,se);const J=se.status;let le=function(I){const V=It[I];if(V!==void 0)return rR(V)}(J),P=se.message;le===void 0&&(le=te.INTERNAL,P="Unknown error status: "+J+" with message "+se.message),A=!0,C.a_(new he(le,P)),_.close()}else fe(on,`RPC '${e}' stream ${a} received:`,G),C.u_(G)}}),M(f,Ex.STAT_EVENT,D=>{D.stat===Jg.PROXY?fe(on,`RPC '${e}' stream ${a} detected buffering proxy`):D.stat===Jg.NOPROXY&&fe(on,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{C.__()},0),C}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function pg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(t){return new $3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&fe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="PersistentStream";class bR{constructor(e,n,s,a,l,c,f,m){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _R(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Ns(n.toString()),Ns("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.D_===n&&this.G_(s,a)},s=>{e(()=>{const a=new he(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(a=>{s(()=>this.z_(a))}),this.stream.onMessage(a=>{s(()=>++this.F_==1?this.J_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return fe(aS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(fe(aS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HU extends bR{constructor(e,n,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Q3(this.serializer,e),s=function(l){if(!("targetChange"in l))return Ae.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ae.min():c.readTime?Fi(c.readTime):Ae.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=cy(this.serializer),n.addTarget=function(l,c){let f;const m=c.target;if(f=sy(m)?{documents:J3(l,m)}:{query:eU(l,m).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=lR(l,c.resumeToken);const p=oy(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ae.min())>0){f.readTime=rd(l,c.snapshotVersion.toTimestamp());const p=oy(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f}(this.serializer,e);const s=nU(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=cy(this.serializer),n.removeTarget=e,this.q_(n)}}class GU extends bR{constructor(e,n,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Z3(e.writeResults,e.commitTime),s=Fi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=cy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>W3(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{}class $U extends KU{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Go(e,ly(n,s),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(te.UNKNOWN,l.toString())})}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Ho(e,ly(n,s),a,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(te.UNKNOWN,c.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class YU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ns(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa="RemoteStore";class XU{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo(c=>{s.enqueueAndForget(async()=>{Ba(this)&&(fe(Oa,"Restarting streams for network reachability change."),await async function(m){const p=xe(m);p.Ea.add(4),await Oc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Od(p)}(this))})}),this.Ra=new YU(s,a)}}async function Od(t){if(Ba(t))for(const e of t.da)await e(!0)}async function Oc(t){for(const e of t.da)await e(!1)}function TR(t,e){const n=xe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Uv(n)?Lv(n):pl(n).O_()&&kv(n,e))}function Vv(t,e){const n=xe(t),s=pl(n);n.Ia.delete(e),s.O_()&&ER(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ba(n)&&n.Ra.set("Unknown"))}function kv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pl(t).Y_(e)}function ER(t,e){t.Va.Ue(e),pl(t).Z_(e)}function Lv(t){t.Va=new q3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),pl(t).start(),t.Ra.ua()}function Uv(t){return Ba(t)&&!pl(t).x_()&&t.Ia.size>0}function Ba(t){return xe(t).Ea.size===0}function wR(t){t.Va=void 0}async function QU(t){t.Ra.set("Online")}async function WU(t){t.Ia.forEach((e,n)=>{kv(t,e)})}async function ZU(t,e){wR(t),Uv(t)?(t.Ra.ha(e),Lv(t)):t.Ra.set("Unknown")}async function JU(t,e,n){if(t.Ra.set("Online"),e instanceof oR&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.Va.removeTarget(f))}(t,e)}catch(s){fe(Oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await od(t,s)}else if(e instanceof Lf?t.Va.Ze(e):e instanceof aR?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ae.min()))try{const s=await vR(t.localStore);n.compareTo(s)>=0&&await function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,c))}}),f.targetMismatches.forEach((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(nn.EMPTY_BYTE_STRING,y.snapshotVersion)),ER(l,m);const _=new pr(y.target,m,p,y.sequenceNumber);kv(l,_)}),l.remoteSyncer.applyRemoteEvent(f)}(t,n)}catch(s){fe(Oa,"Failed to raise snapshot:",s),await od(t,s)}}async function od(t,e,n){if(!ml(e))throw e;t.Ea.add(1),await Oc(t),t.Ra.set("Offline"),n||(n=()=>vR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe(Oa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Od(t)})}function SR(t,e){return e().catch(n=>od(t,n,e))}async function Md(t){const e=xe(t),n=Cr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Tv;for(;ej(e);)try{const a=await VU(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,tj(e,a)}catch(a){await od(e,a)}AR(e)&&xR(e)}function ej(t){return Ba(t)&&t.Ta.length<10}function tj(t,e){t.Ta.push(e);const n=Cr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function AR(t){return Ba(t)&&!Cr(t).x_()&&t.Ta.length>0}function xR(t){Cr(t).start()}async function nj(t){Cr(t).ra()}async function ij(t){const e=Cr(t);for(const n of t.Ta)e.ea(n.mutations)}async function sj(t,e,n){const s=t.Ta.shift(),a=Cv.from(s,e,n);await SR(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await Md(t)}async function rj(t,e){e&&Cr(t).X_&&await async function(s,a){if(function(c){return B3(c)&&c!==te.ABORTED}(a.code)){const l=s.Ta.shift();Cr(s).B_(),await SR(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Md(s)}}(t,e),AR(t)&&xR(t)}async function oS(t,e){const n=xe(t);n.asyncQueue.verifyOperationInProgress(),fe(Oa,"RemoteStore received new credentials");const s=Ba(n);n.Ea.add(3),await Oc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Od(n)}async function aj(t,e){const n=xe(t);e?(n.Ea.delete(2),await Od(n)):e||(n.Ea.add(2),await Oc(n),n.Ra.set("Unknown"))}function pl(t){return t.ma||(t.ma=function(n,s,a){const l=xe(n);return l.sa(),new HU(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{Xo:QU.bind(null,t),t_:WU.bind(null,t),r_:ZU.bind(null,t),H_:JU.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Uv(t)?Lv(t):t.Ra.set("Unknown")):(await t.ma.stop(),wR(t))})),t.ma}function Cr(t){return t.fa||(t.fa=function(n,s,a){const l=xe(n);return l.sa(),new GU(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:nj.bind(null,t),r_:rj.bind(null,t),ta:ij.bind(null,t),na:sj.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Md(t)):(await t.fa.stop(),t.Ta.length>0&&(fe(Oa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const c=Date.now()+s,f=new jv(e,n,c,a,l);return f.start(s),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bv(t,e){if(Ns("AsyncQueue",`${e}: ${t}`),ml(t))return new he(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{static emptySet(e){return new Xo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=ku(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Xo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(){this.ga=new dt(ge.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class sl{constructor(e,n,s,a,l,c,f,m,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const c=[];return n.forEach(f=>{c.push({type:0,doc:f})}),new sl(e,n,Xo.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class lj{constructor(){this.queries=uS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=xe(n),l=a.queries;a.queries=uS(),l.forEach((c,f)=>{for(const m of f.Sa)m.onError(s)})})(this,new he(te.ABORTED,"Firestore shutting down"))}}function uS(){return new Ua(t=>Kx(t),Rd)}async function RR(t,e){const n=xe(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new oj,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=Bv(c,`Initialization of query '${ko(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&zv(n)}async function CR(t,e){const n=xe(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function uj(t,e){const n=xe(t);let s=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.Sa)f.Fa(a)&&(s=!0);c.wa=a}}s&&zv(n)}function cj(t,e,n){const s=xe(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function zv(t){t.Ca.forEach(e=>{e.next()})}var dy,cS;(cS=dy||(dy={})).Ma="default",cS.Cache="cache";class IR{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new sl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.key=e}}class DR{constructor(e){this.key=e}}class hj{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=$x(e),this.tu=new Xo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new lS,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,_)=>{const b=a.get(y),A=Cd(this.query,_)?_:null,C=!!b&&this.mutatedKeys.has(b.key),M=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let D=!1;b&&A?b.data.isEqual(A.data)?C!==M&&(s.track({type:3,doc:A}),D=!0):this.su(b,A)||(s.track({type:2,doc:A}),D=!0,(m&&this.eu(A,m)>0||p&&this.eu(A,p)<0)&&(f=!0)):!b&&A?(s.track({type:0,doc:A}),D=!0):b&&!A&&(s.track({type:1,doc:b}),D=!0,(m||p)&&(f=!0)),D&&(A?(c=c.add(A),l=M?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Cs:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort((y,_)=>function(A,C){const M=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:D})}};return M(A)-M(C)}(y.type,_.type)||this.eu(y.doc,_.doc)),this.ou(s),a=a??!1;const f=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,c.length!==0||p?{snapshot:new sl(this.query,e.tu,l,c,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new DR(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new NR(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return sl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Fv="SyncEngine";class fj{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class dj{constructor(e){this.key=e,this.hu=!1}}class mj{constructor(e,n,s,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ua(f=>Kx(f),Rd),this.Iu=new Map,this.Eu=new Set,this.du=new dt(ge.comparator),this.Au=new Map,this.Ru=new Dv,this.Vu={},this.mu=new Map,this.fu=il.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function pj(t,e,n=!0){const s=LR(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await PR(s,e,n,!0),a}async function gj(t,e){const n=LR(t);await PR(n,e,!0,!1)}async function PR(t,e,n,s){const a=await kU(t.localStore,Bi(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let f;return s&&(f=await yj(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&TR(t.remoteStore,a),f}async function yj(t,e,n,s,a){t.pu=(_,b,A)=>async function(M,D,U,G){let q=D.view.ru(U);q.Cs&&(q=await nS(M.localStore,D.query,!1).then(({documents:P})=>D.view.ru(P,q)));const se=G&&G.targetChanges.get(D.targetId),J=G&&G.targetMismatches.get(D.targetId)!=null,le=D.view.applyChanges(q,M.isPrimaryClient,se,J);return fS(M,D.targetId,le.au),le.snapshot}(t,_,b,A);const l=await nS(t.localStore,e,!0),c=new hj(e,l.Qs),f=c.ru(l.documents),m=Pc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=c.applyChanges(f,t.isPrimaryClient,m);fS(t,n,p.au);const y=new fj(e,n,c);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function vj(t,e,n){const s=xe(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter(c=>!Rd(c,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await hy(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Vv(s.remoteStore,a.targetId),my(s,a.targetId)}).catch(dl)):(my(s,a.targetId),await hy(s.localStore,a.targetId,!0))}async function _j(t,e){const n=xe(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Vv(n.remoteStore,s.targetId))}async function bj(t,e,n){const s=Rj(t);try{const a=await function(c,f){const m=xe(c),p=st.now(),y=f.reduce((A,C)=>A.add(C.key),Ve());let _,b;return m.persistence.runTransaction("Locally write mutations","readwrite",A=>{let C=Ds(),M=Ve();return m.Ns.getEntries(A,y).next(D=>{C=D,C.forEach((U,G)=>{G.isValidDocument()||(M=M.add(U))})}).next(()=>m.localDocuments.getOverlayedDocuments(A,C)).next(D=>{_=D;const U=[];for(const G of f){const q=V3(G,_.get(G.key).overlayedDocument);q!=null&&U.push(new ja(G.key,q,Ux(q.value.mapValue),zi.exists(!0)))}return m.mutationQueue.addMutationBatch(A,p,U,f)}).next(D=>{b=D;const U=D.applyToLocalDocumentSet(_,M);return m.documentOverlayCache.saveOverlays(A,D.batchId,U)})}).then(()=>({batchId:b.batchId,changes:Xx(_)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,f,m){let p=c.Vu[c.currentUser.toKey()];p||(p=new dt(Me)),p=p.insert(f,m),c.Vu[c.currentUser.toKey()]=p}(s,a.batchId,n),await Mc(s,a.changes),await Md(s.remoteStore)}catch(a){const l=Bv(a,"Failed to persist write");n.reject(l)}}async function OR(t,e){const n=xe(t);try{const s=await OU(n.localStore,e);e.targetChanges.forEach((a,l)=>{const c=n.Au.get(l);c&&(Ge(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Ge(c.hu,14607):a.removedDocuments.size>0&&(Ge(c.hu,42227),c.hu=!1))}),await Mc(n,s,e)}catch(s){await dl(s)}}function hS(t,e,n){const s=xe(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach((l,c)=>{const f=c.view.va(e);f.snapshot&&a.push(f.snapshot)}),function(c,f){const m=xe(c);m.onlineState=f;let p=!1;m.queries.forEach((y,_)=>{for(const b of _.Sa)b.va(f)&&(p=!0)}),p&&zv(m)}(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Tj(t,e,n){const s=xe(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new dt(ge.comparator);c=c.insert(l,un.newNoDocument(l,Ae.min()));const f=Ve().add(l),m=new Dd(Ae.min(),new Map,new dt(Me),c,f);await OR(s,m),s.du=s.du.remove(l),s.Au.delete(e),qv(s)}else await hy(s.localStore,e,!1).then(()=>my(s,e,n)).catch(dl)}async function Ej(t,e){const n=xe(t),s=e.batch.batchId;try{const a=await PU(n.localStore,e);VR(n,s,null),MR(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Mc(n,a)}catch(a){await dl(a)}}async function wj(t,e,n){const s=xe(t);try{const a=await function(c,f){const m=xe(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return m.mutationQueue.lookupMutationBatch(p,f).next(_=>(Ge(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(p,_))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,f)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>m.localDocuments.getDocuments(p,y))})}(s.localStore,e);VR(s,e,n),MR(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Mc(s,a)}catch(a){await dl(a)}}function MR(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function VR(t,e,n){const s=xe(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function my(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(s=>{t.Ru.containsKey(s)||kR(t,s)})}function kR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Vv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),qv(t))}function fS(t,e,n){for(const s of n)s instanceof NR?(t.Ru.addReference(s.key,e),Sj(t,s)):s instanceof DR?(fe(Fv,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||kR(t,s.key)):Te(19791,{wu:s})}function Sj(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(fe(Fv,"New document in limbo: "+n),t.Eu.add(s),qv(t))}function qv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ge(it.fromString(e)),s=t.fu.next();t.Au.set(s,new dj(n)),t.du=t.du.insert(n,s),TR(t.remoteStore,new pr(Bi(xv(n.path)),s,"TargetPurposeLimboResolution",Sd.ce))}}async function Mc(t,e,n){const s=xe(t),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach((f,m)=>{c.push(s.pu(m,e,n).then(p=>{var y;if((p||n)&&s.isPrimaryClient){const _=p?!p.fromCache:(y=n==null?void 0:n.targetChanges.get(m.targetId))==null?void 0:y.current;s.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(p){a.push(p);const _=Ov.As(m.targetId,p);l.push(_)}}))}),await Promise.all(c),s.Pu.H_(a),await async function(m,p){const y=xe(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ie.forEach(p,b=>ie.forEach(b.Es,A=>y.persistence.referenceDelegate.addReference(_,b.targetId,A)).next(()=>ie.forEach(b.ds,A=>y.persistence.referenceDelegate.removeReference(_,b.targetId,A)))))}catch(_){if(!ml(_))throw _;fe(Mv,"Failed to update sequence numbers: "+_)}for(const _ of p){const b=_.targetId;if(!_.fromCache){const A=y.Ms.get(b),C=A.snapshotVersion,M=A.withLastLimboFreeSnapshotVersion(C);y.Ms=y.Ms.insert(b,M)}}}(s.localStore,l))}async function Aj(t,e){const n=xe(t);if(!n.currentUser.isEqual(e)){fe(Fv,"User change. New user:",e.toKey());const s=await yR(n.localStore,e);n.currentUser=e,function(l,c){l.mu.forEach(f=>{f.forEach(m=>{m.reject(new he(te.CANCELLED,c))})}),l.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Mc(n,s.Ls)}}function xj(t,e){const n=xe(t),s=n.Au.get(e);if(s&&s.hu)return Ve().add(s.key);{let a=Ve();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const f=n.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function LR(t){const e=xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=OR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tj.bind(null,e),e.Pu.H_=uj.bind(null,e.eventManager),e.Pu.yu=cj.bind(null,e.eventManager),e}function Rj(t){const e=xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ej.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wj.bind(null,e),e}class ld{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Pd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return DU(this.persistence,new CU,e.initialUser,this.serializer)}Cu(e){return new gR(Pv.mi,this.serializer)}Du(e){return new UU}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ld.provider={build:()=>new ld};class Cj extends ld{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof ad,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new dU(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new gR(s=>ad.mi(s,n),this.serializer)}}class py{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>hS(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Aj.bind(null,this.syncEngine),await aj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lj}()}createDatastore(e){const n=Pd(e.databaseInfo.databaseId),s=function(l){return new qU(l)}(e.databaseInfo);return function(l,c,f,m){return new $U(l,c,f,m)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,l,c,f){return new XU(s,a,l,c,f)}(this.localStore,this.datastore,e.asyncQueue,n=>hS(this.syncEngine,n,0),function(){return rS.v()?new rS:new jU}())}createSyncEngine(e,n){return function(a,l,c,f,m,p,y){const _=new mj(a,l,c,f,m,p);return y&&(_.gu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const l=xe(a);fe(Oa,"RemoteStore shutting down."),l.Ea.add(5),await Oc(l),l.Aa.shutdown(),l.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}py.provider={build:()=>new py};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ns("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir="FirestoreClient";class Ij{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=ln.UNAUTHENTICATED,this.clientId=bv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async c=>{fe(Ir,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(s,c=>(fe(Ir,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Bv(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function gg(t,e){t.asyncQueue.verifyOperationInProgress(),fe(Ir,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async a=>{s.isEqual(a)||(await yR(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function dS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Nj(t);fe(Ir,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>oS(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,a)=>oS(e.remoteStore,a)),t._onlineComponents=e}async function Nj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe(Ir,"Using user provided OfflineComponentProvider");try{await gg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===te.FAILED_PRECONDITION||a.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Jo("Error using user provided cache. Falling back to memory cache: "+n),await gg(t,new ld)}}else fe(Ir,"Using default OfflineComponentProvider"),await gg(t,new Cj(void 0));return t._offlineComponents}async function jR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe(Ir,"Using user provided OnlineComponentProvider"),await dS(t,t._uninitializedComponentsProvider._online)):(fe(Ir,"Using default OnlineComponentProvider"),await dS(t,new py))),t._onlineComponents}function Dj(t){return jR(t).then(e=>e.syncEngine)}async function BR(t){const e=await jR(t),n=e.eventManager;return n.onListen=pj.bind(null,e.syncEngine),n.onUnlisten=vj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_j.bind(null,e.syncEngine),n}function Pj(t,e,n={}){const s=new ws;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,f,m,p){const y=new UR({next:b=>{y.Nu(),c.enqueueAndForget(()=>CR(l,_));const A=b.docs.has(f);!A&&b.fromCache?p.reject(new he(te.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&b.fromCache&&m&&m.source==="server"?p.reject(new he(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),_=new IR(xv(f.path),y,{includeMetadataChanges:!0,qa:!0});return RR(l,_)}(await BR(t),t.asyncQueue,e,n,s)),s.promise}function Oj(t,e,n={}){const s=new ws;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,f,m,p){const y=new UR({next:b=>{y.Nu(),c.enqueueAndForget(()=>CR(l,_)),b.fromCache&&m.source==="server"?p.reject(new he(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),_=new IR(f,y,{includeMetadataChanges:!0,qa:!0});return RR(l,_)}(await BR(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="firestore.googleapis.com",pS=!0;class gS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FR,this.ssl=pS}else this.host=e.host,this.ssl=e.ssl??pS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hU)throw new he(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Y6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zR(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vd{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new U6;switch(s.type){case"firstParty":return new F6(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=mS.get(n);s&&(fe("ComponentProvider","Removing Datastore"),mS.delete(n),s.terminate())}(this),Promise.resolve()}}function Mj(t,e,n,s={}){var p;t=wr(t,Vd);const a=Pr(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(av(`https://${f}`),ov("Firestore",!0)),l.host!==FR&&l.host!==f&&Jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:s};if(!Ca(m,c)&&(t._setSettings(m),s.mockUserToken)){let y,_;if(typeof s.mockUserToken=="string")y=s.mockUserToken,_=ln.MOCK_USER;else{y=O1(s.mockUserToken,(p=t._app)==null?void 0:p.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new he(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new ln(b)}t._authCredentials=new j6(new xx(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new gl(this.firestore,e,this._query)}}class Ot{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}toJSON(){return{type:Ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Ic(n,Ot._jsonSchema))return new Ot(e,s||null,new ge(it.fromString(n.referencePath)))}}Ot._jsonSchemaVersion="firestore/documentReference/1.0",Ot._jsonSchema={type:Pt("string",Ot._jsonSchemaVersion),referencePath:Pt("string")};class _r extends gl{constructor(e,n,s){super(e,n,xv(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new ge(e))}withConverter(e){return new _r(this.firestore,e,this._path)}}function qR(t,e,...n){if(t=Bt(t),Rx("collection","path",e),t instanceof Vd){const s=it.fromString(e,...n);return Iw(s),new _r(t,null,s)}{if(!(t instanceof Ot||t instanceof _r))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(it.fromString(e,...n));return Iw(s),new _r(t.firestore,null,s)}}function Hv(t,e,...n){if(t=Bt(t),arguments.length===1&&(e=bv.newId()),Rx("doc","path",e),t instanceof Vd){const s=it.fromString(e,...n);return Cw(s),new Ot(t,null,new ge(s))}{if(!(t instanceof Ot||t instanceof _r))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(it.fromString(e,...n));return Cw(s),new Ot(t.firestore,t instanceof _r?t.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="AsyncQueue";class vS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _R(this,"async_queue_retry"),this._c=()=>{const s=pg();s&&fe(yS,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=pg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=pg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ws;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ml(e))throw e;fe(yS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Ns("INTERNAL UNHANDLED ERROR: ",_S(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=jv.createAndSchedule(this,e,n,s,l=>this.hc(l));return this.tc.push(a),a}uc(){this.nc&&Te(47125,{Pc:_S(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function _S(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Vc extends Vd{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new vS,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vS(e),this._firestoreClient=void 0,await e}}}function Vj(t,e){const n=typeof t=="object"?t:cv(),s=typeof t=="string"?t:ed,a=_d(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=N1("firestore");l&&Mj(a,...l)}return a}function Gv(t){if(t._terminated)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||kj(t),t._firestoreClient}function kj(t){var s,a,l;const e=t._freezeSettings(),n=function(f,m,p,y){return new r3(f,m,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,zR(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(t._databaseId,((s=t._app)==null?void 0:s.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Ij(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(f){const m=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(m),_online:m}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jn(nn.fromBase64String(e))}catch(n){throw new he(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jn(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ic(e,Jn._jsonSchema))return Jn.fromBase64String(e.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:Pt("string",Jn._jsonSchemaVersion),bytes:Pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qi._jsonSchemaVersion}}static fromJSON(e){if(Ic(e,qi._jsonSchema))return new qi(e.latitude,e.longitude)}}qi._jsonSchemaVersion="firestore/geoPoint/1.0",qi._jsonSchema={type:Pt("string",qi._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ic(e,Hi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Hi(e.vectorValues);throw new he(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hi._jsonSchemaVersion="firestore/vectorValue/1.0",Hi._jsonSchema={type:Pt("string",Hi._jsonSchemaVersion),vectorValues:Pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj=/^__.*__$/;class Uj{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ja(e,this.data,this.fieldMask,n,this.fieldTransforms):new Dc(e,this.data,n,this.fieldTransforms)}}function HR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:t})}}class Yv{constructor(e,n,s,a,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Yv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ud(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(HR(this.Ac)&&Lj.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class jj{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Pd(e)}Cc(e,n,s,a=!1){return new Yv({Ac:e,methodName:n,Dc:s,path:tn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xv(t){const e=t._freezeSettings(),n=Pd(t._databaseId);return new jj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function GR(t,e,n,s,a,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);YR("Data must be an object, but it was:",c,s);const f=KR(s,c);let m,p;if(l.merge)m=new ui(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const b=zj(e,_,n);if(!c.contains(b))throw new he(te.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);qj(y,b)||y.push(b)}m=new ui(y),p=c.fieldTransforms.filter(_=>m.covers(_.field))}else m=null,p=c.fieldTransforms;return new Uj(new Zn(f),m,p)}class Qv extends $v{_toFieldTransform(e){return new D3(e.path,new dc)}isEqual(e){return e instanceof Qv}}function Bj(t,e,n,s=!1){return Wv(n,t.Cc(s?4:3,e))}function Wv(t,e){if($R(t=Bt(t)))return YR("Unsupported field value:",e,t),KR(t,e);if(t instanceof $v)return function(s,a){if(!HR(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,a){const l=[];let c=0;for(const f of s){let m=Wv(f,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(t,e)}return function(s,a){if((s=Bt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return C3(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=st.fromDate(s);return{timestampValue:rd(a.serializer,l)}}if(s instanceof st){const l=new st(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:rd(a.serializer,l)}}if(s instanceof qi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Jn)return{bytesValue:lR(a.serializer,s._byteString)};if(s instanceof Ot){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Nv(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Hi)return function(c,f){return{mapValue:{fields:{[kx]:{stringValue:Lx},[td]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw f.Sc("VectorValues must only contain numeric values.");return Rv(f.serializer,p)})}}}}}}(s,a);throw a.Sc(`Unsupported field value: ${wd(s)}`)}(t,e)}function KR(t,e){const n={};return Nx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):La(t,(s,a)=>{const l=Wv(a,e.mc(s));l!=null&&(n[s]=l)}),{mapValue:{fields:n}}}function $R(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof qi||t instanceof Jn||t instanceof Ot||t instanceof $v||t instanceof Hi)}function YR(t,e,n){if(!$R(n)||!Cx(n)){const s=wd(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function zj(t,e,n){if((e=Bt(e))instanceof Kv)return e._internalPath;if(typeof e=="string")return XR(t,e);throw ud("Field path arguments must be of type string or ",t,!1,void 0,n)}const Fj=new RegExp("[~\\*/\\[\\]]");function XR(t,e,n){if(e.search(Fj)>=0)throw ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Kv(...e.split("."))._internalPath}catch{throw ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ud(t,e,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new he(te.INVALID_ARGUMENT,f+t+m)}function qj(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Hj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Zv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Hj extends QR{data(){return super.data()}}function Zv(t,e){return typeof e=="string"?XR(t,e):e instanceof Kv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jv{}class Kj extends Jv{}function $j(t,e,...n){let s=[];e instanceof Jv&&s.push(e),s=s.concat(n),function(l){const c=l.filter(m=>m instanceof e_).length,f=l.filter(m=>m instanceof kd).length;if(c>1||c>0&&f>0)throw new he(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)t=a._apply(t);return t}class kd extends Kj{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new kd(e,n,s)}_apply(e){const n=this._parse(e);return WR(e._query,n),new gl(e.firestore,e.converter,ry(e._query,n))}_parse(e){const n=Xv(e.firestore);return function(l,c,f,m,p,y,_){let b;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new he(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){TS(_,y);const C=[];for(const M of _)C.push(bS(m,l,M));b={arrayValue:{values:C}}}else b=bS(m,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||TS(_,y),b=Bj(f,c,_,y==="in"||y==="not-in");return Dt.create(p,y,b)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Yj(t,e,n){const s=e,a=Zv("where",t);return kd._create(a,s,n)}class e_ extends Jv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new e_(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:fi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,l){let c=a;const f=l.getFlattenedFilters();for(const m of f)WR(c,m),c=ry(c,m)}(e._query,n),new gl(e.firestore,e.converter,ry(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function bS(t,e,n){if(typeof(n=Bt(n))=="string"){if(n==="")throw new he(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gx(e)&&n.indexOf("/")!==-1)throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(it.fromString(n));if(!ge.isDocumentKey(s))throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Lw(t,new ge(s))}if(n instanceof Ot)return Lw(t,n._key);throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wd(n)}.`)}function TS(t,e){if(!Array.isArray(t)||t.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function WR(t,e){const n=function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Xj{convertValue(e,n="none"){switch(Rr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return La(e,(a,l)=>{s[a]=this.convertValue(l,n)}),s}convertVectorValue(e){var s,a,l;const n=(l=(a=(s=e.fields)==null?void 0:s[td].arrayValue)==null?void 0:a.values)==null?void 0:l.map(c=>wt(c.doubleValue));return new Hi(n)}convertGeoPoint(e){return new qi(wt(e.latitude),wt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=xd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(cc(e));default:return null}}convertTimestamp(e){const n=Ar(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=it.fromString(e);Ge(mR(s),9688,{name:e});const a=new hc(s.get(1),s.get(3)),l=new ge(s.popFirst(5));return a.isEqual(n)||Ns(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(t,e,n){let s;return s=t?t.toFirestore(e):e,s}class Uu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xa extends QR{constructor(e,n,s,a,l,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Uf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Zv("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=xa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}xa._jsonSchemaVersion="firestore/documentSnapshot/1.0",xa._jsonSchema={type:Pt("string",xa._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class Uf extends xa{data(e={}){return super.data(e)}}class Qo{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Uu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Uf(this._firestore,this._userDataWriter,s.key,s,new Uu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(f=>{const m=new Uf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Uu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const m=new Uf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Uu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:Qj(f.type),doc:m,oldIndex:p,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Qo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=bv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach(l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Qj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(t){t=wr(t,Ot);const e=wr(t.firestore,Vc);return Pj(Gv(e),t._key).then(n=>t5(e,t,n))}Qo._jsonSchemaVersion="firestore/querySnapshot/1.0",Qo._jsonSchema={type:Pt("string",Qo._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class JR extends Xj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}}function Zj(t){t=wr(t,gl);const e=wr(t.firestore,Vc),n=Gv(e),s=new JR(e);return Gj(t._query),Oj(n,t._query).then(a=>new Qo(e,s,t,a))}function Jj(t,e,n){t=wr(t,Ot);const s=wr(t.firestore,Vc),a=ZR(t.converter,e);return eC(s,[GR(Xv(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,zi.none())])}function e5(t,e){const n=wr(t.firestore,Vc),s=Hv(t),a=ZR(t.converter,e);return eC(n,[GR(Xv(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,zi.exists(!1))]).then(()=>s)}function eC(t,e){return function(s,a){const l=new ws;return s.asyncQueue.enqueueAndForget(async()=>bj(await Dj(s),a,l)),l.promise}(Gv(t),e)}function t5(t,e,n){const s=n.docs.get(e._key),a=new JR(t);return new xa(t,a,e._key,s,new Uu(n.hasPendingWrites,n.fromCache),e.converter)}function n5(){return new Qv("serverTimestamp")}(function(e,n=!0){(function(a){fl=a})(Va),Ia(new Er("firestore",(s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),f=new Vc(new B6(s.getProvider("auth-internal")),new q6(c,s.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new he(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hc(p.options.projectId,y)}(c,a),c);return l={useFetchStreams:n,...l},f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Li(Sw,Aw,e),Li(Sw,Aw,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="firebasestorage.googleapis.com",nC="storageBucket",i5=2*60*1e3,s5=10*60*1e3,r5=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt extends Ki{constructor(e,n,s=0){super(yg(e),`Firebase Storage: ${n} (${yg(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return yg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var rt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(rt||(rt={}));function yg(t){return"storage/"+t}function t_(){const t="An unknown error occurred, please check the error payload for server response.";return new mt(rt.UNKNOWN,t)}function a5(t){return new mt(rt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function o5(t){return new mt(rt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function l5(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new mt(rt.UNAUTHENTICATED,t)}function u5(){return new mt(rt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function c5(t){return new mt(rt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function iC(){return new mt(rt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sC(){return new mt(rt.CANCELED,"User canceled the upload/download.")}function h5(t){return new mt(rt.INVALID_URL,"Invalid URL '"+t+"'.")}function f5(t){return new mt(rt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function d5(){return new mt(rt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+nC+"' property when initializing the app?")}function rC(){return new mt(rt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function m5(){return new mt(rt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function p5(){return new mt(rt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function g5(t){return new mt(rt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function gy(t){return new mt(rt.INVALID_ARGUMENT,t)}function aC(){return new mt(rt.APP_DELETED,"The Firebase app was deleted.")}function y5(t){return new mt(rt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Wu(t,e){return new mt(rt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Du(t){throw new mt(rt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Vn.makeFromUrl(e,n)}catch{return new Vn(e,"")}if(s.path==="")return s;throw f5(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(se){se.path.charAt(se.path.length-1)==="/"&&(se.path_=se.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function p(se){se.path_=decodeURIComponent(se.path)}const y="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",A=new RegExp(`^https?://${_}/${y}/b/${a}/o${b}`,"i"),C={bucket:1,path:3},M=n===tC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,D="([^?#]*)",U=new RegExp(`^https?://${M}/${a}/${D}`,"i"),q=[{regex:f,indices:m,postModify:l},{regex:A,indices:C,postModify:p},{regex:U,indices:{bucket:1,path:2},postModify:p}];for(let se=0;se<q.length;se++){const J=q[se],le=J.regex.exec(e);if(le){const P=le[J.indices.bucket];let R=le[J.indices.path];R||(R=""),s=new Vn(P,R),J.postModify(s);break}}if(s==null)throw h5(e);return s}}class v5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _5(t,e,n){let s=1,a=null,l=null,c=!1,f=0;function m(){return f===2}let p=!1;function y(...D){p||(p=!0,e.apply(null,D))}function _(D){a=setTimeout(()=>{a=null,t(A,m())},D)}function b(){l&&clearTimeout(l)}function A(D,...U){if(p){b();return}if(D){b(),y.call(null,D,...U);return}if(m()||c){b(),y.call(null,D,...U);return}s<64&&(s*=2);let q;f===1?(f=2,q=0):q=(s+Math.random())*1e3,_(q)}let C=!1;function M(D){C||(C=!0,b(),!p&&(a!==null?(D||(f=2),clearTimeout(a),_(0)):D||(f=1)))}return _(0),l=setTimeout(()=>{c=!0,M(!0)},n),M}function b5(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T5(t){return t!==void 0}function E5(t){return typeof t=="function"}function w5(t){return typeof t=="object"&&!Array.isArray(t)}function Ld(t){return typeof t=="string"||t instanceof String}function ES(t){return n_()&&t instanceof Blob}function n_(){return typeof Blob<"u"}function wS(t,e,n,s){if(s<e)throw gy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw gy(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(t,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${t}`}function oC(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var Ra;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ra||(Ra={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,n,s,a,l,c,f,m,p,y,_,b=!0,A=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=_,this.retry=b,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,M)=>{this.resolve_=C,this.reject_=M,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new Tf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=f=>{const m=f.loaded,p=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const f=l.getErrorCode()===Ra.NO_ERROR,m=l.getStatus();if(!f||lC(m,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===Ra.ABORT;s(!1,new Tf(!1,null,y));return}const p=this.successCodes_.indexOf(m)!==-1;s(!0,new Tf(p,l))})},n=(s,a)=>{const l=this.resolve_,c=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());T5(m)?l(m):l()}catch(m){c(m)}else if(f!==null){const m=t_();m.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,m)):c(m)}else if(a.canceled){const m=this.appDelete_?aC():sC();c(m)}else{const m=iC();c(m)}};this.canceled_?n(!1,new Tf(!1,null,!0)):this.backoffId_=_5(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&b5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Tf{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function A5(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function x5(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function R5(t,e){e&&(t["X-Firebase-GMPID"]=e)}function C5(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function I5(t,e,n,s,a,l,c=!0,f=!1){const m=oC(t.urlParams),p=t.url+m,y=Object.assign({},t.headers);return R5(y,e),A5(y,n),x5(y,l),C5(y,s),new S5(p,t.method,y,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N5(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function D5(...t){const e=N5();if(e!==void 0){const n=new e;for(let s=0;s<t.length;s++)n.append(t[s]);return n.getBlob()}else{if(n_())return new Blob(t);throw new mt(rt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function P5(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O5(t){if(typeof atob>"u")throw g5("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class vg{constructor(e,n){this.data=e,this.contentType=n||null}}function M5(t,e){switch(t){case Oi.RAW:return new vg(uC(e));case Oi.BASE64:case Oi.BASE64URL:return new vg(cC(t,e));case Oi.DATA_URL:return new vg(k5(e),L5(e))}throw t_()}function uC(t){const e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const l=s,c=t.charCodeAt(++n);s=65536|(l&1023)<<10|c&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function V5(t){let e;try{e=decodeURIComponent(t)}catch{throw Wu(Oi.DATA_URL,"Malformed data URL.")}return uC(e)}function cC(t,e){switch(t){case Oi.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw Wu(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Oi.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw Wu(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=O5(e)}catch(a){throw a.message.includes("polyfill")?a:Wu(t,"Invalid character found")}const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}class hC{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Wu(Oi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=U5(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function k5(t){const e=new hC(t);return e.base64?cC(Oi.BASE64,e.rest):V5(e.rest)}function L5(t){return new hC(t).contentType}function U5(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n){let s=0,a="";ES(e)?(this.data_=e,s=e.size,a=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,n){if(ES(this.data_)){const s=this.data_,a=P5(s,e,n);return a===null?null:new mr(a)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new mr(s,!0)}}static getBlob(...e){if(n_()){const n=e.map(s=>s instanceof mr?s.data_:s);return new mr(D5.apply(null,n))}else{const n=e.map(c=>Ld(c)?M5(Oi.RAW,c).data:c.data_);let s=0;n.forEach(c=>{s+=c.byteLength});const a=new Uint8Array(s);let l=0;return n.forEach(c=>{for(let f=0;f<c.length;f++)a[l++]=c[f]}),new mr(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(t){let e;try{e=JSON.parse(t)}catch{return null}return w5(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j5(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function B5(t,e){const n=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?n:t+"/"+n}function dC(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(t,e){return e}class gn{constructor(e,n,s,a){this.server=e,this.local=n||e,this.writable=!!s,this.xform=a||z5}}let Ef=null;function F5(t){return!Ld(t)||t.length<2?t:dC(t)}function mC(){if(Ef)return Ef;const t=[];t.push(new gn("bucket")),t.push(new gn("generation")),t.push(new gn("metageneration")),t.push(new gn("name","fullPath",!0));function e(l,c){return F5(c)}const n=new gn("name");n.xform=e,t.push(n);function s(l,c){return c!==void 0?Number(c):c}const a=new gn("size");return a.xform=s,t.push(a),t.push(new gn("timeCreated")),t.push(new gn("updated")),t.push(new gn("md5Hash",null,!0)),t.push(new gn("cacheControl",null,!0)),t.push(new gn("contentDisposition",null,!0)),t.push(new gn("contentEncoding",null,!0)),t.push(new gn("contentLanguage",null,!0)),t.push(new gn("contentType",null,!0)),t.push(new gn("metadata","customMetadata",!0)),Ef=t,Ef}function q5(t,e){function n(){const s=t.bucket,a=t.fullPath,l=new Vn(s,a);return e._makeStorageReference(l)}Object.defineProperty(t,"ref",{get:n})}function H5(t,e,n){const s={};s.type="file";const a=n.length;for(let l=0;l<a;l++){const c=n[l];s[c.local]=c.xform(s,e[c.server])}return q5(s,t),s}function pC(t,e,n){const s=fC(e);return s===null?null:H5(t,s,n)}function G5(t,e,n,s){const a=fC(e);if(a===null||!Ld(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(p=>{const y=t.bucket,_=t.fullPath,b="/b/"+c(y)+"/o/"+c(_),A=kc(b,n,s),C=oC({alt:"media",token:p});return A+C})[0]}function gC(t,e){const n={},s=e.length;for(let a=0;a<s;a++){const l=e[a];l.writable&&(n[l.server]=t[l.local])}return JSON.stringify(n)}class yl{constructor(e,n,s,a){this.url=e,this.method=n,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(t){if(!t)throw t_()}function i_(t,e){function n(s,a){const l=pC(t,a,e);return Ss(l!==null),l}return n}function K5(t,e){function n(s,a){const l=pC(t,a,e);return Ss(l!==null),G5(l,a,t.host,t._protocol)}return n}function Lc(t){function e(n,s){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=u5():a=l5():n.getStatus()===402?a=o5(t.bucket):n.getStatus()===403?a=c5(t.path):a=s,a.status=n.getStatus(),a.serverResponse=s.serverResponse,a}return e}function yC(t){const e=Lc(t);function n(s,a){let l=e(s,a);return s.getStatus()===404&&(l=a5(t.path)),l.serverResponse=a.serverResponse,l}return n}function $5(t,e,n){const s=e.fullServerUrl(),a=kc(s,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,f=new yl(a,l,i_(t,n),c);return f.errorHandler=yC(e),f}function Y5(t,e,n){const s=e.fullServerUrl(),a=kc(s,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,f=new yl(a,l,K5(t,n),c);return f.errorHandler=yC(e),f}function X5(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function vC(t,e,n){const s=Object.assign({},n);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=X5(null,e)),s}function Q5(t,e,n,s,a){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function f(){let q="";for(let se=0;se<2;se++)q=q+Math.random().toString().slice(2);return q}const m=f();c["Content-Type"]="multipart/related; boundary="+m;const p=vC(e,s,a),y=gC(p,n),_="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+m+`\r
Content-Type: `+p.contentType+`\r
\r
`,b=`\r
--`+m+"--",A=mr.getBlob(_,s,b);if(A===null)throw rC();const C={name:p.fullPath},M=kc(l,t.host,t._protocol),D="POST",U=t.maxUploadRetryTime,G=new yl(M,D,i_(t,n),U);return G.urlParams=C,G.headers=c,G.body=A.uploadData(),G.errorHandler=Lc(e),G}class cd{constructor(e,n,s,a){this.current=e,this.total=n,this.finalized=!!s,this.metadata=a||null}}function s_(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Ss(!1)}return Ss(!!n&&(e||["active"]).indexOf(n)!==-1),n}function W5(t,e,n,s,a){const l=e.bucketOnlyServerUrl(),c=vC(e,s,a),f={name:c.fullPath},m=kc(l,t.host,t._protocol),p="POST",y={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},_=gC(c,n),b=t.maxUploadRetryTime;function A(M){s_(M);let D;try{D=M.getResponseHeader("X-Goog-Upload-URL")}catch{Ss(!1)}return Ss(Ld(D)),D}const C=new yl(m,p,A,b);return C.urlParams=f,C.headers=y,C.body=_,C.errorHandler=Lc(e),C}function Z5(t,e,n,s){const a={"X-Goog-Upload-Command":"query"};function l(p){const y=s_(p,["active","final"]);let _=null;try{_=p.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ss(!1)}_||Ss(!1);const b=Number(_);return Ss(!isNaN(b)),new cd(b,s.size(),y==="final")}const c="POST",f=t.maxUploadRetryTime,m=new yl(n,c,l,f);return m.headers=a,m.errorHandler=Lc(e),m}const SS=256*1024;function J5(t,e,n,s,a,l,c,f){const m=new cd(0,0);if(c?(m.current=c.current,m.total=c.total):(m.current=0,m.total=s.size()),s.size()!==m.total)throw m5();const p=m.total-m.current;let y=p;a>0&&(y=Math.min(y,a));const _=m.current,b=_+y;let A="";y===0?A="finalize":p===y?A="upload, finalize":A="upload";const C={"X-Goog-Upload-Command":A,"X-Goog-Upload-Offset":`${m.current}`},M=s.slice(_,b);if(M===null)throw rC();function D(se,J){const le=s_(se,["active","final"]),P=m.current+y,R=s.size();let I;return le==="final"?I=i_(e,l)(se,J):I=null,new cd(P,R,le==="final",I)}const U="POST",G=e.maxUploadRetryTime,q=new yl(n,U,D,G);return q.headers=C,q.body=M.uploadData(),q.progressCallback=f||null,q.errorHandler=Lc(t),q}const wn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function _g(t){switch(t){case"running":case"pausing":case"canceling":return wn.RUNNING;case"paused":return wn.PAUSED;case"success":return wn.SUCCESS;case"canceled":return wn.CANCELED;case"error":return wn.ERROR;default:return wn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e,n,s){if(E5(e)||n!=null||s!=null)this.next=e,this.error=n??void 0,this.complete=s??void 0;else{const l=e;this.next=l.next,this.error=l.error,this.complete=l.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class t9{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ra.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ra.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ra.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,a,l){if(this.sent_)throw Du("cannot .send() more than once");if(Pr(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Du("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Du("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Du("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Du("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class n9 extends t9{initXhr(){this.xhr_.responseType="text"}}function jo(){return new n9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=s,this._mappings=mC(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{if(this._request=void 0,this._chunkMultiplier=1,a._codeEquals(rt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const l=this.isExponentialBackoffExpired();if(lC(a.status,[]))if(l)a=iC();else{this.sleepTime=Math.max(this.sleepTime*2,r5),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=a,this._transition("error")}},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals(rt.CANCELED)?this.completeTransitions_():(this._error=a,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((a,l)=>{this._resolve=a,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,s])=>{switch(this._state){case"running":e(n,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const s=W5(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(s,jo,e,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,s)=>{const a=Z5(this._ref.storage,this._ref._location,e,this._blob),l=this._ref.storage._makeRequest(a,jo,n,s);this._request=l,l.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=SS*this._chunkMultiplier,n=new cd(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((a,l)=>{let c;try{c=J5(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(m){this._error=m,this._transition("error");return}const f=this._ref.storage._makeRequest(c,jo,a,l,!1);this._request=f,f.getPromise().then(m=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(m.current),m.finalized?(this._metadata=m.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){SS*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const s=$5(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(s,jo,e,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const s=Q5(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(s,jo,e,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=sC(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=_g(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,s,a){const l=new e9(n||void 0,s||void 0,a||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(_g(this._state)){case wn.SUCCESS:Mo(this._resolve.bind(null,this.snapshot))();break;case wn.CANCELED:case wn.ERROR:const n=this._reject;Mo(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(_g(this._state)){case wn.RUNNING:case wn.PAUSED:e.next&&Mo(e.next.bind(e,this.snapshot))();break;case wn.SUCCESS:e.complete&&Mo(e.complete.bind(e))();break;case wn.CANCELED:case wn.ERROR:e.error&&Mo(e.error.bind(e,this._error))();break;default:e.error&&Mo(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n){this._service=e,n instanceof Vn?this._location=n:this._location=Vn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ma(e,n)}get root(){const e=new Vn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return dC(this._location.path)}get storage(){return this._service}get parent(){const e=j5(this._location.path);if(e===null)return null;const n=new Vn(this._location.bucket,e);return new Ma(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw y5(e)}}function s9(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new i9(t,new mr(e),n)}function r9(t){t._throwIfRoot("getDownloadURL");const e=Y5(t.storage,t._location,mC());return t.storage.makeRequestWithTokens(e,jo).then(n=>{if(n===null)throw p5();return n})}function a9(t,e){const n=B5(t._location.path,e),s=new Vn(t._location.bucket,n);return new Ma(t.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o9(t){return/^[A-Za-z]+:\/\//.test(t)}function l9(t,e){return new Ma(t,e)}function _C(t,e){if(t instanceof r_){const n=t;if(n._bucket==null)throw d5();const s=new Ma(n,n._bucket);return e!=null?_C(s,e):s}else return e!==void 0?a9(t,e):t}function u9(t,e){if(e&&o9(e)){if(t instanceof r_)return l9(t,e);throw gy("To use ref(service, url), the first argument must be a Storage instance.")}else return _C(t,e)}function AS(t,e){const n=e==null?void 0:e[nC];return n==null?null:Vn.makeFromBucketSpec(n,t)}function c9(t,e,n,s={}){t.host=`${e}:${n}`;const a=Pr(e);a&&(av(`https://${t.host}/b`),ov("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:O1(l,t.app.options.projectId))}class r_{constructor(e,n,s,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=tC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=i5,this._maxUploadRetryTime=s5,this._requests=new Set,a!=null?this._bucket=Vn.makeFromBucketSpec(a,this._host):this._bucket=AS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Vn.makeFromBucketSpec(this._url,e):this._bucket=AS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){wS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){wS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ma(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new v5(aC());{const c=I5(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const xS="@firebase/storage",RS="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="storage";function h9(t,e,n){return t=Bt(t),s9(t,e,n)}function f9(t){return t=Bt(t),r9(t)}function d9(t,e){return t=Bt(t),u9(t,e)}function m9(t=cv(),e){t=Bt(t);const s=_d(t,bC).getImmediate({identifier:e}),a=N1("storage");return a&&p9(s,...a),s}function p9(t,e,n,s={}){c9(t,e,n,s)}function g9(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new r_(n,s,a,e,Va)}function y9(){Ia(new Er(bC,g9,"PUBLIC").setMultipleInstances(!0)),Li(xS,RS,""),Li(xS,RS,"esm2020")}y9();const v9={apiKey:"AIzaSyCx4fXTOxz3BLll9bzbAVBkI0AQLLSqJ3E",authDomain:"books-8d701.firebaseapp.com",projectId:"books-8d701",storageBucket:"books-8d701.appspot.com",messagingSenderId:"735715747489",appId:"1:735715747489:web:455aa2b5613b2eee7e32e0",measurementId:"G-F66P7650RB"},a_=k1(v9),gc=k6(a_),hd=Vj(a_),_9=m9(a_),b9=()=>{const[t,e]=k.useState(!1),[n,s]=k.useState(!1),a=Dr(),l=()=>e(!t),c=()=>e(!1),f=async()=>{try{await AL(gc),localStorage.clear(),a("/login")}catch(m){console.error("Logout failed:",m)}};return k.useEffect(()=>{const m=gc.onAuthStateChanged(p=>{s(!!p)});return()=>m()},[]),w.jsxs("header",{className:"bg-white shadow-md sticky top-0 z-50",children:[w.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between h-16",children:[w.jsx(He,{to:n?"/dashboard":"/",children:w.jsx(Je.h1,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"text-2xl font-extrabold text-blue-600 tracking-wide",children:"📚 BooksArc"})}),w.jsxs("nav",{className:"hidden md:flex space-x-6 items-center",children:[n&&w.jsx(He,{to:"/dashboard",className:"text-gray-700 hover:text-blue-600 transition",children:"Dashboard"}),w.jsx(He,{to:"/browse",className:"text-gray-700 hover:text-blue-600 transition",children:"Browse"}),w.jsx(He,{to:"/how-it-works",className:"text-gray-700 hover:text-blue-600 transition",children:"How It Works"}),w.jsx(He,{to:"/contact",className:"text-gray-700 hover:text-blue-600 transition",children:"Contact"}),n?w.jsx("button",{onClick:f,className:"ml-4 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-xl transition-all shadow-md",children:"Logout"}):w.jsx(He,{to:"/signup",className:"ml-4 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-xl transition-all shadow-md",children:"Get Started"})]}),w.jsx("button",{onClick:l,className:"md:hidden text-gray-700 hover:text-blue-600",children:t?w.jsx(DI,{size:24}):w.jsx(wI,{size:24})})]}),t&&w.jsxs(Je.div,{initial:{height:0},animate:{height:"auto"},className:"md:hidden bg-white px-4 pb-4 space-y-2 overflow-hidden border-t border-gray-200",children:[n&&w.jsx(He,{to:"/dashboard",onClick:c,className:"block text-gray-700 hover:text-blue-600",children:"Dashboard"}),w.jsx(He,{to:"/browse",onClick:c,className:"block text-gray-700 hover:text-blue-600",children:"Browse"}),w.jsx(He,{to:"/how-it-works",onClick:c,className:"block text-gray-700 hover:text-blue-600",children:"How It Works"}),w.jsx(He,{to:"/contact",onClick:c,className:"block text-gray-700 hover:text-blue-600",children:"Contact"}),n?w.jsx("button",{onClick:()=>{f(),c()},className:"block w-full bg-red-600 hover:bg-red-700 text-white text-center px-4 py-2 rounded-xl transition-all shadow-md",children:"Logout"}):w.jsx(He,{to:"/signup",onClick:c,className:"block bg-blue-600 hover:bg-blue-700 text-white text-center px-4 py-2 rounded-xl transition-all shadow-md",children:"Get Started"})]})]})},T9=()=>w.jsxs("div",{children:[w.jsxs("div",{className:"bg-gray-900 text-center text-gray-500 text-sm py-2 px-4",children:["© ",new Date().getFullYear()," Book Club. All rights reserved. | Built with ❤️ for book lovers."]})," "]}),E9=()=>{const[t,e]=k.useState(!1);k.useEffect(()=>{const s=()=>{window.scrollY>300?e(!0):e(!1)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return w.jsx(PD,{children:t&&w.jsx(Je.button,{onClick:n,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"fixed bottom-6 right-6 bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-full shadow-lg z-50","aria-label":"Back to Top",children:w.jsx(uI,{className:"w-5 h-5"})})})},w9=()=>{const{pathname:t}=Ps();return k.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[t]),null},S9="/assets/hero-ChlgtMXQ.jpg",A9="/assets/new2-DKhwYQjp.jpg",x9=()=>w.jsxs("div",{className:"text-gray-800 w-full overflow-x-hidden",children:[w.jsx("div",{className:"relative min-h-screen bg-center bg-cover flex items-center justify-center text-white",style:{backgroundImage:`linear-gradient(to bottom, rgba(0,0,0,0.6), rgba(0,0,0,0.9)), url(${S9})`},children:w.jsxs(Je.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:1},className:"relative z-10 text-center px-4",children:[w.jsx("h1",{className:"text-4xl md:text-6xl font-extrabold mb-4",children:"Your Next Book Awaits"}),w.jsx("p",{className:"text-lg md:text-xl mb-6",children:"Hire or lease books from your comfort zone"}),w.jsx(He,{to:"/signup",className:"bg-blue-600 hover:bg-blue-700 px-6 py-3 rounded-xl text-white font-medium shadow-md",children:"Get Started"})]})}),w.jsx("section",{className:"py-16 bg-white px-4 md:px-16",children:w.jsxs(Je.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.4},transition:{duration:.6},children:[w.jsx("h2",{className:"text-3xl font-bold text-center mb-6",children:"About Book Club"}),w.jsxs("p",{className:"max-w-4xl mx-auto text-center text-gray-700 text-lg leading-relaxed",children:[w.jsx("strong",{children:"Book Club"})," is a peer-to-peer book lending platform that redefines how people access books. Whether you're looking to borrow a bestseller or rent out your personal collection, our community-driven system connects readers across Kenya.",w.jsx("br",{}),w.jsx("br",{}),"We believe in the power of stories to connect people — and now, you can lease or lend books without the traditional hassle. With easy subscriptions, location-based exchanges, and a growing library, reading has never been this flexible or affordable."]})]})}),w.jsx("section",{className:"py-16 bg-blue-50 px-4 md:px-16",children:w.jsxs(Je.div,{initial:{y:40,opacity:0},whileInView:{y:0,opacity:1},viewport:{once:!0,amount:.4},transition:{duration:.6},children:[w.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-6 text-blue-700",children:"How It Works"}),w.jsx("p",{className:"text-center text-gray-600 max-w-3xl mx-auto mb-12 text-lg",children:"A seamless, community-powered system to borrow or lend books securely and effortlessly."}),w.jsx("div",{className:"grid gap-8 sm:grid-cols-2 lg:grid-cols-3 max-w-6xl mx-auto",children:[{icon:w.jsx(OS,{className:"w-8 h-8 text-blue-600"}),title:"Create an Account",description:"Sign up and set up your profile — it’s free. Whether you're a borrower or lender, everything starts here.",bg:"from-blue-100 to-blue-50"},{icon:w.jsx(ju,{className:"w-8 h-8 text-green-600"}),title:"List or Browse Books",description:"Add books with details, or explore thousands of listings by fellow readers near you.",bg:"from-green-100 to-green-50"},{icon:w.jsx(IS,{className:"w-8 h-8 text-purple-600"}),title:"Subscribe to Access",description:"Activate your subscription to start borrowing and ensure verified, secure transactions.",bg:"from-purple-100 to-purple-50"},{icon:w.jsx(DS,{className:"w-8 h-8 text-yellow-600"}),title:"Request or Approve Lending",description:"Borrowers request books. Lenders approve or decline. Communication is built-in and fast.",bg:"from-yellow-100 to-yellow-50"},{icon:w.jsx(NS,{className:"w-8 h-8 text-pink-600"}),title:"Exchange & Return",description:"Agree on delivery or pickup. Return on time to keep your trust score high.",bg:"from-pink-100 to-pink-50"},{icon:w.jsx(PS,{className:"w-8 h-8 text-indigo-600"}),title:"Rate & Grow Reputation",description:"After each transaction, rate the experience. This builds credibility and improves future connections.",bg:"from-indigo-100 to-indigo-50"}].map((t,e)=>w.jsxs(Je.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:e*.1,duration:.5},className:`bg-gradient-to-br ${t.bg} rounded-3xl shadow-xl p-6 flex flex-col items-start space-y-4 hover:scale-[1.02] transition-transform duration-300`,children:[w.jsx("div",{className:"bg-white p-3 rounded-full shadow-md",children:t.icon}),w.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:t.title}),w.jsx("p",{className:"text-gray-600",children:t.description})]},e))}),w.jsx("div",{className:"mt-16 text-center",children:w.jsx(He,{to:"/signup",className:"inline-block mb-4",children:w.jsx(Je.button,{whileHover:{scale:1.05},className:"bg-blue-600 cursor-pointer text-white px-8 py-3 text-lg rounded-full shadow-lg hover:bg-blue-700 transition",children:"Join Now & Start Lending"})})})]})}),w.jsxs("div",{className:"bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${A9})`},children:[" ",w.jsx("section",{className:"py-20 bg-white/60 px-4 md:px-16",children:w.jsxs(Je.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[w.jsx("h2",{className:"text-4xl font-bold text-center text-blue-700 mb-6",children:"Flexible Plans for Every Reader"}),w.jsx("p",{className:"text-center text-gray-600 max-w-2xl mx-auto mb-12 text-lg",children:"Whether you're a casual reader or a bookworm, choose a plan that fits your lifestyle."}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-10 max-w-6xl mx-auto",children:[{title:"Basic",price:"KES 100",features:["1 book/week","Access to common titles","Pickup point only"],color:"from-blue-100 to-white"},{title:"Standard",price:"KES 250",features:["3 books/month","Mid-tier catalog access","Pickup or delivery"],color:"from-green-100 to-white"},{title:"Premium",price:"KES 500",features:["Unlimited books","Full catalog access","Priority delivery"],color:"from-purple-100 to-white"}].map((t,e)=>w.jsxs(Je.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:e*.15,duration:.5},viewport:{once:!0},className:`bg-gradient-to-br ${t.color} rounded-3xl p-8 shadow-xl hover:shadow-2xl transition-shadow duration-300`,children:[w.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:t.title}),w.jsx("p",{className:"text-blue-600 text-3xl font-extrabold mb-4",children:t.price}),w.jsx("ul",{className:"space-y-3 text-gray-700 mb-6",children:t.features.map((n,s)=>w.jsxs("li",{className:"flex items-center gap-2",children:[w.jsx("span",{className:"text-green-500",children:"✔"}),n]},s))}),w.jsx(He,{to:"/signup",className:"inline-block bg-blue-600 text-white px-6 py-2 rounded-full text-sm font-medium hover:bg-blue-700 transition",children:"Choose Plan"})]},e))})]})}),w.jsx("section",{className:"py-20 bg-gradient-to-br from-blue-50 to-blue-100 px-4 md:px-16",children:w.jsxs(Je.div,{initial:{x:-50,opacity:0},whileInView:{x:0,opacity:1},viewport:{once:!0,amount:.4},transition:{duration:.6},children:[w.jsx("h2",{className:"text-4xl font-extrabold text-center text-blue-800 mb-6",children:"Why Book Lovers Trust Us"}),w.jsx("p",{className:"text-center max-w-3xl mx-auto text-gray-600 text-lg mb-12",children:"We're more than just a platform. We’re a community of readers who believe that books should be within reach — always. Here's what makes us special:"}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto",children:[{title:"Budget-Friendly Access",desc:"Enjoy a wide selection of books without the heavy price tag. Plans start as low as KES 100.",icon:"💸"},{title:"Diverse Book Catalog",desc:"From fiction to academic gems, discover stories that resonate with every interest and age group.",icon:"📚"},{title:"Fast Delivery & Returns",desc:"Receive books at your doorstep or choose a nearby pickup point — at your convenience.",icon:"🚚"},{title:"Eco-Friendly & Sustainable",desc:"We reduce waste by promoting shared reading and responsible recycling of worn-out books.",icon:"🌍"},{title:"Reader-Centric Experience",desc:"Rate, review, and follow fellow book lovers. Reading isn’t just personal — it’s social.",icon:"🤝"},{title:"No Overdue Pressure",desc:"Life happens — we get it. Flexible return policies and optional extensions help you read stress-free.",icon:"🕰️"}].map((t,e)=>w.jsxs(Je.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:e*.1},className:"bg-white p-6 rounded-2xl shadow-md hover:shadow-xl transition-all duration-300",children:[w.jsx("div",{className:"text-4xl mb-4",children:t.icon}),w.jsx("h4",{className:"text-xl font-semibold text-blue-700 mb-2",children:t.title}),w.jsx("p",{className:"text-gray-600",children:t.desc})]},e))})]})}),w.jsx("section",{className:"py-20 bg-white/60 px-4 md:px-16",children:w.jsxs(Je.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.5},transition:{duration:.6},children:[w.jsx("h2",{className:"text-4xl font-extrabold text-center text-blue-800 mb-6",children:"Where You Can Find Us"}),w.jsx("p",{className:"text-center text-gray-600 max-w-2xl mx-auto text-lg mb-10",children:"We’re making it easier than ever to access books in your neighborhood. Starting with Kisumu — and expanding fast!"}),w.jsxs("div",{className:"bg-blue-100/80 rounded-2xl p-6 mb-10 shadow-lg max-w-4xl mx-auto",children:[w.jsx("h3",{className:"text-2xl font-bold text-blue-900 text-center mb-4",children:"📍 Kisumu"}),w.jsx("p",{className:"text-center text-gray-700 mb-6",children:"You can conveniently hire or lease books from these areas:"}),w.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 text-center",children:["Milimani","Tom Mboya Estate","MIG Estate","Riat Hills","Mountain View","Mamboleo","Kibos","Ojola","Manyatta","Nyalenda","Obunga","Kanyakwar"].map((t,e)=>w.jsx("div",{className:"bg-white hover:bg-blue-200 cursor-pointer text-blue-800 font-medium py-3 rounded-xl shadow transition duration-300",children:t},e))})]}),w.jsxs("div",{className:"text-center max-w-2xl mx-auto",children:[w.jsx("p",{className:"text-gray-700 text-lg mb-6",children:"🌍 More towns and locations coming soon:"}),w.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:["Nairobi","Mombasa","Homa Bay","Eldoret","Nakuru"].map((t,e)=>w.jsx("div",{className:"bg-blue-50 hover:bg-blue-200 text-blue-700 font-medium py-2 px-4 rounded-full shadow transition duration-300",children:t},e))})]})]})})]}),w.jsx("footer",{className:"bg-gray-900 text-white px-4 md:px-16 pt-16 pb-8",children:w.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-12",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"text-2xl font-bold mb-2",children:"📚 Book Club"}),w.jsx("p",{className:"text-gray-400 mb-4",children:"Powering your reading journey. Discover, borrow, and explore the world of books — one page at a time."}),w.jsxs("div",{className:"flex space-x-4 mt-4",children:[w.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition",children:w.jsx("i",{className:"fab fa-facebook-f"})}),w.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition",children:w.jsx("i",{className:"fab fa-twitter"})}),w.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition",children:w.jsx("i",{className:"fab fa-instagram"})})]})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),w.jsxs("ul",{className:"space-y-2 text-gray-400",children:[w.jsx("li",{children:w.jsx(He,{to:"/",className:"hover:text-white",children:"Home"})}),w.jsx("li",{children:w.jsx(He,{to:"/catalog",className:"hover:text-white",children:"Browse Books"})}),w.jsx("li",{children:w.jsx(He,{to:"/about",className:"hover:text-white",children:"About Us"})}),w.jsx("li",{children:w.jsx(He,{to:"/contact",className:"hover:text-white",children:"Contact"})}),w.jsx("li",{children:w.jsx(He,{to:"/faqs",className:"hover:text-white",children:"FAQs"})})]})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Services"}),w.jsxs("ul",{className:"space-y-2 text-gray-400",children:[w.jsx("li",{children:w.jsx(He,{to:"/plans",className:"hover:text-white",children:"Membership Plans"})}),w.jsx("li",{children:w.jsx(He,{to:"/locations",className:"hover:text-white",children:"Service Areas"})}),w.jsx("li",{children:w.jsx(He,{to:"/recommend",className:"hover:text-white",children:"Suggest a Book"})}),w.jsx("li",{children:w.jsx(He,{to:"/blogs",className:"hover:text-white",children:"Blog"})})]})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Join Our Newsletter"}),w.jsx("p",{className:"text-gray-400 mb-4 text-sm",children:"Be the first to know about new arrivals, reading tips, and exclusive offers."}),w.jsxs("form",{className:"flex flex-col sm:flex-row items-center",children:[w.jsx("input",{type:"email",placeholder:"Your email address",className:"w-full sm:w-auto flex-1 px-4 py-2 rounded-l-md text-gray-100"}),w.jsx("button",{type:"submit",className:"mt-3 sm:mt-0 sm:ml-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md",children:"Subscribe"})]})]})]})})]}),TC="/assets/login-DhFOqcvs.jpg",R9=()=>{const[t,e]=k.useState(""),[n,s]=k.useState(""),[a,l]=k.useState(!1),[c,f]=k.useState(""),m=Dr(),p=async y=>{y.preventDefault(),l(!0),f("");try{await TL(gc,t,n),m("/dashboard")}catch(_){f("Invalid email or password. Please try again."),console.error(_)}finally{l(!1)}};return w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-center bg-cover p-4",style:{backgroundImage:`linear-gradient(to bottom right, rgba(255, 255, 255, 0.8), rgba(240, 240, 255, 0.9)), url(${TC})`},children:w.jsxs(Je.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-white bg-opacity-90 shadow-2xl backdrop-blur-lg rounded-2xl p-8 w-full max-w-md",children:[w.jsx("h2",{className:"text-2xl font-bold text-blue-600 text-center mb-6",children:"Welcome Back"}),c&&w.jsx("p",{className:"text-red-500 text-sm text-center mb-3",children:c}),w.jsxs("form",{className:"space-y-4",onSubmit:p,children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Email"}),w.jsx("input",{type:"email",value:t,onChange:y=>e(y.target.value),className:"w-full mt-1 px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition",placeholder:"you@example.com",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Password"}),w.jsx("input",{type:"password",value:n,onChange:y=>s(y.target.value),className:"w-full mt-1 px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition",placeholder:"••••••••",required:!0})]}),w.jsx("div",{className:"text-right text-sm",children:w.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"Forgot password?"})}),w.jsx(Je.button,{whileTap:{scale:.95},whileHover:{scale:1.02},type:"submit",disabled:a,className:"w-full bg-blue-600 text-white py-2 rounded-xl mt-4 hover:bg-blue-700 transition shadow-md",children:a?"Logging in...":"Login"})]}),w.jsxs("p",{className:"text-sm text-center text-gray-500 mt-6",children:["Don’t have an account?"," ",w.jsx(He,{to:"/signup",className:"text-blue-600 hover:underline",children:"Get Started"})]})]})})},C9=()=>{const[t,e]=k.useState({username:"",firstName:"",lastName:"",idNumber:"",location:"",email:"",password:""}),[n,s]=k.useState(!1),[a,l]=k.useState(""),c=Dr(),f=p=>{e({...t,[p.target.name]:p.target.value})},m=async p=>{p.preventDefault(),s(!0),l("");try{const _=(await bL(gc,t.email,t.password)).user,{username:b,firstName:A,lastName:C,idNumber:M,location:D,email:U}=t,G={username:b,firstName:A,lastName:C,idNumber:M,location:D,email:U};await Jj(Hv(hd,"users",_.uid),G),localStorage.setItem("userDetails",JSON.stringify(G)),alert("Registration successful!"),c("/dashboard"),e({username:"",firstName:"",lastName:"",idNumber:"",location:"",email:"",password:""})}catch(y){console.error(y),l(y.message)}finally{s(!1)}};return w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-center bg-cover p-4",style:{backgroundImage:`linear-gradient(to bottom right, rgba(255, 255, 255, 0.85), rgba(240, 240, 255, 0.9)), url(${TC})`},children:w.jsxs(Je.div,{initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-white bg-opacity-90 backdrop-blur-md shadow-2xl rounded-2xl p-8 w-full max-w-3xl",children:[w.jsx("h2",{className:"text-2xl font-bold text-blue-600 text-center mb-6",children:"Create an Account"}),a&&w.jsx("p",{className:"text-red-500 text-sm text-center",children:a}),w.jsxs("form",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",onSubmit:m,children:[["username","firstName","lastName","idNumber","location","email"].map((p,y)=>w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:p==="idNumber"?"ID Number":p.charAt(0).toUpperCase()+p.slice(1)}),w.jsx("input",{type:p==="email"?"email":"text",name:p,value:t[p],onChange:f,placeholder:p==="username"?"e.g. booklover23":p==="location"?"Milimani, Kisumu":"",className:"mt-1 w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition",required:!0})]},y)),w.jsxs("div",{className:"md:col-span-2",children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),w.jsx("input",{type:"password",name:"password",value:t.password,onChange:f,placeholder:"••••••••",className:"mt-1 w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition",required:!0})]}),w.jsx(Je.button,{whileHover:{scale:1.02},whileTap:{scale:.97},type:"submit",disabled:n,className:"md:col-span-2 w-full bg-blue-600 text-white py-2 rounded-xl mt-4 hover:bg-blue-700 transition shadow-md",children:n?"Signing Up...":"Sign Up"})]}),w.jsxs("p",{className:"text-sm text-center text-gray-500 mt-6",children:["Already have an account?"," ",w.jsx(He,{to:"/login",className:"text-blue-600 hover:underline",children:"Login"})]})]})})},Ud=[{title:"The River and the Source",author:"Margaret A. Ogola",image:"https://covers.openlibrary.org/b/id/8379471-L.jpg",category:"Fiction",availability:!0,from:"Otieno Ouma",location:"Milimani",datePosted:"2025-08-01",slug:"the-river-and-the-source-2025-08-01"},{title:"Born a Crime",author:"Trevor Noah",image:"https://covers.openlibrary.org/b/id/9259256-L.jpg",category:"Autobiography",availability:!1,from:"Achieng Atieno",location:"Nyalenda",datePosted:"2025-07-25",slug:"born-a-crime-2025-07-25"},{title:"Half of a Yellow Sun",author:"Chimamanda Ngozi Adichie",image:"https://covers.openlibrary.org/b/id/8312010-L.jpg",category:"Historical Fiction",availability:!0,from:"Oduor Omondi",location:"Tom Mboya Estate",datePosted:"2025-08-04",slug:"half-of-a-yellow-sun-2025-08-04"},{title:"Things Fall Apart",author:"Chinua Achebe",image:"https://covers.openlibrary.org/b/id/8228691-L.jpg",category:"Classic",availability:!0,from:"Nyaboke Moraa",location:"Kibos",datePosted:"2025-07-28",slug:"things-fall-apart-2025-07-28"},{title:"Sapiens: A Brief History of Humankind",author:"Yuval Noah Harari",image:"https://covers.openlibrary.org/b/id/8378426-L.jpg",category:"Non-Fiction",availability:!1,from:"Were Otieno",location:"Manyatta",datePosted:"2025-07-20",slug:"sapiens-a-brief-history-of-humankind-2025-07-20"},{title:"Purple Hibiscus",author:"Chimamanda Ngozi Adichie",image:"https://covers.openlibrary.org/b/id/8312006-L.jpg",category:"Fiction",availability:!0,from:"Okoth Owino",location:"Mamboleo",datePosted:"2025-08-06",slug:"purple-hibiscus-2025-08-06"},{title:"Dreams from My Father",author:"Barack Obama",image:"https://covers.openlibrary.org/b/id/9259302-L.jpg",category:"Autobiography",availability:!1,from:"Awuor Adhiambo",location:"Kondele",datePosted:"2025-07-18",slug:"dreams-from-my-father-2025-07-18"},{title:"Outliers",author:"Malcolm Gladwell",image:"https://covers.openlibrary.org/b/id/8225263-L.jpg",category:"Self-Help",availability:!0,from:"Ochieng Onyango",location:"Lolwe Estate",datePosted:"2025-08-03",slug:"outliers-2025-08-03"},{title:"Becoming",author:"Michelle Obama",image:"https://covers.openlibrary.org/b/id/9259294-L.jpg",category:"Autobiography",availability:!0,from:"Akoth Akinyi",location:"Robert Ouko Estate",datePosted:"2025-07-30",slug:"becoming-2025-07-30"},{title:"The Alchemist",author:"Paulo Coelho",image:"https://covers.openlibrary.org/b/id/8231996-L.jpg",category:"Fiction",availability:!1,from:"Omollo Otieno",location:"Dunga",datePosted:"2025-07-15",slug:"the-alchemist-2025-07-15"},{title:"A Grain of Wheat",author:"Ngũgĩ wa Thiong'o",image:"https://covers.openlibrary.org/b/id/8154231-L.jpg",category:"Classic",availability:!0,from:"Anyango Millicent",location:"Obunga",datePosted:"2025-07-22",slug:"a-grain-of-wheat-2025-07-22"},{title:"The 7 Habits of Highly Effective People",author:"Stephen R. Covey",image:"https://covers.openlibrary.org/b/id/8272004-L.jpg",category:"Self-Help",availability:!0,from:"Omondi Peter",location:"Migosi",datePosted:"2025-08-02",slug:"the-7-habits-of-highly-effective-people-2025-08-02"},{title:"Lean In",author:"Sheryl Sandberg",image:"https://covers.openlibrary.org/b/id/8228719-L.jpg",category:"Non-Fiction",availability:!1,from:"Owino Felix",location:"Nyamasaria",datePosted:"2025-07-17",slug:"lean-in-2025-07-17"},{title:"No Longer at Ease",author:"Chinua Achebe",image:"https://covers.openlibrary.org/b/id/8231311-L.jpg",category:"Classic",availability:!0,from:"Odhiambo Brian",location:"Mtwapa Estate",datePosted:"2025-08-05",slug:"no-longer-at-ease-2025-08-05"},{title:"Educated",author:"Tara Westover",image:"https://covers.openlibrary.org/b/id/8378443-L.jpg",category:"Memoir",availability:!1,from:"Awino Lucy",location:"Riat",datePosted:"2025-07-21",slug:"educated-2025-07-21"},{title:"The Monk Who Sold His Ferrari",author:"Robin Sharma",image:"https://covers.openlibrary.org/b/id/8228705-L.jpg",category:"Self-Help",availability:!0,from:"Oduor Erick",location:"Ombeyi",datePosted:"2025-08-01",slug:"the-monk-who-sold-his-ferrari-2025-08-01"},{title:"The Power of Habit",author:"Charles Duhigg",image:"https://covers.openlibrary.org/b/id/8228722-L.jpg",category:"Self-Help",availability:!1,from:"Were Morris",location:"Ojola",datePosted:"2025-07-24",slug:"the-power-of-habit-2025-07-24"},{title:"Long Walk to Freedom",author:"Nelson Mandela",image:"https://covers.openlibrary.org/b/id/8379479-L.jpg",category:"Autobiography",availability:!0,from:"Atieno Christine",location:"Kogony",datePosted:"2025-07-29",slug:"long-walk-to-freedom-2025-07-29"},{title:"The Innovators",author:"Walter Isaacson",image:"https://covers.openlibrary.org/b/id/8378461-L.jpg",category:"Biography",availability:!0,from:"Ochieng Steve",location:"Otonglo",datePosted:"2025-08-04",slug:"the-innovators-2025-08-04"},{title:"Man's Search for Meaning",author:"Viktor E. Frankl",image:"https://covers.openlibrary.org/b/id/8378469-L.jpg",category:"Psychology",availability:!1,from:"Nyakinyi Josephine",location:"Nyahera",datePosted:"2025-07-26",slug:"mans-search-for-meaning-2025-07-26"},{title:"The Subtle Art of Not Giving a F*ck",author:"Mark Manson",image:"https://covers.openlibrary.org/b/id/8378474-L.jpg",category:"Self-Help",availability:!0,from:"Odipo Benard",location:"Maseno",datePosted:"2025-08-03",slug:"the-subtle-art-of-not-giving-a-fck-2025-08-03"},{title:"Atomic Habits",author:"James Clear",image:"https://covers.openlibrary.org/b/id/8378477-L.jpg",category:"Self-Help",availability:!0,from:"Achieng Clare",location:"Kamas",datePosted:"2025-08-05",slug:"atomic-habits-2025-08-05"},{title:"Grit",author:"Angela Duckworth",image:"https://covers.openlibrary.org/b/id/8378483-L.jpg",category:"Self-Help",availability:!1,from:"Okello Sam",location:"Rabuor",datePosted:"2025-07-27",slug:"grit-2025-07-27"},{title:"Rich Dad Poor Dad",author:"Robert T. Kiyosaki",image:"https://covers.openlibrary.org/b/id/8378490-L.jpg",category:"Finance",availability:!0,from:"Omondi Paul",location:"Buoye",datePosted:"2025-08-02",slug:"rich-dad-poor-dad-2025-08-02"},{title:"The Intelligent Investor",author:"Benjamin Graham",image:"https://covers.openlibrary.org/b/id/8378494-L.jpg",category:"Finance",availability:!1,from:"Otieno Fredrick",location:"Kanyakwar",datePosted:"2025-07-23",slug:"the-intelligent-investor-2025-07-23"},{title:"Think and Grow Rich",author:"Napoleon Hill",image:"https://covers.openlibrary.org/b/id/8378497-L.jpg",category:"Self-Help",availability:!0,from:"Atieno Dorcas",location:"Kadero",datePosted:"2025-08-01",slug:"think-and-grow-rich-2025-08-01"},{title:"Ikigai",author:"Héctor García",image:"https://covers.openlibrary.org/b/id/8378502-L.jpg",category:"Self-Help",availability:!1,from:"Were Lilian",location:"Chiga",datePosted:"2025-07-19",slug:"ikigai-2025-07-19"},{title:"Can't Hurt Me",author:"David Goggins",image:"https://covers.openlibrary.org/b/id/8378507-L.jpg",category:"Memoir",availability:!0,from:"Ochieng Kevin",location:"Muhoroni",datePosted:"2025-08-06",slug:"cant-hurt-me-2025-08-06"},{title:"The Four Agreements",author:"Don Miguel Ruiz",image:"https://covers.openlibrary.org/b/id/8378510-L.jpg",category:"Self-Help",availability:!0,from:"Akoth Faith",location:"Awasi",datePosted:"2025-08-04",slug:"the-four-agreements-2025-08-04"}],I9=["All",...Array.from(new Set(Ud.map(t=>t.category)))],N9=()=>{const[t,e]=k.useState(""),[n,s]=k.useState("All"),[a,l]=k.useState(1),c=8,f=Ud.filter(_=>{const b=_.title.toLowerCase().includes(t.toLowerCase()),A=n==="All"||_.category===n;return b&&A}),m=Math.ceil(f.length/c),p=f.slice((a-1)*c,a*c),y=_=>{l(_),window.scrollTo({top:0,behavior:"smooth"})};return w.jsxs("div",{className:"px-4 py-16 bg-gradient-to-br from-gray-50 to-white min-h-screen",children:[w.jsx(Je.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-4xl font-bold text-center text-blue-600 mb-6",children:"Browse Books"}),w.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-8",children:[w.jsx("input",{type:"text",value:t,onChange:_=>e(_.target.value),placeholder:"Search by title...",className:"px-4 py-2 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"}),w.jsx("select",{value:n,onChange:_=>{s(_.target.value),l(1)},className:"px-4 py-2 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",children:I9.map(_=>w.jsx("option",{value:_,children:_},_))})]}),w.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8 max-w-7xl mx-auto",children:p.map((_,b)=>w.jsx(Je.div,{whileHover:{scale:1.05},initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:b*.05,duration:.4},children:w.jsx(He,{to:`/book/${_.slug}`,children:w.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition-shadow duration-300",children:[w.jsx("img",{src:_.image,alt:_.title,className:"w-full h-64 object-cover"}),w.jsxs("div",{className:"p-4",children:[w.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-1",children:_.title}),w.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["by ",_.author]}),w.jsxs("p",{className:"text-xs text-gray-500 mb-1",children:["From: ",_.from]}),w.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Location: ",_.location]}),w.jsxs("div",{className:"flex flex-wrap gap-2",children:[w.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full",children:_.category}),w.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${_.availability?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:_.availability?"Available":"Unavailable"})]})]})]})})},_.id))}),w.jsx("div",{className:"mt-12 flex justify-center gap-2",children:[...Array(m)].map((_,b)=>w.jsx("button",{onClick:()=>y(b+1),className:`px-4 py-2 rounded-xl text-sm ${a===b+1?"bg-blue-600 text-white":"bg-gray-100 text-gray-800"}`,children:b+1},b))})]})},D9=()=>{const{slug:t}=y1(),e=Dr(),n=Ud.find(s=>s.slug===t);return n?w.jsxs("div",{className:"px-4 py-16 bg-gradient-to-br from-white to-blue-50 min-h-screen",children:[w.jsxs("div",{className:"max-w-4xl mx-auto mb-4",children:[w.jsxs("p",{className:"text-sm text-gray-600",children:[w.jsx("span",{className:"text-blue-600",children:"Browse"})," /"," ",w.jsx("span",{className:"text-blue-600",children:"Books"})," /"," ",w.jsx("span",{className:"font-medium text-gray-800",children:n.title})]}),w.jsx("div",{className:"border-b border-gray-300 mt-2 mb-4"}),w.jsx("button",{onClick:()=>e(-1),className:"mb-6 inline-flex items-center text-sm text-blue-600 hover:underline",children:"← Back"})]}),w.jsxs(Je.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-4xl mx-auto bg-white rounded-xl shadow-lg p-6 flex flex-col md:flex-row gap-8",children:[w.jsx("img",{src:n.image,alt:n.title,className:"w-full md:w-1/3 h-80 object-cover rounded-xl"}),w.jsxs("div",{className:"flex-1 space-x-2",children:[w.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:n.title}),w.jsxs("p",{className:"text-lg text-gray-600 mb-2",children:["By ",n.author]}),w.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Shared by: ",n.from]}),w.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Location: ",n.location]}),w.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Posted on: ",n.datePosted]}),w.jsxs("p",{className:"text-sm bg-blue-100 text-blue-700 inline-block px-3 py-1 rounded-full mb-2",children:["Category: ",n.category]}),w.jsx("p",{className:`text-sm inline-block px-3 py-1 rounded-full mb-6 ml-2 ${n.availability?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:n.availability?"Available for Hire":"Currently Unavailable"}),w.jsx("button",{disabled:!n.availability,onClick:()=>e(`/hire-book/${n.slug}`),className:`px-6 py-2 rounded-xl text-white font-semibold transition-all duration-300 ${n.availability?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed"}`,children:n.availability?"Hire this Book":"Unavailable"})]})]})]}):w.jsx("div",{className:"px-4 py-16 min-h-screen text-center",children:w.jsx("h2",{className:"text-2xl font-semibold text-red-600",children:"Book not found."})})},P9=[{icon:w.jsx(OS,{className:"w-8 h-8 text-blue-600"}),title:"Create an Account",description:"Sign up for free and become part of a growing community of book lovers. Your profile lets you lend or borrow books in just a few clicks.",bg:"from-blue-100 to-blue-50"},{icon:w.jsx(ju,{className:"w-8 h-8 text-green-600"}),title:"List or Browse Books",description:"Add your books with details and images — or explore the library of available books from other users based on category and location.",bg:"from-green-100 to-green-50"},{icon:w.jsx(IS,{className:"w-8 h-8 text-purple-600"}),title:"Subscribe to Access",description:"Choose a simple subscription to unlock the power of borrowing and lending. This helps keep transactions secure and reliable.",bg:"from-purple-100 to-purple-50"},{icon:w.jsx(DS,{className:"w-8 h-8 text-yellow-600"}),title:"Request or Approve Lending",description:"Found a book? Request it. Got a request? Approve it. The process is seamless — messages are sent directly between borrowers and lenders.",bg:"from-yellow-100 to-yellow-50"},{icon:w.jsx(NS,{className:"w-8 h-8 text-pink-600"}),title:"Exchange & Return",description:"Agree on pickup or delivery. Return the book on time to build trust and unlock more lending opportunities with others.",bg:"from-pink-100 to-pink-50"},{icon:w.jsx(PS,{className:"w-8 h-8 text-indigo-600"}),title:"Rate & Grow Your Reputation",description:"Leave feedback and rate your experience. The better your reputation, the more trust you earn within the community.",bg:"from-indigo-100 to-indigo-50"}],O9=()=>w.jsxs("div",{className:"px-6 py-16 bg-gradient-to-b from-white to-gray-50 min-h-screen",children:[w.jsx(Je.h1,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-5xl font-extrabold text-center text-blue-700 mb-4",children:"How It Works"}),w.jsx("p",{className:"text-center text-gray-600 max-w-xl mx-auto text-lg mb-12",children:"Discover how our peer-to-peer book sharing system empowers readers and connects communities through trust, transparency, and knowledge."}),w.jsx("div",{className:"grid gap-10 sm:grid-cols-2 lg:grid-cols-3 max-w-6xl mx-auto",children:P9.map((t,e)=>w.jsxs(Je.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:e*.1,duration:.5},viewport:{once:!0},className:`bg-gradient-to-br ${t.bg} rounded-3xl shadow-xl p-6 flex flex-col items-start space-y-4 hover:scale-[1.02] transition-transform duration-300`,children:[w.jsx("div",{className:"bg-white p-3 rounded-full shadow-md",children:t.icon}),w.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:t.title}),w.jsx("p",{className:"text-gray-600",children:t.description})]},e))}),w.jsx("div",{className:"mt-20 text-center",children:w.jsx(He,{to:"/signup",className:"inline-block mb-4",children:w.jsx(Je.button,{whileHover:{scale:1.05},className:"bg-blue-600 text-white px-8 py-3 text-lg rounded-full shadow-lg hover:bg-blue-700 transition",children:"Join Now & Start Lending"})})})]}),M9=()=>w.jsxs("div",{className:"px-6 py-16 bg-gradient-to-b from-white to-gray-50 min-h-screen",children:[w.jsx(Je.h1,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-5xl font-extrabold text-center text-blue-700 mb-4",children:"Contact Us"}),w.jsx("p",{className:"text-center text-gray-600 max-w-xl mx-auto text-lg mb-12",children:"Have questions, feedback, or need help? Reach out and we’ll get back to you as soon as possible."}),w.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-12",children:[w.jsxs(Je.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.5},className:"bg-gradient-to-br from-blue-100 to-blue-50 rounded-3xl shadow-xl p-8 space-y-6",children:[w.jsxs("div",{className:"flex items-center space-x-4",children:[w.jsx("div",{className:"bg-white p-3 rounded-full shadow-md",children:w.jsx(_I,{className:"text-blue-600 w-6 h-6"})}),w.jsxs("div",{children:[w.jsx("h4",{className:"font-semibold text-gray-800",children:"Email"}),w.jsx("p",{className:"text-gray-600",children:"support@booksarc.co.ke"})]})]}),w.jsxs("div",{className:"flex items-center space-x-4",children:[w.jsx("div",{className:"bg-white p-3 rounded-full shadow-md",children:w.jsx(AI,{className:"text-green-600 w-6 h-6"})}),w.jsxs("div",{children:[w.jsx("h4",{className:"font-semibold text-gray-800",children:"Phone"}),w.jsx("p",{className:"text-gray-600",children:"+254 712 345 678"})]})]}),w.jsxs("div",{className:"flex items-start space-x-4",children:[w.jsx("div",{className:"bg-white p-3 rounded-full shadow-md",children:w.jsx(TI,{className:"text-purple-600 w-6 h-6"})}),w.jsxs("div",{children:[w.jsx("h4",{className:"font-semibold text-gray-800",children:"Location"}),w.jsxs("p",{className:"text-gray-600",children:["Kisumu, Kenya ",w.jsx("br",{}),"Open: Mon – Sat (9AM – 5PM)"]})]})]})]}),w.jsxs(Je.form,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.5},className:"bg-gradient-to-br from-gray-100 to-white rounded-3xl shadow-xl p-8 space-y-6",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block font-medium text-gray-700 mb-1",children:"Your Name"}),w.jsx("input",{type:"text",className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none",placeholder:"John Doe",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block font-medium text-gray-700 mb-1",children:"Your Email"}),w.jsx("input",{type:"email",className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none",placeholder:"johndoe@email.com",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block font-medium text-gray-700 mb-1",children:"Your Message"}),w.jsx("textarea",{rows:5,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none",placeholder:"Type your message here...",required:!0})]}),w.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-xl text-lg font-semibold transition",children:"Send Message"})]})]})]}),V9=()=>w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white via-blue-50 to-blue-100 px-6 py-16",children:w.jsxs(Je.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6},className:"text-center max-w-xl",children:[w.jsx("h1",{className:"text-7xl font-extrabold text-blue-700 mb-4",children:"404"}),w.jsx("p",{className:"text-2xl font-semibold text-gray-800 mb-2",children:"Oops! Page not found"}),w.jsx("p",{className:"text-gray-600 mb-6",children:"The page you’re looking for doesn’t exist or has been moved."}),w.jsx(He,{to:"/",className:"inline-block px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-full font-medium transition",children:"Go Back Home"})]})}),EC=k.createContext(),k9=({children:t})=>{const[e,n]=k.useState(null),[s,a]=k.useState(!0);return k.useEffect(()=>{const l=SL(gc,c=>{n(c),a(!1)});return()=>l()},[]),w.jsx(EC.Provider,{value:{user:e},children:!s&&t})},Uc=()=>k.useContext(EC),L9=()=>{const{user:t}=Uc(),e=Dr(),[n,s]=k.useState(null),[a,l]=k.useState("Pending Payment"),[c,f]=k.useState([]);return k.useEffect(()=>{(async()=>{const p=localStorage.getItem("userDetails");if(p)s(JSON.parse(p));else if(t){const y=Hv(hd,"users",t.uid),_=await Wj(y);_.exists()&&(s(_.data()),localStorage.setItem("userDetails",JSON.stringify(_.data())))}})()},[t]),k.useEffect(()=>{if(!t)return;(async()=>{const p=$j(qR(hd,"books"),Yj("userId","==",t.uid)),_=(await Zj(p)).docs.map(b=>({id:b.id,...b.data()}));f(_)})()},[t]),w.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:w.jsxs("div",{className:"max-w-5xl mx-auto",children:[w.jsx("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6",children:w.jsxs("h1",{className:"text-3xl font-bold text-blue-600",children:["📚 Welcome, ",(n==null?void 0:n.firstName)||"User","!"]})}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[w.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-lg font-semibold",children:"Subscription"}),w.jsxs("p",{className:"text-gray-500 text-sm",children:["Status: ",a]})]}),a==="Active"?w.jsx(fI,{className:"text-green-500",size:32}):w.jsx(gI,{className:"text-yellow-500",size:32})]}),w.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-lg font-semibold",children:"Books Listed"}),w.jsxs("p",{className:"text-gray-500 text-sm",children:[c.length," books"]})]}),w.jsx(ju,{className:"text-blue-500",size:32})]}),w.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-lg font-semibold",children:"Books Borrowed"}),w.jsxs("p",{className:"text-gray-500 text-sm",children:[c.filter(m=>m.status==="hired").length," active"]})]}),w.jsx(ju,{className:"text-purple-500",size:32})]})]}),w.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md mb-6",children:[w.jsx("h2",{className:"text-xl font-bold mb-4",children:"Quick Actions"}),w.jsxs("div",{className:"flex gap-4",children:[w.jsxs("button",{className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg shadow transition",onClick:()=>e("/list-book"),children:[w.jsx(mI,{size:18}),"List a Book"]}),w.jsxs("button",{className:"flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg shadow transition",onClick:()=>e("/browse"),children:[w.jsx(ju,{size:18}),"Browse Books"]})]})]}),w.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md mb-6",children:[w.jsx("h2",{className:"text-xl font-bold mb-4",children:"My Books"}),c.length>0?w.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(m=>w.jsxs("div",{className:"border rounded-lg p-4 shadow hover:shadow-md transition",children:[w.jsx("img",{src:m.coverUrl,alt:m.title,className:"w-full h-40 object-cover rounded mb-3"}),w.jsx("h3",{className:"text-lg font-semibold",children:m.title}),w.jsx("p",{className:"text-gray-600 text-sm",children:m.author}),w.jsx("p",{className:"text-sm text-gray-500",children:m.description}),w.jsxs("div",{className:"mt-2 text-sm",children:[w.jsx("span",{className:`px-2 py-1 rounded ${m.status==="available"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:m.status}),m.status==="hired"&&m.dueDate&&w.jsxs("p",{className:"text-xs text-gray-500",children:["Due:"," ",new Date(m.dueDate.seconds*1e3).toLocaleDateString()]})]}),w.jsxs("p",{className:"mt-1 font-semibold text-blue-600",children:["KES ",m.price||0]})]},m.id))}):w.jsx("p",{className:"text-gray-500",children:"You have not listed any books yet."})]}),w.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[w.jsx("h2",{className:"text-xl font-bold mb-4",children:"Your Profile"}),n?w.jsxs("ul",{className:"space-y-2 text-gray-700",children:[w.jsxs("li",{children:[w.jsx("strong",{children:"Username:"})," ",n.username]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Name:"})," ",n.firstName," ",n.lastName]}),w.jsxs("li",{children:[w.jsx("strong",{children:"ID Number:"})," ",n.idNumber]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Location:"})," ",n.location]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Email:"})," ",t==null?void 0:t.email]})]}):w.jsx("p",{className:"text-gray-500",children:"Loading user details..."})]})]})})},U9=()=>{const{user:t}=Uc(),[e,n]=k.useState({title:"",author:"",description:"",price:""}),[s,a]=k.useState(null),[l,c]=k.useState(null),[f,m]=k.useState(0),[p,y]=k.useState(!1),[_,b]=k.useState(""),A=D=>{n({...e,[D.target.name]:D.target.value})},C=D=>{const U=D.target.files[0];a(U),c(U?URL.createObjectURL(U):null)},M=async D=>{if(D.preventDefault(),!s){b("Please select a cover image.");return}try{y(!0),b("");const U=d9(_9,`books/${Date.now()}_${s.name}`),G=h9(U,s);G.on("state_changed",q=>{const se=Math.round(q.bytesTransferred/q.totalBytes*100);m(se)},q=>{console.error(q),b("Upload failed. Please try again."),y(!1)},async()=>{const q=await f9(G.snapshot.ref);await e5(qR(hd,"books"),{...e,price:parseFloat(e.price)||0,coverUrl:q,userId:t.uid,status:"available",dueDate:null,createdAt:n5()}),alert("Book listed successfully!"),n({title:"",author:"",description:"",price:""}),a(null),c(null),m(0),y(!1)})}catch(U){console.error(U),b("Something went wrong. Please try again."),y(!1)}};return w.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded-xl shadow-md mt-8",children:[w.jsx("h2",{className:"text-2xl font-bold text-blue-600 mb-6 text-center",children:"List a Book"}),_&&w.jsx("p",{className:"text-red-500 text-center mb-4",children:_}),w.jsxs("form",{onSubmit:M,className:"space-y-5",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Book Title"}),w.jsx("input",{type:"text",name:"title",value:e.title,onChange:A,className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Author"}),w.jsx("input",{type:"text",name:"author",value:e.author,onChange:A,className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Book Description"}),w.jsx("textarea",{name:"description",value:e.description,onChange:A,rows:"4",className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Price (KES)"}),w.jsx("input",{type:"number",name:"price",value:e.price,onChange:A,className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Cover Image"}),w.jsx("input",{type:"file",onChange:C,className:"w-full",accept:"image/*",required:!0}),l&&w.jsx("img",{src:l,alt:"Preview",className:"w-full h-40 object-cover rounded-lg mt-3 border"})]}),f>0&&w.jsxs("p",{className:"text-sm text-blue-600 font-semibold text-center",children:["Uploading: ",f,"%"]}),w.jsx("button",{type:"submit",disabled:p,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition",children:p?`Uploading... ${f}%`:"List Book"})]})]})},j9=()=>{const{slug:t}=y1(),e=Dr(),{user:n}=Uc(),s=Ud.find(m=>m.slug===t),[a,l]=k.useState({fullName:"",email:"",phone:"",pickupDate:"",notes:""});if(k.useEffect(()=>{l(m=>({...m,fullName:(n==null?void 0:n.displayName)||"",email:(n==null?void 0:n.email)||"",phone:(n==null?void 0:n.phoneNumber)||"",pickupDate:new Date().toISOString().split("T")[0]}))},[n]),!s)return w.jsx("div",{className:"px-4 py-16 text-center min-h-screen",children:w.jsx("h2",{className:"text-2xl text-red-600 font-semibold",children:"Book not found."})});const c=m=>{l({...a,[m.target.name]:m.target.value})},f=m=>{m.preventDefault(),alert(`Your request to hire "${s.title}" has been submitted. Please wait for approval.`),e(`/book/${t}`)};return w.jsxs("div",{className:"px-4 py-16 bg-gradient-to-br from-white to-blue-50 min-h-screen",children:[w.jsx("div",{className:"max-w-3xl mx-auto mb-6",children:w.jsxs("p",{className:"text-sm text-gray-600",children:[w.jsx("span",{className:"text-blue-600",children:"Browse"})," /"," ",w.jsx("span",{className:"text-blue-600",children:"Books"})," /"," ",w.jsx("span",{className:"text-blue-600",children:s.title})," /"," ",w.jsx("span",{className:"font-medium text-gray-800",children:"Hire"})]})}),w.jsxs(Je.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-3xl mx-auto bg-white rounded-xl shadow-lg p-6",children:[w.jsxs("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:["Hire: ",s.title]}),w.jsx("p",{className:"text-gray-600 mb-6",children:"Please fill in the details below to request this book."}),w.jsxs("form",{onSubmit:f,className:"space-y-4",children:[w.jsx("input",{type:"text",name:"fullName",placeholder:"Full Name",value:a.fullName,onChange:c,className:"w-full border border-gray-300 rounded-lg px-4 py-2",required:!0}),w.jsx("input",{type:"email",name:"email",placeholder:"Email",value:a.email,onChange:c,className:"w-full border border-gray-300 rounded-lg px-4 py-2",required:!0}),w.jsx("input",{type:"tel",name:"phone",placeholder:"Phone Number",value:a.phone,onChange:c,className:"w-full border border-gray-300 rounded-lg px-4 py-2"}),w.jsx("input",{type:"date",name:"pickupDate",value:a.pickupDate,onChange:c,className:"w-full border border-gray-300 rounded-lg px-4 py-2",required:!0}),w.jsx("textarea",{name:"notes",placeholder:"Additional notes (optional)",value:a.notes,onChange:c,className:"w-full border border-gray-300 rounded-lg px-4 py-2",rows:"3"}),w.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-semibold",children:"Submit Request"})]})]})]})},bg=({children:t})=>{const{user:e}=Uc();return e?t:w.jsx(b1,{to:"/login",replace:!0})},Tg=({children:t})=>{const{user:e}=Uc();return e?w.jsx(b1,{to:"/dashboard"}):t};function B9(){return w.jsxs(k9,{children:[w.jsx(b9,{}),w.jsx(E9,{}),w.jsx(w9,{}),w.jsxs(aV,{children:[w.jsx(Qn,{path:"/",element:w.jsx(Tg,{children:w.jsx(x9,{})})}),w.jsx(Qn,{path:"/login",element:w.jsx(Tg,{children:w.jsx(R9,{})})}),w.jsx(Qn,{path:"/signup",element:w.jsx(Tg,{children:w.jsx(C9,{})})}),w.jsx(Qn,{path:"/browse",element:w.jsx(N9,{})}),w.jsx(Qn,{path:"/book/:slug",element:w.jsx(D9,{})}),w.jsx(Qn,{path:"/how-it-works",element:w.jsx(O9,{})}),w.jsx(Qn,{path:"/contact",element:w.jsx(M9,{})}),w.jsx(Qn,{path:"/dashboard",element:w.jsx(bg,{children:w.jsx(L9,{})})}),w.jsx(Qn,{path:"/list-book",element:w.jsx(bg,{children:w.jsx(U9,{})})}),w.jsx(Qn,{path:"/hire-book/:slug",element:w.jsx(bg,{children:w.jsx(j9,{})})}),w.jsx(Qn,{path:"*",element:w.jsx(V9,{})})]}),w.jsx(T9,{})]})}nI.createRoot(document.getElementById("root")).render(w.jsx(k.StrictMode,{children:w.jsx(NV,{children:w.jsx(B9,{})})}));
