(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var jp={exports:{}},xu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yE;function $I(){if(yE)return xu;yE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return xu.Fragment=e,xu.jsx=n,xu.jsxs=n,xu}var _E;function YI(){return _E||(_E=1,jp.exports=$I()),jp.exports}var w=YI(),Bp={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE;function XI(){if(vE)return Re;vE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function E(L){return L===null||typeof L!="object"?null:(L=v&&L[v]||L["@@iterator"],typeof L=="function"?L:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,O={};function D(L,re,ce){this.props=L,this.context=re,this.refs=O,this.updater=ce||A}D.prototype.isReactComponent={},D.prototype.setState=function(L,re){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,re,"setState")},D.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function U(){}U.prototype=D.prototype;function G(L,re,ce){this.props=L,this.context=re,this.refs=O,this.updater=ce||A}var q=G.prototype=new U;q.constructor=G,C(q,D.prototype),q.isPureReactComponent=!0;var se=Array.isArray,J={H:null,A:null,T:null,S:null,V:null},le=Object.prototype.hasOwnProperty;function P(L,re,ce,oe,ye,Ie){return ce=Ie.ref,{$$typeof:t,type:L,key:re,ref:ce!==void 0?ce:null,props:Ie}}function R(L,re){return P(L.type,re,void 0,void 0,void 0,L.props)}function I(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function V(L){var re={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ce){return re[ce]})}var B=/\/+/g;function F(L,re){return typeof L=="object"&&L!==null&&L.key!=null?V(""+L.key):re.toString(36)}function M(){}function St(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(M,M):(L.status="pending",L.then(function(re){L.status==="pending"&&(L.status="fulfilled",L.value=re)},function(re){L.status==="pending"&&(L.status="rejected",L.reason=re)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function ut(L,re,ce,oe,ye){var Ie=typeof L;(Ie==="undefined"||Ie==="boolean")&&(L=null);var Se=!1;if(L===null)Se=!0;else switch(Ie){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(L.$$typeof){case t:case e:Se=!0;break;case y:return Se=L._init,ut(Se(L._payload),re,ce,oe,ye)}}if(Se)return ye=ye(L),Se=oe===""?"."+F(L,0):oe,se(ye)?(ce="",Se!=null&&(ce=Se.replace(B,"$&/")+"/"),ut(ye,re,ce,"",function(pi){return pi})):ye!=null&&(I(ye)&&(ye=R(ye,ce+(ye.key==null||L&&L.key===ye.key?"":(""+ye.key).replace(B,"$&/")+"/")+Se)),re.push(ye)),1;Se=0;var zt=oe===""?".":oe+":";if(se(L))for(var tt=0;tt<L.length;tt++)oe=L[tt],Ie=zt+F(oe,tt),Se+=ut(oe,re,ce,Ie,ye);else if(tt=E(L),typeof tt=="function")for(L=tt.call(L),tt=0;!(oe=L.next()).done;)oe=oe.value,Ie=zt+F(oe,tt++),Se+=ut(oe,re,ce,Ie,ye);else if(Ie==="object"){if(typeof L.then=="function")return ut(St(L),re,ce,oe,ye);throw re=String(L),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Se}function W(L,re,ce){if(L==null)return L;var oe=[],ye=0;return ut(L,oe,"","",function(Ie){return re.call(ce,Ie,ye++)}),oe}function ae(L){if(L._status===-1){var re=L._result;re=re(),re.then(function(ce){(L._status===0||L._status===-1)&&(L._status=1,L._result=ce)},function(ce){(L._status===0||L._status===-1)&&(L._status=2,L._result=ce)}),L._status===-1&&(L._status=0,L._result=re)}if(L._status===1)return L._result.default;throw L._result}var de=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function ke(){}return Re.Children={map:W,forEach:function(L,re,ce){W(L,function(){re.apply(this,arguments)},ce)},count:function(L){var re=0;return W(L,function(){re++}),re},toArray:function(L){return W(L,function(re){return re})||[]},only:function(L){if(!I(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Re.Component=D,Re.Fragment=n,Re.Profiler=a,Re.PureComponent=G,Re.StrictMode=s,Re.Suspense=m,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,Re.__COMPILER_RUNTIME={__proto__:null,c:function(L){return J.H.useMemoCache(L)}},Re.cache=function(L){return function(){return L.apply(null,arguments)}},Re.cloneElement=function(L,re,ce){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var oe=C({},L.props),ye=L.key,Ie=void 0;if(re!=null)for(Se in re.ref!==void 0&&(Ie=void 0),re.key!==void 0&&(ye=""+re.key),re)!le.call(re,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&re.ref===void 0||(oe[Se]=re[Se]);var Se=arguments.length-2;if(Se===1)oe.children=ce;else if(1<Se){for(var zt=Array(Se),tt=0;tt<Se;tt++)zt[tt]=arguments[tt+2];oe.children=zt}return P(L.type,ye,void 0,void 0,Ie,oe)},Re.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Re.createElement=function(L,re,ce){var oe,ye={},Ie=null;if(re!=null)for(oe in re.key!==void 0&&(Ie=""+re.key),re)le.call(re,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ye[oe]=re[oe]);var Se=arguments.length-2;if(Se===1)ye.children=ce;else if(1<Se){for(var zt=Array(Se),tt=0;tt<Se;tt++)zt[tt]=arguments[tt+2];ye.children=zt}if(L&&L.defaultProps)for(oe in Se=L.defaultProps,Se)ye[oe]===void 0&&(ye[oe]=Se[oe]);return P(L,Ie,void 0,void 0,null,ye)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(L){return{$$typeof:f,render:L}},Re.isValidElement=I,Re.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:ae}},Re.memo=function(L,re){return{$$typeof:p,type:L,compare:re===void 0?null:re}},Re.startTransition=function(L){var re=J.T,ce={};J.T=ce;try{var oe=L(),ye=J.S;ye!==null&&ye(ce,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(ke,de)}catch(Ie){de(Ie)}finally{J.T=re}},Re.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},Re.use=function(L){return J.H.use(L)},Re.useActionState=function(L,re,ce){return J.H.useActionState(L,re,ce)},Re.useCallback=function(L,re){return J.H.useCallback(L,re)},Re.useContext=function(L){return J.H.useContext(L)},Re.useDebugValue=function(){},Re.useDeferredValue=function(L,re){return J.H.useDeferredValue(L,re)},Re.useEffect=function(L,re,ce){var oe=J.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(L,re)},Re.useId=function(){return J.H.useId()},Re.useImperativeHandle=function(L,re,ce){return J.H.useImperativeHandle(L,re,ce)},Re.useInsertionEffect=function(L,re){return J.H.useInsertionEffect(L,re)},Re.useLayoutEffect=function(L,re){return J.H.useLayoutEffect(L,re)},Re.useMemo=function(L,re){return J.H.useMemo(L,re)},Re.useOptimistic=function(L,re){return J.H.useOptimistic(L,re)},Re.useReducer=function(L,re,ce){return J.H.useReducer(L,re,ce)},Re.useRef=function(L){return J.H.useRef(L)},Re.useState=function(L){return J.H.useState(L)},Re.useSyncExternalStore=function(L,re,ce){return J.H.useSyncExternalStore(L,re,ce)},Re.useTransition=function(){return J.H.useTransition()},Re.version="19.1.0",Re}var TE;function gy(){return TE||(TE=1,Bp.exports=XI()),Bp.exports}var k=gy(),zp={exports:{}},Ru={},Fp={exports:{}},qp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EE;function QI(){return EE||(EE=1,function(t){function e(W,ae){var de=W.length;W.push(ae);e:for(;0<de;){var ke=de-1>>>1,L=W[ke];if(0<a(L,ae))W[ke]=ae,W[de]=L,de=ke;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var ae=W[0],de=W.pop();if(de!==ae){W[0]=de;e:for(var ke=0,L=W.length,re=L>>>1;ke<re;){var ce=2*(ke+1)-1,oe=W[ce],ye=ce+1,Ie=W[ye];if(0>a(oe,de))ye<L&&0>a(Ie,oe)?(W[ke]=Ie,W[ye]=de,ke=ye):(W[ke]=oe,W[ce]=de,ke=ce);else if(ye<L&&0>a(Ie,de))W[ke]=Ie,W[ye]=de,ke=ye;else break e}}return ae}function a(W,ae){var de=W.sortIndex-ae.sortIndex;return de!==0?de:W.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var m=[],p=[],y=1,v=null,E=3,A=!1,C=!1,O=!1,D=!1,U=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function se(W){for(var ae=n(p);ae!==null;){if(ae.callback===null)s(p);else if(ae.startTime<=W)s(p),ae.sortIndex=ae.expirationTime,e(m,ae);else break;ae=n(p)}}function J(W){if(O=!1,se(W),!C)if(n(m)!==null)C=!0,le||(le=!0,F());else{var ae=n(p);ae!==null&&ut(J,ae.startTime-W)}}var le=!1,P=-1,R=5,I=-1;function V(){return D?!0:!(t.unstable_now()-I<R)}function B(){if(D=!1,le){var W=t.unstable_now();I=W;var ae=!0;try{e:{C=!1,O&&(O=!1,G(P),P=-1),A=!0;var de=E;try{t:{for(se(W),v=n(m);v!==null&&!(v.expirationTime>W&&V());){var ke=v.callback;if(typeof ke=="function"){v.callback=null,E=v.priorityLevel;var L=ke(v.expirationTime<=W);if(W=t.unstable_now(),typeof L=="function"){v.callback=L,se(W),ae=!0;break t}v===n(m)&&s(m),se(W)}else s(m);v=n(m)}if(v!==null)ae=!0;else{var re=n(p);re!==null&&ut(J,re.startTime-W),ae=!1}}break e}finally{v=null,E=de,A=!1}ae=void 0}}finally{ae?F():le=!1}}}var F;if(typeof q=="function")F=function(){q(B)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,St=M.port2;M.port1.onmessage=B,F=function(){St.postMessage(null)}}else F=function(){U(B,0)};function ut(W,ae){P=U(function(){W(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(W){switch(E){case 1:case 2:case 3:var ae=3;break;default:ae=E}var de=E;E=ae;try{return W()}finally{E=de}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(W,ae){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var de=E;E=W;try{return ae()}finally{E=de}},t.unstable_scheduleCallback=function(W,ae,de){var ke=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ke+de:ke):de=ke,W){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=de+L,W={id:y++,callback:ae,priorityLevel:W,startTime:de,expirationTime:L,sortIndex:-1},de>ke?(W.sortIndex=de,e(p,W),n(m)===null&&W===n(p)&&(O?(G(P),P=-1):O=!0,ut(J,de-ke))):(W.sortIndex=L,e(m,W),C||A||(C=!0,le||(le=!0,F()))),W},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(W){var ae=E;return function(){var de=E;E=ae;try{return W.apply(this,arguments)}finally{E=de}}}}(qp)),qp}var bE;function WI(){return bE||(bE=1,Fp.exports=QI()),Fp.exports}var Hp={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE;function ZI(){if(wE)return an;wE=1;var t=gy();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:m,containerInfo:p,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,an.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,y)},an.flushSync=function(m){var p=c.T,y=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=y,s.d.f()}},an.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},an.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},an.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,v=f(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:A}):y==="script"&&s.d.X(m,{crossOrigin:v,integrity:E,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},an.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},an.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=f(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},an.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=f(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},an.requestFormReset=function(m){s.d.r(m)},an.unstable_batchedUpdates=function(m,p){return m(p)},an.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},an.useFormStatus=function(){return c.H.useHostTransitionStatus()},an.version="19.1.0",an}var SE;function JI(){if(SE)return Hp.exports;SE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Hp.exports=ZI(),Hp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE;function eN(){if(AE)return Ru;AE=1;var t=WI(),e=gy(),n=JI();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return f(d),i;if(g===u)return f(d),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=d,u=g;else{for(var b=!1,S=d.child;S;){if(S===o){b=!0,o=d,u=g;break}if(S===u){b=!0,u=d,o=g;break}S=S.sibling}if(!b){for(S=g.child;S;){if(S===o){b=!0,o=g,u=d;break}if(S===u){b=!0,u=g,o=d;break}S=S.sibling}if(!b)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function p(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=p(i),r!==null)return r;i=i.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),q=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var M=Symbol.for("react.client.reference");function St(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===M?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case C:return"Fragment";case D:return"Profiler";case O:return"StrictMode";case J:return"Suspense";case le:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case A:return"Portal";case q:return(i.displayName||"Context")+".Provider";case G:return(i._context.displayName||"Context")+".Consumer";case se:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return r=i.displayName||null,r!==null?r:St(i.type)||"Memo";case R:r=i._payload,i=i._init;try{return St(i(r))}catch{}}return null}var ut=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},ke=[],L=-1;function re(i){return{current:i}}function ce(i){0>L||(i.current=ke[L],ke[L]=null,L--)}function oe(i,r){L++,ke[L]=i.current,i.current=r}var ye=re(null),Ie=re(null),Se=re(null),zt=re(null);function tt(i,r){switch(oe(Se,r),oe(Ie,i),oe(ye,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?GT(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=GT(r),i=KT(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ce(ye),oe(ye,i)}function pi(){ce(ye),ce(Ie),ce(Se)}function Ms(i){i.memoizedState!==null&&oe(zt,i);var r=ye.current,o=KT(r,i.type);r!==o&&(oe(Ie,i),oe(ye,o))}function $i(i){Ie.current===i&&(ce(ye),ce(Ie)),zt.current===i&&(ce(zt),Eu._currentValue=de)}var Or=Object.prototype.hasOwnProperty,Vr=t.unstable_scheduleCallback,kr=t.unstable_cancelCallback,_l=t.unstable_shouldYield,Uc=t.unstable_requestPaint,kn=t.unstable_now,jd=t.unstable_getCurrentPriorityLevel,vl=t.unstable_ImmediatePriority,za=t.unstable_UserBlockingPriority,Lr=t.unstable_NormalPriority,Bd=t.unstable_LowPriority,Fa=t.unstable_IdlePriority,Tl=t.log,jc=t.unstable_setDisableYieldValue,pt=null,Ge=null;function An(i){if(typeof Tl=="function"&&jc(i),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(pt,i)}catch{}}var sn=Math.clz32?Math.clz32:Ur,Bc=Math.log,zd=Math.LN2;function Ur(i){return i>>>=0,i===0?32:31-(Bc(i)/zd|0)|0}var jr=256,Br=4194304;function ei(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function qa(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,g=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var S=u&134217727;return S!==0?(u=S&~g,u!==0?d=ei(u):(b&=S,b!==0?d=ei(b):o||(o=S&~i,o!==0&&(d=ei(o))))):(S=u&~g,S!==0?d=ei(S):b!==0?d=ei(b):o||(o=u&~i,o!==0&&(d=ei(o)))),d===0?0:r!==0&&r!==d&&(r&g)===0&&(g=d&-d,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:d}function zr(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function El(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bl(){var i=jr;return jr<<=1,(jr&4194048)===0&&(jr=256),i}function wl(){var i=Br;return Br<<=1,(Br&62914560)===0&&(Br=4194304),i}function Yi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Xi(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Sl(i,r,o,u,d,g){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,N=i.expirationTimes,$=i.hiddenUpdates;for(o=b&~o;0<o;){var Z=31-sn(o),ne=1<<Z;S[Z]=0,N[Z]=-1;var Y=$[Z];if(Y!==null)for($[Z]=null,Z=0;Z<Y.length;Z++){var X=Y[Z];X!==null&&(X.lane&=-536870913)}o&=~ne}u!==0&&gi(i,u,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(b&~r))}function gi(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-sn(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function Al(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-sn(o),d=1<<u;d&r|i[u]&r&&(i[u]|=r),o&=~d}}function Os(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ha(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Vs(){var i=ae.p;return i!==0?i:(i=window.event,i===void 0?32:hE(i.type))}function zc(i,r){var o=ae.p;try{return ae.p=i,r()}finally{ae.p=o}}var at=Math.random().toString(36).slice(2),Ot="__reactFiber$"+at,At="__reactProps$"+at,Ln="__reactContainer$"+at,xl="__reactEvents$"+at,Fd="__reactListeners$"+at,ks="__reactHandles$"+at,Fc="__reactResources$"+at,Fr="__reactMarker$"+at;function Ls(i){delete i[Ot],delete i[At],delete i[xl],delete i[Fd],delete i[ks]}function Qi(i){var r=i[Ot];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Ln]||o[Ot]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=QT(i);i!==null;){if(o=i[Ot])return o;i=QT(i)}return r}i=o,o=i.parentNode}return null}function yi(i){if(i=i[Ot]||i[Ln]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function _i(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function fn(i){var r=i[Fc];return r||(r=i[Fc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function vt(i){i[Fr]=!0}var Rl=new Set,Ga={};function ti(i,r){Wi(i,r),Wi(i+"Capture",r)}function Wi(i,r){for(Ga[i]=r,i=0;i<r.length;i++)Rl.add(r[i])}var qc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hc={},qr={};function Gc(i){return Or.call(qr,i)?!0:Or.call(Hc,i)?!1:qc.test(i)?qr[i]=!0:(Hc[i]=!0,!1)}function Us(i,r,o){if(Gc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function vi(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Yt(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}var Hr,Kc;function Zi(i){if(Hr===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Hr=r&&r[1]||"",Kc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hr+i+Kc}var Ka=!1;function $a(i,r){if(!i||Ka)return"";Ka=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(X){var Y=X}Reflect.construct(i,[],ne)}else{try{ne.call()}catch(X){Y=X}i.call(ne.prototype)}}else{try{throw Error()}catch(X){Y=X}(ne=i())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],S=g[1];if(b&&S){var N=b.split(`
`),$=S.split(`
`);for(d=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;d<$.length&&!$[d].includes("DetermineComponentFrameRoot");)d++;if(u===N.length||d===$.length)for(u=N.length-1,d=$.length-1;1<=u&&0<=d&&N[u]!==$[d];)d--;for(;1<=u&&0<=d;u--,d--)if(N[u]!==$[d]){if(u!==1||d!==1)do if(u--,d--,0>d||N[u]!==$[d]){var Z=`
`+N[u].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=u&&0<=d);break}}}finally{Ka=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Zi(o):""}function Cl(i){switch(i.tag){case 26:case 27:case 5:return Zi(i.type);case 16:return Zi("Lazy");case 13:return Zi("Suspense");case 19:return Zi("SuspenseList");case 0:case 15:return $a(i.type,!1);case 11:return $a(i.type.render,!1);case 1:return $a(i.type,!0);case 31:return Zi("Activity");default:return""}}function Ya(i){try{var r="";do r+=Cl(i),i=i.return;while(i);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function dn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Il(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function qd(i){var r=Il(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),u=""+i[r];if(!i.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,g=o.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return d.call(this)},set:function(b){u=""+b,g.call(this,b)}}),Object.defineProperty(i,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Xa(i){i._valueTracker||(i._valueTracker=qd(i))}function Nl(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=Il(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Gr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Hd=/[\n"\\]/g;function xt(i){return i.replace(Hd,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function xn(i,r,o,u,d,g,b,S){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),r!=null?b==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+dn(r)):i.value!==""+dn(r)&&(i.value=""+dn(r)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),r!=null?js(i,b,dn(r)):o!=null?js(i,b,dn(o)):u!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+dn(S):i.removeAttribute("name")}function Kr(i,r,o,u,d,g,b,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null))return;o=o!=null?""+dn(o):"",r=r!=null?""+dn(r):o,S||r===i.value||(i.value=r),i.defaultValue=r}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=S?i.checked:!!u,i.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b)}function js(i,r,o){r==="number"&&Gr(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Ji(i,r,o,u){if(i=i.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=r.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&u&&(i[o].defaultSelected=!0)}else{for(o=""+dn(o),r=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,u&&(i[d].defaultSelected=!0);return}r!==null||i[d].disabled||(r=i[d])}r!==null&&(r.selected=!0)}}function Xe(i,r,o){if(r!=null&&(r=""+dn(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+dn(o):""}function $r(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(ut(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=dn(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function Un(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Yr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $c(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Yr.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Dl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var d in r)u=r[d],r.hasOwnProperty(d)&&o[d]!==u&&$c(i,d,u)}else for(var g in r)r.hasOwnProperty(g)&&$c(i,g,r[g])}function Pl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qa(i){return Kd.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var es=null;function jn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ts=null,ns=null;function Ml(i){var r=yi(i);if(r&&(i=r.stateNode)){var o=i[At]||null;e:switch(i=r.stateNode,r.type){case"input":if(xn(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+xt(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var d=u[At]||null;if(!d)throw Error(s(90));xn(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&Nl(u)}break e;case"textarea":Xe(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Ji(i,!!o.multiple,r,!1)}}}var Ti=!1;function Yc(i,r,o){if(Ti)return i(r,o);Ti=!0;try{var u=i(r);return u}finally{if(Ti=!1,(ts!==null||ns!==null)&&(zh(),ts&&(r=ts,i=ns,ns=ts=null,Ml(r),i)))for(r=0;r<i.length;r++)Ml(i[r])}}function Xr(i,r){var o=i.stateNode;if(o===null)return null;var u=o[At]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bn=!1;if(ni)try{var Qr={};Object.defineProperty(Qr,"passive",{get:function(){Bn=!0}}),window.addEventListener("test",Qr,Qr),window.removeEventListener("test",Qr,Qr)}catch{Bn=!1}var Ei=null,Bs=null,is=null;function Ol(){if(is)return is;var i,r=Bs,o=r.length,u,d="value"in Ei?Ei.value:Ei.textContent,g=d.length;for(i=0;i<o&&r[i]===d[i];i++);var b=o-i;for(u=1;u<=b&&r[o-u]===d[g-u];u++);return is=d.slice(i,1<u?1-u:void 0)}function bi(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function wi(){return!0}function Vl(){return!1}function Ft(i){function r(o,u,d,g,b){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?wi:Vl,this.isPropagationStopped=Vl,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),r}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wa=Ft(qe),Wr=y({},qe,{view:0,detail:0}),Xc=Ft(Wr),Za,Ja,Si,Zr=y({},Wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ta,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Si&&(Si&&i.type==="mousemove"?(Za=i.screenX-Si.screenX,Ja=i.screenY-Si.screenY):Ja=Za=0,Si=i),Za)},movementY:function(i){return"movementY"in i?i.movementY:Ja}}),zn=Ft(Zr),Qc=y({},Zr,{dataTransfer:0}),$d=Ft(Qc),Jr=y({},Wr,{relatedTarget:0}),eo=Ft(Jr),kl=y({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),to=Ft(kl),Wc=y({},qe,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),no=Ft(Wc),Yd=y({},qe,{data:0}),Ll=Ft(Yd),ea={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ul(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Jc[i])?!!r[i]:!1}function ta(){return Ul}var eh=y({},Wr,{key:function(i){if(i.key){var r=ea[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=bi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Zc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ta,charCode:function(i){return i.type==="keypress"?bi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?bi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),io=Ft(eh),th=y({},Zr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jl=Ft(th),ss=y({},Wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ta}),nh=Ft(ss),ih=y({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),sh=Ft(ih),rh=y({},Zr,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),so=Ft(rh),mn=y({},qe,{newState:0,oldState:0}),ah=Ft(mn),oh=[9,13,27,32],Ai=ni&&"CompositionEvent"in window,h=null;ni&&"documentMode"in document&&(h=document.documentMode);var _=ni&&"TextEvent"in window&&!h,T=ni&&(!Ai||h&&8<h&&11>=h),x=" ",H=!1;function Q(i,r){switch(i){case"keyup":return oh.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ue(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Le=!1;function Vt(i,r){switch(i){case"compositionend":return ue(r);case"keypress":return r.which!==32?null:(H=!0,x);case"textInput":return i=r.data,i===x&&H?null:i;default:return null}}function Ue(i,r){if(Le)return i==="compositionend"||!Ai&&Q(i,r)?(i=Ol(),is=Bs=Ei=null,Le=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return T&&r.locale!=="ko"?null:r.data;default:return null}}var qt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kt(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!qt[i.type]:r==="textarea"}function rs(i,r,o,u){ts?ns?ns.push(u):ns=[u]:ts=u,r=$h(r,"onChange"),0<r.length&&(o=new Wa("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var Xt=null,xi=null;function Bl(i){BT(i,0)}function lh(i){var r=_i(i);if(Nl(r))return i}function ov(i,r){if(i==="change")return r}var lv=!1;if(ni){var Xd;if(ni){var Qd="oninput"in document;if(!Qd){var uv=document.createElement("div");uv.setAttribute("oninput","return;"),Qd=typeof uv.oninput=="function"}Xd=Qd}else Xd=!1;lv=Xd&&(!document.documentMode||9<document.documentMode)}function cv(){Xt&&(Xt.detachEvent("onpropertychange",hv),xi=Xt=null)}function hv(i){if(i.propertyName==="value"&&lh(xi)){var r=[];rs(r,xi,i,jn(i)),Yc(Bl,r)}}function wC(i,r,o){i==="focusin"?(cv(),Xt=r,xi=o,Xt.attachEvent("onpropertychange",hv)):i==="focusout"&&cv()}function SC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return lh(xi)}function AC(i,r){if(i==="click")return lh(r)}function xC(i,r){if(i==="input"||i==="change")return lh(r)}function RC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Rn=typeof Object.is=="function"?Object.is:RC;function zl(i,r){if(Rn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!Or.call(r,d)||!Rn(i[d],r[d]))return!1}return!0}function fv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function dv(i,r){var o=fv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=fv(o)}}function mv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?mv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function pv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Gr(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Gr(i.document)}return r}function Wd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var CC=ni&&"documentMode"in document&&11>=document.documentMode,ro=null,Zd=null,Fl=null,Jd=!1;function gv(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Jd||ro==null||ro!==Gr(u)||(u=ro,"selectionStart"in u&&Wd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Fl&&zl(Fl,u)||(Fl=u,u=$h(Zd,"onSelect"),0<u.length&&(r=new Wa("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=ro)))}function na(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var ao={animationend:na("Animation","AnimationEnd"),animationiteration:na("Animation","AnimationIteration"),animationstart:na("Animation","AnimationStart"),transitionrun:na("Transition","TransitionRun"),transitionstart:na("Transition","TransitionStart"),transitioncancel:na("Transition","TransitionCancel"),transitionend:na("Transition","TransitionEnd")},em={},yv={};ni&&(yv=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function ia(i){if(em[i])return em[i];if(!ao[i])return i;var r=ao[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in yv)return em[i]=r[o];return i}var _v=ia("animationend"),vv=ia("animationiteration"),Tv=ia("animationstart"),IC=ia("transitionrun"),NC=ia("transitionstart"),DC=ia("transitioncancel"),Ev=ia("transitionend"),bv=new Map,tm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tm.push("scrollEnd");function ii(i,r){bv.set(i,r),ti(r,[i])}var wv=new WeakMap;function Fn(i,r){if(typeof i=="object"&&i!==null){var o=wv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Ya(r)},wv.set(i,r),r)}return{value:i,source:r,stack:Ya(r)}}var qn=[],oo=0,nm=0;function uh(){for(var i=oo,r=nm=oo=0;r<i;){var o=qn[r];qn[r++]=null;var u=qn[r];qn[r++]=null;var d=qn[r];qn[r++]=null;var g=qn[r];if(qn[r++]=null,u!==null&&d!==null){var b=u.pending;b===null?d.next=d:(d.next=b.next,b.next=d),u.pending=d}g!==0&&Sv(o,d,g)}}function ch(i,r,o,u){qn[oo++]=i,qn[oo++]=r,qn[oo++]=o,qn[oo++]=u,nm|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function im(i,r,o,u){return ch(i,r,o,u),hh(i)}function lo(i,r){return ch(i,null,null,r),hh(i)}function Sv(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&r!==null&&(d=31-sn(o),i=g.hiddenUpdates,u=i[d],u===null?i[d]=[r]:u.push(r),r.lane=o|536870912),g):null}function hh(i){if(50<du)throw du=0,up=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var uo={};function PC(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(i,r,o,u){return new PC(i,r,o,u)}function sm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function as(i,r){var o=i.alternate;return o===null?(o=Cn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Av(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function fh(i,r,o,u,d,g){var b=0;if(u=i,typeof i=="function")sm(i)&&(b=1);else if(typeof i=="string")b=OI(i,o,ye.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=Cn(31,o,r,d),i.elementType=I,i.lanes=g,i;case C:return sa(o.children,d,g,r);case O:b=8,d|=24;break;case D:return i=Cn(12,o,r,d|2),i.elementType=D,i.lanes=g,i;case J:return i=Cn(13,o,r,d),i.elementType=J,i.lanes=g,i;case le:return i=Cn(19,o,r,d),i.elementType=le,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case U:case q:b=10;break e;case G:b=9;break e;case se:b=11;break e;case P:b=14;break e;case R:b=16,u=null;break e}b=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Cn(b,o,r,d),r.elementType=i,r.type=u,r.lanes=g,r}function sa(i,r,o,u){return i=Cn(7,i,u,r),i.lanes=o,i}function rm(i,r,o){return i=Cn(6,i,null,r),i.lanes=o,i}function am(i,r,o){return r=Cn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var co=[],ho=0,dh=null,mh=0,Hn=[],Gn=0,ra=null,os=1,ls="";function aa(i,r){co[ho++]=mh,co[ho++]=dh,dh=i,mh=r}function xv(i,r,o){Hn[Gn++]=os,Hn[Gn++]=ls,Hn[Gn++]=ra,ra=i;var u=os;i=ls;var d=32-sn(u)-1;u&=~(1<<d),o+=1;var g=32-sn(r)+d;if(30<g){var b=d-d%5;g=(u&(1<<b)-1).toString(32),u>>=b,d-=b,os=1<<32-sn(r)+d|o<<d|u,ls=g+i}else os=1<<g|o<<d|u,ls=i}function om(i){i.return!==null&&(aa(i,1),xv(i,1,0))}function lm(i){for(;i===dh;)dh=co[--ho],co[ho]=null,mh=co[--ho],co[ho]=null;for(;i===ra;)ra=Hn[--Gn],Hn[Gn]=null,ls=Hn[--Gn],Hn[Gn]=null,os=Hn[--Gn],Hn[Gn]=null}var pn=null,gt=null,Fe=!1,oa=null,Ri=!1,um=Error(s(519));function la(i){var r=Error(s(418,""));throw Gl(Fn(r,i)),um}function Rv(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Ot]=i,r[At]=u,o){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(o=0;o<pu.length;o++)Pe(pu[o],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Pe("invalid",r),Kr(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Xa(r);break;case"select":Pe("invalid",r);break;case"textarea":Pe("invalid",r),$r(r,u.value,u.defaultValue,u.children),Xa(r)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||HT(r.textContent,o)?(u.popover!=null&&(Pe("beforetoggle",r),Pe("toggle",r)),u.onScroll!=null&&Pe("scroll",r),u.onScrollEnd!=null&&Pe("scrollend",r),u.onClick!=null&&(r.onclick=Yh),r=!0):r=!1,r||la(i)}function Cv(i){for(pn=i.return;pn;)switch(pn.tag){case 5:case 13:Ri=!1;return;case 27:case 3:Ri=!0;return;default:pn=pn.return}}function ql(i){if(i!==pn)return!1;if(!Fe)return Cv(i),Fe=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Ap(i.type,i.memoizedProps)),o=!o),o&&gt&&la(i),Cv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));e:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(r===0){gt=ri(i.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;i=i.nextSibling}gt=null}}else r===27?(r=gt,nr(i.type)?(i=Ip,Ip=null,gt=i):gt=r):gt=pn?ri(i.stateNode.nextSibling):null;return!0}function Hl(){gt=pn=null,Fe=!1}function Iv(){var i=oa;return i!==null&&(En===null?En=i:En.push.apply(En,i),oa=null),i}function Gl(i){oa===null?oa=[i]:oa.push(i)}var cm=re(null),ua=null,us=null;function zs(i,r,o){oe(cm,r._currentValue),r._currentValue=o}function cs(i){i._currentValue=cm.current,ce(cm)}function hm(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function fm(i,r,o,u){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var b=d.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=d;for(var N=0;N<r.length;N++)if(S.context===r[N]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),hm(g.return,o,i),u||(b=null);break e}g=S.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(s(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),hm(b,o,i),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===i){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function Kl(i,r,o,u){i=null;for(var d=r,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var S=d.type;Rn(d.pendingProps.value,b.value)||(i!==null?i.push(S):i=[S])}}else if(d===zt.current){if(b=d.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(Eu):i=[Eu])}d=d.return}i!==null&&fm(r,i,o,u),r.flags|=262144}function ph(i){for(i=i.firstContext;i!==null;){if(!Rn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ca(i){ua=i,us=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function rn(i){return Nv(ua,i)}function gh(i,r){return ua===null&&ca(i),Nv(i,r)}function Nv(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},us===null){if(i===null)throw Error(s(308));us=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else us=us.next=r;return o}var MC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},OC=t.unstable_scheduleCallback,VC=t.unstable_NormalPriority,Lt={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dm(){return{controller:new MC,data:new Map,refCount:0}}function $l(i){i.refCount--,i.refCount===0&&OC(VC,function(){i.controller.abort()})}var Yl=null,mm=0,fo=0,mo=null;function kC(i,r){if(Yl===null){var o=Yl=[];mm=0,fo=gp(),mo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return mm++,r.then(Dv,Dv),r}function Dv(){if(--mm===0&&Yl!==null){mo!==null&&(mo.status="fulfilled");var i=Yl;Yl=null,fo=0,mo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function LC(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var d=0;d<o.length;d++)(0,o[d])(r)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var Pv=W.S;W.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&kC(i,r),Pv!==null&&Pv(i,r)};var ha=re(null);function pm(){var i=ha.current;return i!==null?i:nt.pooledCache}function yh(i,r){r===null?oe(ha,ha.current):oe(ha,r.pool)}function Mv(){var i=pm();return i===null?null:{parent:Lt._currentValue,pool:i}}var Xl=Error(s(460)),Ov=Error(s(474)),_h=Error(s(542)),gm={then:function(){}};function Vv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function vh(){}function kv(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(vh,vh),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Uv(i),i;default:if(typeof r.status=="string")r.then(vh,vh);else{if(i=nt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=u}},function(u){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Uv(i),i}throw Ql=r,Xl}}var Ql=null;function Lv(){if(Ql===null)throw Error(s(459));var i=Ql;return Ql=null,i}function Uv(i){if(i===Xl||i===_h)throw Error(s(483))}var Fs=!1;function ym(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _m(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function qs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Hs(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Ke&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,r=hh(i),Sv(i,null,o),r}return ch(i,u,r,o),hh(i)}function Wl(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Al(i,o)}}function vm(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?d=g=r:g=g.next=r}else d=g=r;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Tm=!1;function Zl(){if(Tm){var i=mo;if(i!==null)throw i}}function Jl(i,r,o,u){Tm=!1;var d=i.updateQueue;Fs=!1;var g=d.firstBaseUpdate,b=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var N=S,$=N.next;N.next=null,b===null?g=$:b.next=$,b=N;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==b&&(S===null?Z.firstBaseUpdate=$:S.next=$,Z.lastBaseUpdate=N))}if(g!==null){var ne=d.baseState;b=0,Z=$=N=null,S=g;do{var Y=S.lane&-536870913,X=Y!==S.lane;if(X?(je&Y)===Y:(u&Y)===Y){Y!==0&&Y===fo&&(Tm=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var be=i,_e=S;Y=r;var Ze=o;switch(_e.tag){case 1:if(be=_e.payload,typeof be=="function"){ne=be.call(Ze,ne,Y);break e}ne=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=_e.payload,Y=typeof be=="function"?be.call(Ze,ne,Y):be,Y==null)break e;ne=y({},ne,Y);break e;case 2:Fs=!0}}Y=S.callback,Y!==null&&(i.flags|=64,X&&(i.flags|=8192),X=d.callbacks,X===null?d.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?($=Z=X,N=ne):Z=Z.next=X,b|=Y;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;X=S,S=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);Z===null&&(N=ne),d.baseState=N,d.firstBaseUpdate=$,d.lastBaseUpdate=Z,g===null&&(d.shared.lanes=0),Zs|=b,i.lanes=b,i.memoizedState=ne}}function jv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Bv(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)jv(o[i],r)}var po=re(null),Th=re(0);function zv(i,r){i=ys,oe(Th,i),oe(po,r),ys=i|r.baseLanes}function Em(){oe(Th,ys),oe(po,po.current)}function bm(){ys=Th.current,ce(po),ce(Th)}var Gs=0,Ce=null,Qe=null,Rt=null,Eh=!1,go=!1,fa=!1,bh=0,eu=0,yo=null,UC=0;function Tt(){throw Error(s(321))}function wm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Rn(i[o],r[o]))return!1;return!0}function Sm(i,r,o,u,d,g){return Gs=g,Ce=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=i===null||i.memoizedState===null?S0:A0,fa=!1,g=o(u,d),fa=!1,go&&(g=qv(r,o,u,d)),Fv(i),g}function Fv(i){W.H=Ch;var r=Qe!==null&&Qe.next!==null;if(Gs=0,Rt=Qe=Ce=null,Eh=!1,eu=0,yo=null,r)throw Error(s(300));i===null||Ht||(i=i.dependencies,i!==null&&ph(i)&&(Ht=!0))}function qv(i,r,o,u){Ce=i;var d=0;do{if(go&&(yo=null),eu=0,go=!1,25<=d)throw Error(s(301));if(d+=1,Rt=Qe=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}W.H=GC,g=r(o,u)}while(go);return g}function jC(){var i=W.H,r=i.useState()[0];return r=typeof r.then=="function"?tu(r):r,i=i.useState()[0],(Qe!==null?Qe.memoizedState:null)!==i&&(Ce.flags|=1024),r}function Am(){var i=bh!==0;return bh=0,i}function xm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Rm(i){if(Eh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Eh=!1}Gs=0,Rt=Qe=Ce=null,go=!1,eu=bh=0,yo=null}function vn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Ce.memoizedState=Rt=i:Rt=Rt.next=i,Rt}function Ct(){if(Qe===null){var i=Ce.alternate;i=i!==null?i.memoizedState:null}else i=Qe.next;var r=Rt===null?Ce.memoizedState:Rt.next;if(r!==null)Rt=r,Qe=i;else{if(i===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Qe=i,i={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Rt===null?Ce.memoizedState=Rt=i:Rt=Rt.next=i}return Rt}function Cm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tu(i){var r=eu;return eu+=1,yo===null&&(yo=[]),i=kv(yo,i,r),r=Ce,(Rt===null?r.memoizedState:Rt.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?S0:A0),i}function wh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return tu(i);if(i.$$typeof===q)return rn(i)}throw Error(s(438,String(i)))}function Im(i){var r=null,o=Ce.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ce.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Cm(),Ce.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=V;return r.index++,o}function hs(i,r){return typeof r=="function"?r(i):r}function Sh(i){var r=Ct();return Nm(r,Qe,i)}function Nm(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var d=i.baseQueue,g=u.pending;if(g!==null){if(d!==null){var b=d.next;d.next=g.next,g.next=b}r.baseQueue=d=g,u.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{r=d.next;var S=b=null,N=null,$=r,Z=!1;do{var ne=$.lane&-536870913;if(ne!==$.lane?(je&ne)===ne:(Gs&ne)===ne){var Y=$.revertLane;if(Y===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ne===fo&&(Z=!0);else if((Gs&Y)===Y){$=$.next,Y===fo&&(Z=!0);continue}else ne={lane:0,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},N===null?(S=N=ne,b=g):N=N.next=ne,Ce.lanes|=Y,Zs|=Y;ne=$.action,fa&&o(g,ne),g=$.hasEagerState?$.eagerState:o(g,ne)}else Y={lane:ne,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},N===null?(S=N=Y,b=g):N=N.next=Y,Ce.lanes|=ne,Zs|=ne;$=$.next}while($!==null&&$!==r);if(N===null?b=g:N.next=S,!Rn(g,i.memoizedState)&&(Ht=!0,Z&&(o=mo,o!==null)))throw o;i.memoizedState=g,i.baseState=b,i.baseQueue=N,u.lastRenderedState=g}return d===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Dm(i){var r=Ct(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,d=o.pending,g=r.memoizedState;if(d!==null){o.pending=null;var b=d=d.next;do g=i(g,b.action),b=b.next;while(b!==d);Rn(g,r.memoizedState)||(Ht=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function Hv(i,r,o){var u=Ce,d=Ct(),g=Fe;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var b=!Rn((Qe||d).memoizedState,o);b&&(d.memoizedState=o,Ht=!0),d=d.queue;var S=$v.bind(null,u,d,i);if(nu(2048,8,S,[i]),d.getSnapshot!==r||b||Rt!==null&&Rt.memoizedState.tag&1){if(u.flags|=2048,_o(9,Ah(),Kv.bind(null,u,d,o,r),null),nt===null)throw Error(s(349));g||(Gs&124)!==0||Gv(u,r,o)}return o}function Gv(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Ce.updateQueue,r===null?(r=Cm(),Ce.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function Kv(i,r,o,u){r.value=o,r.getSnapshot=u,Yv(r)&&Xv(i)}function $v(i,r,o){return o(function(){Yv(r)&&Xv(i)})}function Yv(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Rn(i,o)}catch{return!0}}function Xv(i){var r=lo(i,2);r!==null&&Mn(r,i,2)}function Pm(i){var r=vn();if(typeof i=="function"){var o=i;if(i=o(),fa){An(!0);try{o()}finally{An(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:i},r}function Qv(i,r,o,u){return i.baseState=o,Nm(i,Qe,typeof u=="function"?u:hs)}function BC(i,r,o,u,d){if(Rh(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};W.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,Wv(r,g)):(g.next=o.next,r.pending=o.next=g)}}function Wv(i,r){var o=r.action,u=r.payload,d=i.state;if(r.isTransition){var g=W.T,b={};W.T=b;try{var S=o(d,u),N=W.S;N!==null&&N(b,S),Zv(i,r,S)}catch($){Mm(i,r,$)}finally{W.T=g}}else try{g=o(d,u),Zv(i,r,g)}catch($){Mm(i,r,$)}}function Zv(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Jv(i,r,u)},function(u){return Mm(i,r,u)}):Jv(i,r,o)}function Jv(i,r,o){r.status="fulfilled",r.value=o,e0(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,Wv(i,o)))}function Mm(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,e0(r),r=r.next;while(r!==u)}i.action=null}function e0(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function t0(i,r){return r}function n0(i,r){if(Fe){var o=nt.formState;if(o!==null){e:{var u=Ce;if(Fe){if(gt){t:{for(var d=gt,g=Ri;d.nodeType!==8;){if(!g){d=null;break t}if(d=ri(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){gt=ri(d.nextSibling),u=d.data==="F!";break e}}la(u)}u=!1}u&&(r=o[0])}}return o=vn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t0,lastRenderedState:r},o.queue=u,o=E0.bind(null,Ce,u),u.dispatch=o,u=Pm(!1),g=Um.bind(null,Ce,!1,u.queue),u=vn(),d={state:r,dispatch:null,action:i,pending:null},u.queue=d,o=BC.bind(null,Ce,d,g,o),d.dispatch=o,u.memoizedState=i,[r,o,!1]}function i0(i){var r=Ct();return s0(r,Qe,i)}function s0(i,r,o){if(r=Nm(i,r,t0)[0],i=Sh(hs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=tu(r)}catch(b){throw b===Xl?_h:b}else u=r;r=Ct();var d=r.queue,g=d.dispatch;return o!==r.memoizedState&&(Ce.flags|=2048,_o(9,Ah(),zC.bind(null,d,o),null)),[u,g,i]}function zC(i,r){i.action=r}function r0(i){var r=Ct(),o=Qe;if(o!==null)return s0(r,o,i);Ct(),r=r.memoizedState,o=Ct();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function _o(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Ce.updateQueue,r===null&&(r=Cm(),Ce.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function Ah(){return{destroy:void 0,resource:void 0}}function a0(){return Ct().memoizedState}function xh(i,r,o,u){var d=vn();u=u===void 0?null:u,Ce.flags|=i,d.memoizedState=_o(1|r,Ah(),o,u)}function nu(i,r,o,u){var d=Ct();u=u===void 0?null:u;var g=d.memoizedState.inst;Qe!==null&&u!==null&&wm(u,Qe.memoizedState.deps)?d.memoizedState=_o(r,g,o,u):(Ce.flags|=i,d.memoizedState=_o(1|r,g,o,u))}function o0(i,r){xh(8390656,8,i,r)}function l0(i,r){nu(2048,8,i,r)}function u0(i,r){return nu(4,2,i,r)}function c0(i,r){return nu(4,4,i,r)}function h0(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function f0(i,r,o){o=o!=null?o.concat([i]):null,nu(4,4,h0.bind(null,r,i),o)}function Om(){}function d0(i,r){var o=Ct();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&wm(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function m0(i,r){var o=Ct();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&wm(r,u[1]))return u[0];if(u=i(),fa){An(!0);try{i()}finally{An(!1)}}return o.memoizedState=[u,r],u}function Vm(i,r,o){return o===void 0||(Gs&1073741824)!==0?i.memoizedState=r:(i.memoizedState=o,i=yT(),Ce.lanes|=i,Zs|=i,o)}function p0(i,r,o,u){return Rn(o,r)?o:po.current!==null?(i=Vm(i,o,u),Rn(i,r)||(Ht=!0),i):(Gs&42)===0?(Ht=!0,i.memoizedState=o):(i=yT(),Ce.lanes|=i,Zs|=i,r)}function g0(i,r,o,u,d){var g=ae.p;ae.p=g!==0&&8>g?g:8;var b=W.T,S={};W.T=S,Um(i,!1,r,o);try{var N=d(),$=W.S;if($!==null&&$(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Z=LC(N,u);iu(i,r,Z,Pn(i))}else iu(i,r,u,Pn(i))}catch(ne){iu(i,r,{then:function(){},status:"rejected",reason:ne},Pn())}finally{ae.p=g,W.T=b}}function FC(){}function km(i,r,o,u){if(i.tag!==5)throw Error(s(476));var d=y0(i).queue;g0(i,d,r,de,o===null?FC:function(){return _0(i),o(u)})}function y0(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:de},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function _0(i){var r=y0(i).next.queue;iu(i,r,{},Pn())}function Lm(){return rn(Eu)}function v0(){return Ct().memoizedState}function T0(){return Ct().memoizedState}function qC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Pn();i=qs(o);var u=Hs(r,i,o);u!==null&&(Mn(u,r,o),Wl(u,r,o)),r={cache:dm()},i.payload=r;return}r=r.return}}function HC(i,r,o){var u=Pn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Rh(i)?b0(r,o):(o=im(i,r,o,u),o!==null&&(Mn(o,i,u),w0(o,r,u)))}function E0(i,r,o){var u=Pn();iu(i,r,o,u)}function iu(i,r,o,u){var d={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Rh(i))b0(r,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var b=r.lastRenderedState,S=g(b,o);if(d.hasEagerState=!0,d.eagerState=S,Rn(S,b))return ch(i,r,d,0),nt===null&&uh(),!1}catch{}finally{}if(o=im(i,r,d,u),o!==null)return Mn(o,i,u),w0(o,r,u),!0}return!1}function Um(i,r,o,u){if(u={lane:2,revertLane:gp(),action:u,hasEagerState:!1,eagerState:null,next:null},Rh(i)){if(r)throw Error(s(479))}else r=im(i,o,u,2),r!==null&&Mn(r,i,2)}function Rh(i){var r=i.alternate;return i===Ce||r!==null&&r===Ce}function b0(i,r){go=Eh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function w0(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Al(i,o)}}var Ch={readContext:rn,use:wh,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt},S0={readContext:rn,use:wh,useCallback:function(i,r){return vn().memoizedState=[i,r===void 0?null:r],i},useContext:rn,useEffect:o0,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,xh(4194308,4,h0.bind(null,r,i),o)},useLayoutEffect:function(i,r){return xh(4194308,4,i,r)},useInsertionEffect:function(i,r){xh(4,2,i,r)},useMemo:function(i,r){var o=vn();r=r===void 0?null:r;var u=i();if(fa){An(!0);try{i()}finally{An(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=vn();if(o!==void 0){var d=o(r);if(fa){An(!0);try{o(r)}finally{An(!1)}}}else d=r;return u.memoizedState=u.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},u.queue=i,i=i.dispatch=HC.bind(null,Ce,i),[u.memoizedState,i]},useRef:function(i){var r=vn();return i={current:i},r.memoizedState=i},useState:function(i){i=Pm(i);var r=i.queue,o=E0.bind(null,Ce,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Om,useDeferredValue:function(i,r){var o=vn();return Vm(o,i,r)},useTransition:function(){var i=Pm(!1);return i=g0.bind(null,Ce,i.queue,!0,!1),vn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Ce,d=vn();if(Fe){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),nt===null)throw Error(s(349));(je&124)!==0||Gv(u,r,o)}d.memoizedState=o;var g={value:o,getSnapshot:r};return d.queue=g,o0($v.bind(null,u,g,i),[i]),u.flags|=2048,_o(9,Ah(),Kv.bind(null,u,g,o,r),null),o},useId:function(){var i=vn(),r=nt.identifierPrefix;if(Fe){var o=ls,u=os;o=(u&~(1<<32-sn(u)-1)).toString(32)+o,r=""+r+"R"+o,o=bh++,0<o&&(r+="H"+o.toString(32)),r+=""}else o=UC++,r=""+r+"r"+o.toString(32)+"";return i.memoizedState=r},useHostTransitionStatus:Lm,useFormState:n0,useActionState:n0,useOptimistic:function(i){var r=vn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Um.bind(null,Ce,!0,o),o.dispatch=r,[i,r]},useMemoCache:Im,useCacheRefresh:function(){return vn().memoizedState=qC.bind(null,Ce)}},A0={readContext:rn,use:wh,useCallback:d0,useContext:rn,useEffect:l0,useImperativeHandle:f0,useInsertionEffect:u0,useLayoutEffect:c0,useMemo:m0,useReducer:Sh,useRef:a0,useState:function(){return Sh(hs)},useDebugValue:Om,useDeferredValue:function(i,r){var o=Ct();return p0(o,Qe.memoizedState,i,r)},useTransition:function(){var i=Sh(hs)[0],r=Ct().memoizedState;return[typeof i=="boolean"?i:tu(i),r]},useSyncExternalStore:Hv,useId:v0,useHostTransitionStatus:Lm,useFormState:i0,useActionState:i0,useOptimistic:function(i,r){var o=Ct();return Qv(o,Qe,i,r)},useMemoCache:Im,useCacheRefresh:T0},GC={readContext:rn,use:wh,useCallback:d0,useContext:rn,useEffect:l0,useImperativeHandle:f0,useInsertionEffect:u0,useLayoutEffect:c0,useMemo:m0,useReducer:Dm,useRef:a0,useState:function(){return Dm(hs)},useDebugValue:Om,useDeferredValue:function(i,r){var o=Ct();return Qe===null?Vm(o,i,r):p0(o,Qe.memoizedState,i,r)},useTransition:function(){var i=Dm(hs)[0],r=Ct().memoizedState;return[typeof i=="boolean"?i:tu(i),r]},useSyncExternalStore:Hv,useId:v0,useHostTransitionStatus:Lm,useFormState:r0,useActionState:r0,useOptimistic:function(i,r){var o=Ct();return Qe!==null?Qv(o,Qe,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Im,useCacheRefresh:T0},vo=null,su=0;function Ih(i){var r=su;return su+=1,vo===null&&(vo=[]),kv(vo,i,r)}function ru(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Nh(i,r){throw r.$$typeof===v?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function x0(i){var r=i._init;return r(i._payload)}function R0(i){function r(z,j){if(i){var K=z.deletions;K===null?(z.deletions=[j],z.flags|=16):K.push(j)}}function o(z,j){if(!i)return null;for(;j!==null;)r(z,j),j=j.sibling;return null}function u(z){for(var j=new Map;z!==null;)z.key!==null?j.set(z.key,z):j.set(z.index,z),z=z.sibling;return j}function d(z,j){return z=as(z,j),z.index=0,z.sibling=null,z}function g(z,j,K){return z.index=K,i?(K=z.alternate,K!==null?(K=K.index,K<j?(z.flags|=67108866,j):K):(z.flags|=67108866,j)):(z.flags|=1048576,j)}function b(z){return i&&z.alternate===null&&(z.flags|=67108866),z}function S(z,j,K,ee){return j===null||j.tag!==6?(j=rm(K,z.mode,ee),j.return=z,j):(j=d(j,K),j.return=z,j)}function N(z,j,K,ee){var me=K.type;return me===C?Z(z,j,K.props.children,ee,K.key):j!==null&&(j.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&x0(me)===j.type)?(j=d(j,K.props),ru(j,K),j.return=z,j):(j=fh(K.type,K.key,K.props,null,z.mode,ee),ru(j,K),j.return=z,j)}function $(z,j,K,ee){return j===null||j.tag!==4||j.stateNode.containerInfo!==K.containerInfo||j.stateNode.implementation!==K.implementation?(j=am(K,z.mode,ee),j.return=z,j):(j=d(j,K.children||[]),j.return=z,j)}function Z(z,j,K,ee,me){return j===null||j.tag!==7?(j=sa(K,z.mode,ee,me),j.return=z,j):(j=d(j,K),j.return=z,j)}function ne(z,j,K){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=rm(""+j,z.mode,K),j.return=z,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case E:return K=fh(j.type,j.key,j.props,null,z.mode,K),ru(K,j),K.return=z,K;case A:return j=am(j,z.mode,K),j.return=z,j;case R:var ee=j._init;return j=ee(j._payload),ne(z,j,K)}if(ut(j)||F(j))return j=sa(j,z.mode,K,null),j.return=z,j;if(typeof j.then=="function")return ne(z,Ih(j),K);if(j.$$typeof===q)return ne(z,gh(z,j),K);Nh(z,j)}return null}function Y(z,j,K,ee){var me=j!==null?j.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return me!==null?null:S(z,j,""+K,ee);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case E:return K.key===me?N(z,j,K,ee):null;case A:return K.key===me?$(z,j,K,ee):null;case R:return me=K._init,K=me(K._payload),Y(z,j,K,ee)}if(ut(K)||F(K))return me!==null?null:Z(z,j,K,ee,null);if(typeof K.then=="function")return Y(z,j,Ih(K),ee);if(K.$$typeof===q)return Y(z,j,gh(z,K),ee);Nh(z,K)}return null}function X(z,j,K,ee,me){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return z=z.get(K)||null,S(j,z,""+ee,me);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case E:return z=z.get(ee.key===null?K:ee.key)||null,N(j,z,ee,me);case A:return z=z.get(ee.key===null?K:ee.key)||null,$(j,z,ee,me);case R:var Ne=ee._init;return ee=Ne(ee._payload),X(z,j,K,ee,me)}if(ut(ee)||F(ee))return z=z.get(K)||null,Z(j,z,ee,me,null);if(typeof ee.then=="function")return X(z,j,K,Ih(ee),me);if(ee.$$typeof===q)return X(z,j,K,gh(j,ee),me);Nh(j,ee)}return null}function be(z,j,K,ee){for(var me=null,Ne=null,pe=j,ve=j=0,Kt=null;pe!==null&&ve<K.length;ve++){pe.index>ve?(Kt=pe,pe=null):Kt=pe.sibling;var ze=Y(z,pe,K[ve],ee);if(ze===null){pe===null&&(pe=Kt);break}i&&pe&&ze.alternate===null&&r(z,pe),j=g(ze,j,ve),Ne===null?me=ze:Ne.sibling=ze,Ne=ze,pe=Kt}if(ve===K.length)return o(z,pe),Fe&&aa(z,ve),me;if(pe===null){for(;ve<K.length;ve++)pe=ne(z,K[ve],ee),pe!==null&&(j=g(pe,j,ve),Ne===null?me=pe:Ne.sibling=pe,Ne=pe);return Fe&&aa(z,ve),me}for(pe=u(pe);ve<K.length;ve++)Kt=X(pe,z,ve,K[ve],ee),Kt!==null&&(i&&Kt.alternate!==null&&pe.delete(Kt.key===null?ve:Kt.key),j=g(Kt,j,ve),Ne===null?me=Kt:Ne.sibling=Kt,Ne=Kt);return i&&pe.forEach(function(or){return r(z,or)}),Fe&&aa(z,ve),me}function _e(z,j,K,ee){if(K==null)throw Error(s(151));for(var me=null,Ne=null,pe=j,ve=j=0,Kt=null,ze=K.next();pe!==null&&!ze.done;ve++,ze=K.next()){pe.index>ve?(Kt=pe,pe=null):Kt=pe.sibling;var or=Y(z,pe,ze.value,ee);if(or===null){pe===null&&(pe=Kt);break}i&&pe&&or.alternate===null&&r(z,pe),j=g(or,j,ve),Ne===null?me=or:Ne.sibling=or,Ne=or,pe=Kt}if(ze.done)return o(z,pe),Fe&&aa(z,ve),me;if(pe===null){for(;!ze.done;ve++,ze=K.next())ze=ne(z,ze.value,ee),ze!==null&&(j=g(ze,j,ve),Ne===null?me=ze:Ne.sibling=ze,Ne=ze);return Fe&&aa(z,ve),me}for(pe=u(pe);!ze.done;ve++,ze=K.next())ze=X(pe,z,ve,ze.value,ee),ze!==null&&(i&&ze.alternate!==null&&pe.delete(ze.key===null?ve:ze.key),j=g(ze,j,ve),Ne===null?me=ze:Ne.sibling=ze,Ne=ze);return i&&pe.forEach(function(KI){return r(z,KI)}),Fe&&aa(z,ve),me}function Ze(z,j,K,ee){if(typeof K=="object"&&K!==null&&K.type===C&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case E:e:{for(var me=K.key;j!==null;){if(j.key===me){if(me=K.type,me===C){if(j.tag===7){o(z,j.sibling),ee=d(j,K.props.children),ee.return=z,z=ee;break e}}else if(j.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&x0(me)===j.type){o(z,j.sibling),ee=d(j,K.props),ru(ee,K),ee.return=z,z=ee;break e}o(z,j);break}else r(z,j);j=j.sibling}K.type===C?(ee=sa(K.props.children,z.mode,ee,K.key),ee.return=z,z=ee):(ee=fh(K.type,K.key,K.props,null,z.mode,ee),ru(ee,K),ee.return=z,z=ee)}return b(z);case A:e:{for(me=K.key;j!==null;){if(j.key===me)if(j.tag===4&&j.stateNode.containerInfo===K.containerInfo&&j.stateNode.implementation===K.implementation){o(z,j.sibling),ee=d(j,K.children||[]),ee.return=z,z=ee;break e}else{o(z,j);break}else r(z,j);j=j.sibling}ee=am(K,z.mode,ee),ee.return=z,z=ee}return b(z);case R:return me=K._init,K=me(K._payload),Ze(z,j,K,ee)}if(ut(K))return be(z,j,K,ee);if(F(K)){if(me=F(K),typeof me!="function")throw Error(s(150));return K=me.call(K),_e(z,j,K,ee)}if(typeof K.then=="function")return Ze(z,j,Ih(K),ee);if(K.$$typeof===q)return Ze(z,j,gh(z,K),ee);Nh(z,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,j!==null&&j.tag===6?(o(z,j.sibling),ee=d(j,K),ee.return=z,z=ee):(o(z,j),ee=rm(K,z.mode,ee),ee.return=z,z=ee),b(z)):o(z,j)}return function(z,j,K,ee){try{su=0;var me=Ze(z,j,K,ee);return vo=null,me}catch(pe){if(pe===Xl||pe===_h)throw pe;var Ne=Cn(29,pe,null,z.mode);return Ne.lanes=ee,Ne.return=z,Ne}finally{}}}var To=R0(!0),C0=R0(!1),Kn=re(null),Ci=null;function Ks(i){var r=i.alternate;oe(Ut,Ut.current&1),oe(Kn,i),Ci===null&&(r===null||po.current!==null||r.memoizedState!==null)&&(Ci=i)}function I0(i){if(i.tag===22){if(oe(Ut,Ut.current),oe(Kn,i),Ci===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(Ci=i)}}else $s()}function $s(){oe(Ut,Ut.current),oe(Kn,Kn.current)}function fs(i){ce(Kn),Ci===i&&(Ci=null),ce(Ut)}var Ut=re(0);function Dh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Cp(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function jm(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:y({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Bm={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Pn(),d=qs(u);d.payload=r,o!=null&&(d.callback=o),r=Hs(i,d,u),r!==null&&(Mn(r,i,u),Wl(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Pn(),d=qs(u);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=Hs(i,d,u),r!==null&&(Mn(r,i,u),Wl(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Pn(),u=qs(o);u.tag=2,r!=null&&(u.callback=r),r=Hs(i,u,o),r!==null&&(Mn(r,i,o),Wl(r,i,o))}};function N0(i,r,o,u,d,g,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,b):r.prototype&&r.prototype.isPureReactComponent?!zl(o,u)||!zl(d,g):!0}function D0(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&Bm.enqueueReplaceState(r,r.state,null)}function da(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=y({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}var Ph=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function P0(i){Ph(i)}function M0(i){console.error(i)}function O0(i){Ph(i)}function Mh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function V0(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function zm(i,r,o){return o=qs(o),o.tag=3,o.payload={element:null},o.callback=function(){Mh(i,r)},o}function k0(i){return i=qs(i),i.tag=3,i}function L0(i,r,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;i.payload=function(){return d(g)},i.callback=function(){V0(r,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){V0(r,o,u),typeof d!="function"&&(Js===null?Js=new Set([this]):Js.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function KC(i,r,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Kl(r,o,d,!0),o=Kn.current,o!==null){switch(o.tag){case 13:return Ci===null?hp():o.alternate===null&&yt===0&&(yt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===gm?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),dp(i,u,d)),!1;case 22:return o.flags|=65536,u===gm?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),dp(i,u,d)),!1}throw Error(s(435,o.tag))}return dp(i,u,d),hp(),!1}if(Fe)return r=Kn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,u!==um&&(i=Error(s(422),{cause:u}),Gl(Fn(i,o)))):(u!==um&&(r=Error(s(423),{cause:u}),Gl(Fn(r,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,u=Fn(u,o),d=zm(i.stateNode,u,d),vm(i,d),yt!==4&&(yt=2)),!1;var g=Error(s(520),{cause:u});if(g=Fn(g,o),fu===null?fu=[g]:fu.push(g),yt!==4&&(yt=2),r===null)return!0;u=Fn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=zm(o.stateNode,u,i),vm(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Js===null||!Js.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=k0(d),L0(d,i,o,u),vm(o,d),!1}o=o.return}while(o!==null);return!1}var U0=Error(s(461)),Ht=!1;function Qt(i,r,o,u){r.child=i===null?C0(r,null,o,u):To(r,i.child,o,u)}function j0(i,r,o,u,d){o=o.render;var g=r.ref;if("ref"in u){var b={};for(var S in u)S!=="ref"&&(b[S]=u[S])}else b=u;return ca(r),u=Sm(i,r,o,b,g,d),S=Am(),i!==null&&!Ht?(xm(i,r,d),ds(i,r,d)):(Fe&&S&&om(r),r.flags|=1,Qt(i,r,u,d),r.child)}function B0(i,r,o,u,d){if(i===null){var g=o.type;return typeof g=="function"&&!sm(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,z0(i,r,g,u,d)):(i=fh(o.type,null,u,r,r.mode,d),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!Xm(i,d)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:zl,o(b,u)&&i.ref===r.ref)return ds(i,r,d)}return r.flags|=1,i=as(g,u),i.ref=r.ref,i.return=r,r.child=i}function z0(i,r,o,u,d){if(i!==null){var g=i.memoizedProps;if(zl(g,u)&&i.ref===r.ref)if(Ht=!1,r.pendingProps=u=g,Xm(i,d))(i.flags&131072)!==0&&(Ht=!0);else return r.lanes=i.lanes,ds(i,r,d)}return Fm(i,r,o,u,d)}function F0(i,r,o){var u=r.pendingProps,d=u.children,g=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,i!==null){for(d=r.child=i.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;r.childLanes=g&~u}else r.childLanes=0,r.child=null;return q0(i,r,u,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&yh(r,g!==null?g.cachePool:null),g!==null?zv(r,g):Em(),I0(r);else return r.lanes=r.childLanes=536870912,q0(i,r,g!==null?g.baseLanes|o:o,o)}else g!==null?(yh(r,g.cachePool),zv(r,g),$s(),r.memoizedState=null):(i!==null&&yh(r,null),Em(),$s());return Qt(i,r,d,o),r.child}function q0(i,r,o,u){var d=pm();return d=d===null?null:{parent:Lt._currentValue,pool:d},r.memoizedState={baseLanes:o,cachePool:d},i!==null&&yh(r,null),Em(),I0(r),i!==null&&Kl(i,r,u,!0),null}function Oh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Fm(i,r,o,u,d){return ca(r),o=Sm(i,r,o,u,void 0,d),u=Am(),i!==null&&!Ht?(xm(i,r,d),ds(i,r,d)):(Fe&&u&&om(r),r.flags|=1,Qt(i,r,o,d),r.child)}function H0(i,r,o,u,d,g){return ca(r),r.updateQueue=null,o=qv(r,u,o,d),Fv(i),u=Am(),i!==null&&!Ht?(xm(i,r,g),ds(i,r,g)):(Fe&&u&&om(r),r.flags|=1,Qt(i,r,o,g),r.child)}function G0(i,r,o,u,d){if(ca(r),r.stateNode===null){var g=uo,b=o.contextType;typeof b=="object"&&b!==null&&(g=rn(b)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Bm,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},ym(r),b=o.contextType,g.context=typeof b=="object"&&b!==null?rn(b):uo,g.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(jm(r,o,b,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&Bm.enqueueReplaceState(g,g.state,null),Jl(r,u,g,d),Zl(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var S=r.memoizedProps,N=da(o,S);g.props=N;var $=g.context,Z=o.contextType;b=uo,typeof Z=="object"&&Z!==null&&(b=rn(Z));var ne=o.getDerivedStateFromProps;Z=typeof ne=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||$!==b)&&D0(r,g,u,b),Fs=!1;var Y=r.memoizedState;g.state=Y,Jl(r,u,g,d),Zl(),$=r.memoizedState,S||Y!==$||Fs?(typeof ne=="function"&&(jm(r,o,ne,u),$=r.memoizedState),(N=Fs||N0(r,o,N,u,Y,$,b))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=$),g.props=u,g.state=$,g.context=b,u=N):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,_m(i,r),b=r.memoizedProps,Z=da(o,b),g.props=Z,ne=r.pendingProps,Y=g.context,$=o.contextType,N=uo,typeof $=="object"&&$!==null&&(N=rn($)),S=o.getDerivedStateFromProps,($=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==ne||Y!==N)&&D0(r,g,u,N),Fs=!1,Y=r.memoizedState,g.state=Y,Jl(r,u,g,d),Zl();var X=r.memoizedState;b!==ne||Y!==X||Fs||i!==null&&i.dependencies!==null&&ph(i.dependencies)?(typeof S=="function"&&(jm(r,o,S,u),X=r.memoizedState),(Z=Fs||N0(r,o,Z,u,Y,X,N)||i!==null&&i.dependencies!==null&&ph(i.dependencies))?($||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,X,N),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,X,N)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=X),g.props=u,g.state=X,g.context=N,u=Z):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,Oh(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=To(r,i.child,null,d),r.child=To(r,null,o,d)):Qt(i,r,o,d),r.memoizedState=g.state,i=r.child):i=ds(i,r,d),i}function K0(i,r,o,u){return Hl(),r.flags|=256,Qt(i,r,o,u),r.child}var qm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hm(i){return{baseLanes:i,cachePool:Mv()}}function Gm(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=$n),i}function $0(i,r,o){var u=r.pendingProps,d=!1,g=(r.flags&128)!==0,b;if((b=g)||(b=i!==null&&i.memoizedState===null?!1:(Ut.current&2)!==0),b&&(d=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,i===null){if(Fe){if(d?Ks(r):$s(),Fe){var S=gt,N;if(N=S){e:{for(N=S,S=Ri;N.nodeType!==8;){if(!S){S=null;break e}if(N=ri(N.nextSibling),N===null){S=null;break e}}S=N}S!==null?(r.memoizedState={dehydrated:S,treeContext:ra!==null?{id:os,overflow:ls}:null,retryLane:536870912,hydrationErrors:null},N=Cn(18,null,null,0),N.stateNode=S,N.return=r,r.child=N,pn=r,gt=null,N=!0):N=!1}N||la(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Cp(S)?r.lanes=32:r.lanes=536870912,null;fs(r)}return S=u.children,u=u.fallback,d?($s(),d=r.mode,S=Vh({mode:"hidden",children:S},d),u=sa(u,d,o,null),S.return=r,u.return=r,S.sibling=u,r.child=S,d=r.child,d.memoizedState=Hm(o),d.childLanes=Gm(i,b,o),r.memoizedState=qm,u):(Ks(r),Km(r,S))}if(N=i.memoizedState,N!==null&&(S=N.dehydrated,S!==null)){if(g)r.flags&256?(Ks(r),r.flags&=-257,r=$m(i,r,o)):r.memoizedState!==null?($s(),r.child=i.child,r.flags|=128,r=null):($s(),d=u.fallback,S=r.mode,u=Vh({mode:"visible",children:u.children},S),d=sa(d,S,o,null),d.flags|=2,u.return=r,d.return=r,u.sibling=d,r.child=u,To(r,i.child,null,o),u=r.child,u.memoizedState=Hm(o),u.childLanes=Gm(i,b,o),r.memoizedState=qm,r=d);else if(Ks(r),Cp(S)){if(b=S.nextSibling&&S.nextSibling.dataset,b)var $=b.dgst;b=$,u=Error(s(419)),u.stack="",u.digest=b,Gl({value:u,source:null,stack:null}),r=$m(i,r,o)}else if(Ht||Kl(i,r,o,!1),b=(o&i.childLanes)!==0,Ht||b){if(b=nt,b!==null&&(u=o&-o,u=(u&42)!==0?1:Os(u),u=(u&(b.suspendedLanes|o))!==0?0:u,u!==0&&u!==N.retryLane))throw N.retryLane=u,lo(i,u),Mn(b,i,u),U0;S.data==="$?"||hp(),r=$m(i,r,o)}else S.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=N.treeContext,gt=ri(S.nextSibling),pn=r,Fe=!0,oa=null,Ri=!1,i!==null&&(Hn[Gn++]=os,Hn[Gn++]=ls,Hn[Gn++]=ra,os=i.id,ls=i.overflow,ra=r),r=Km(r,u.children),r.flags|=4096);return r}return d?($s(),d=u.fallback,S=r.mode,N=i.child,$=N.sibling,u=as(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&65011712,$!==null?d=as($,d):(d=sa(d,S,o,null),d.flags|=2),d.return=r,u.return=r,u.sibling=d,r.child=u,u=d,d=r.child,S=i.child.memoizedState,S===null?S=Hm(o):(N=S.cachePool,N!==null?($=Lt._currentValue,N=N.parent!==$?{parent:$,pool:$}:N):N=Mv(),S={baseLanes:S.baseLanes|o,cachePool:N}),d.memoizedState=S,d.childLanes=Gm(i,b,o),r.memoizedState=qm,u):(Ks(r),o=i.child,i=o.sibling,o=as(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(b=r.deletions,b===null?(r.deletions=[i],r.flags|=16):b.push(i)),r.child=o,r.memoizedState=null,o)}function Km(i,r){return r=Vh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Vh(i,r){return i=Cn(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function $m(i,r,o){return To(r,i.child,null,o),i=Km(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function Y0(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),hm(i.return,r,o)}function Ym(i,r,o,u,d){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=d)}function X0(i,r,o){var u=r.pendingProps,d=u.revealOrder,g=u.tail;if(Qt(i,r,u.children,o),u=Ut.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Y0(i,o,r);else if(i.tag===19)Y0(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(oe(Ut,u),d){case"forwards":for(o=r.child,d=null;o!==null;)i=o.alternate,i!==null&&Dh(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),Ym(r,!1,d,o,g);break;case"backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(i=d.alternate,i!==null&&Dh(i)===null){r.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}Ym(r,!0,o,null,g);break;case"together":Ym(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ds(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Zs|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Kl(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=as(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=as(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Xm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&ph(i)))}function $C(i,r,o){switch(r.tag){case 3:tt(r,r.stateNode.containerInfo),zs(r,Lt,i.memoizedState.cache),Hl();break;case 27:case 5:Ms(r);break;case 4:tt(r,r.stateNode.containerInfo);break;case 10:zs(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Ks(r),r.flags|=128,null):(o&r.child.childLanes)!==0?$0(i,r,o):(Ks(r),i=ds(i,r,o),i!==null?i.sibling:null);Ks(r);break;case 19:var d=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Kl(i,r,o,!1),u=(o&r.childLanes)!==0),d){if(u)return X0(i,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),oe(Ut,Ut.current),u)break;return null;case 22:case 23:return r.lanes=0,F0(i,r,o);case 24:zs(r,Lt,i.memoizedState.cache)}return ds(i,r,o)}function Q0(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Ht=!0;else{if(!Xm(i,o)&&(r.flags&128)===0)return Ht=!1,$C(i,r,o);Ht=(i.flags&131072)!==0}else Ht=!1,Fe&&(r.flags&1048576)!==0&&xv(r,mh,r.index);switch(r.lanes=0,r.tag){case 16:e:{i=r.pendingProps;var u=r.elementType,d=u._init;if(u=d(u._payload),r.type=u,typeof u=="function")sm(u)?(i=da(u,i),r.tag=1,r=G0(null,r,u,i,o)):(r.tag=0,r=Fm(null,r,u,i,o));else{if(u!=null){if(d=u.$$typeof,d===se){r.tag=11,r=j0(null,r,u,i,o);break e}else if(d===P){r.tag=14,r=B0(null,r,u,i,o);break e}}throw r=St(u)||u,Error(s(306,r,""))}}return r;case 0:return Fm(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,d=da(u,r.pendingProps),G0(i,r,u,d,o);case 3:e:{if(tt(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;d=g.element,_m(i,r),Jl(r,u,null,o);var b=r.memoizedState;if(u=b.cache,zs(r,Lt,u),u!==g.cache&&fm(r,[Lt],o,!0),Zl(),u=b.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=K0(i,r,u,o);break e}else if(u!==d){d=Fn(Error(s(424)),r),Gl(d),r=K0(i,r,u,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(gt=ri(i.firstChild),pn=r,Fe=!0,oa=null,Ri=!0,o=C0(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Hl(),u===d){r=ds(i,r,o);break e}Qt(i,r,u,o)}r=r.child}return r;case 26:return Oh(i,r),i===null?(o=eE(r.type,null,r.pendingProps,null))?r.memoizedState=o:Fe||(o=r.type,i=r.pendingProps,u=Xh(Se.current).createElement(o),u[Ot]=r,u[At]=i,Zt(u,o,i),vt(u),r.stateNode=u):r.memoizedState=eE(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Ms(r),i===null&&Fe&&(u=r.stateNode=WT(r.type,r.pendingProps,Se.current),pn=r,Ri=!0,d=gt,nr(r.type)?(Ip=d,gt=ri(u.firstChild)):gt=d),Qt(i,r,r.pendingProps.children,o),Oh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Fe&&((d=u=gt)&&(u=EI(u,r.type,r.pendingProps,Ri),u!==null?(r.stateNode=u,pn=r,gt=ri(u.firstChild),Ri=!1,d=!0):d=!1),d||la(r)),Ms(r),d=r.type,g=r.pendingProps,b=i!==null?i.memoizedProps:null,u=g.children,Ap(d,g)?u=null:b!==null&&Ap(d,b)&&(r.flags|=32),r.memoizedState!==null&&(d=Sm(i,r,jC,null,null,o),Eu._currentValue=d),Oh(i,r),Qt(i,r,u,o),r.child;case 6:return i===null&&Fe&&((i=o=gt)&&(o=bI(o,r.pendingProps,Ri),o!==null?(r.stateNode=o,pn=r,gt=null,i=!0):i=!1),i||la(r)),null;case 13:return $0(i,r,o);case 4:return tt(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=To(r,null,u,o):Qt(i,r,u,o),r.child;case 11:return j0(i,r,r.type,r.pendingProps,o);case 7:return Qt(i,r,r.pendingProps,o),r.child;case 8:return Qt(i,r,r.pendingProps.children,o),r.child;case 12:return Qt(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,zs(r,r.type,u.value),Qt(i,r,u.children,o),r.child;case 9:return d=r.type._context,u=r.pendingProps.children,ca(r),d=rn(d),u=u(d),r.flags|=1,Qt(i,r,u,o),r.child;case 14:return B0(i,r,r.type,r.pendingProps,o);case 15:return z0(i,r,r.type,r.pendingProps,o);case 19:return X0(i,r,o);case 31:return u=r.pendingProps,o=r.mode,u={mode:u.mode,children:u.children},i===null?(o=Vh(u,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=as(i.child,u),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return F0(i,r,o);case 24:return ca(r),u=rn(Lt),i===null?(d=pm(),d===null&&(d=nt,g=dm(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),r.memoizedState={parent:u,cache:d},ym(r),zs(r,Lt,d)):((i.lanes&o)!==0&&(_m(i,r),Jl(r,null,null,o),Zl()),d=i.memoizedState,g=r.memoizedState,d.parent!==u?(d={parent:u,cache:u},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),zs(r,Lt,u)):(u=g.cache,zs(r,Lt,u),u!==d.cache&&fm(r,[Lt],o,!0))),Qt(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ms(i){i.flags|=4}function W0(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!rE(r)){if(r=Kn.current,r!==null&&((je&4194048)===je?Ci!==null:(je&62914560)!==je&&(je&536870912)===0||r!==Ci))throw Ql=gm,Ov;i.flags|=8192}}function kh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?wl():536870912,i.lanes|=r,So|=r)}function au(i,r){if(!Fe)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function ct(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function YC(i,r,o){var u=r.pendingProps;switch(lm(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(r),null;case 1:return ct(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),cs(Lt),pi(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(ql(r)?ms(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Iv())),ct(r),null;case 26:return o=r.memoizedState,i===null?(ms(r),o!==null?(ct(r),W0(r,o)):(ct(r),r.flags&=-16777217)):o?o!==i.memoizedState?(ms(r),ct(r),W0(r,o)):(ct(r),r.flags&=-16777217):(i.memoizedProps!==u&&ms(r),ct(r),r.flags&=-16777217),null;case 27:$i(r),o=Se.current;var d=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==u&&ms(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ct(r),null}i=ye.current,ql(r)?Rv(r):(i=WT(d,u,o),r.stateNode=i,ms(r))}return ct(r),null;case 5:if($i(r),o=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&ms(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ct(r),null}if(i=ye.current,ql(r))Rv(r);else{switch(d=Xh(Se.current),i){case 1:i=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=d.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?d.createElement(o,{is:u.is}):d.createElement(o)}}i[Ot]=r,i[At]=u;e:for(d=r.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===r)break e;for(;d.sibling===null;){if(d.return===null||d.return===r)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}r.stateNode=i;e:switch(Zt(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ms(r)}}return ct(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&ms(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=Se.current,ql(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,d=pn,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}i[Ot]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||HT(i.nodeValue,o)),i||la(r)}else i=Xh(i).createTextNode(u),i[Ot]=r,r.stateNode=i}return ct(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=ql(r),u!==null&&u.dehydrated!==null){if(i===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Ot]=r}else Hl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ct(r),d=!1}else d=Iv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(fs(r),r):(fs(r),null)}if(fs(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=r.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)}return o!==i&&o&&(r.child.flags|=8192),kh(r,r.updateQueue),ct(r),null;case 4:return pi(),i===null&&Tp(r.stateNode.containerInfo),ct(r),null;case 10:return cs(r.type),ct(r),null;case 19:if(ce(Ut),d=r.memoizedState,d===null)return ct(r),null;if(u=(r.flags&128)!==0,g=d.rendering,g===null)if(u)au(d,!1);else{if(yt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=Dh(i),g!==null){for(r.flags|=128,au(d,!1),i=g.updateQueue,r.updateQueue=i,kh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Av(o,i),o=o.sibling;return oe(Ut,Ut.current&1|2),r.child}i=i.sibling}d.tail!==null&&kn()>jh&&(r.flags|=128,u=!0,au(d,!1),r.lanes=4194304)}else{if(!u)if(i=Dh(g),i!==null){if(r.flags|=128,u=!0,i=i.updateQueue,r.updateQueue=i,kh(r,i),au(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!Fe)return ct(r),null}else 2*kn()-d.renderingStartTime>jh&&o!==536870912&&(r.flags|=128,u=!0,au(d,!1),r.lanes=4194304);d.isBackwards?(g.sibling=r.child,r.child=g):(i=d.last,i!==null?i.sibling=g:r.child=g,d.last=g)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=kn(),r.sibling=null,i=Ut.current,oe(Ut,u?i&1|2:i&1),r):(ct(r),null);case 22:case 23:return fs(r),bm(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(ct(r),r.subtreeFlags&6&&(r.flags|=8192)):ct(r),o=r.updateQueue,o!==null&&kh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&ce(ha),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),cs(Lt),ct(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function XC(i,r){switch(lm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return cs(Lt),pi(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return $i(r),null;case 13:if(fs(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Hl()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ce(Ut),null;case 4:return pi(),null;case 10:return cs(r.type),null;case 22:case 23:return fs(r),bm(),i!==null&&ce(ha),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return cs(Lt),null;case 25:return null;default:return null}}function Z0(i,r){switch(lm(r),r.tag){case 3:cs(Lt),pi();break;case 26:case 27:case 5:$i(r);break;case 4:pi();break;case 13:fs(r);break;case 19:ce(Ut);break;case 10:cs(r.type);break;case 22:case 23:fs(r),bm(),i!==null&&ce(ha);break;case 24:cs(Lt)}}function ou(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&i)===i){u=void 0;var g=o.create,b=o.inst;u=g(),b.destroy=u}o=o.next}while(o!==d)}}catch(S){Je(r,r.return,S)}}function Ys(i,r,o){try{var u=r.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&i)===i){var b=u.inst,S=b.destroy;if(S!==void 0){b.destroy=void 0,d=r;var N=o,$=S;try{$()}catch(Z){Je(d,N,Z)}}}u=u.next}while(u!==g)}}catch(Z){Je(r,r.return,Z)}}function J0(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{Bv(r,o)}catch(u){Je(i,i.return,u)}}}function eT(i,r,o){o.props=da(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Je(i,r,u)}}function lu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(d){Je(i,r,d)}}function Ii(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){Je(i,r,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Je(i,r,d)}else o.current=null}function tT(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){Je(i,i.return,d)}}function Qm(i,r,o){try{var u=i.stateNode;gI(u,i.type,o,r),u[At]=r}catch(d){Je(i,i.return,d)}}function nT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&nr(i.type)||i.tag===4}function Wm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||nT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&nr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Zm(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Yh));else if(u!==4&&(u===27&&nr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Zm(i,r,o),i=i.sibling;i!==null;)Zm(i,r,o),i=i.sibling}function Lh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&nr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Lh(i,r,o),i=i.sibling;i!==null;)Lh(i,r,o),i=i.sibling}function iT(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);Zt(r,u,o),r[Ot]=i,r[At]=o}catch(g){Je(i,i.return,g)}}var ps=!1,Et=!1,Jm=!1,sT=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function QC(i,r){if(i=i.containerInfo,wp=tf,i=pv(i),Wd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var b=0,S=-1,N=-1,$=0,Z=0,ne=i,Y=null;t:for(;;){for(var X;ne!==o||d!==0&&ne.nodeType!==3||(S=b+d),ne!==g||u!==0&&ne.nodeType!==3||(N=b+u),ne.nodeType===3&&(b+=ne.nodeValue.length),(X=ne.firstChild)!==null;)Y=ne,ne=X;for(;;){if(ne===i)break t;if(Y===o&&++$===d&&(S=b),Y===g&&++Z===u&&(N=b),(X=ne.nextSibling)!==null)break;ne=Y,Y=ne.parentNode}ne=X}o=S===-1||N===-1?null:{start:S,end:N}}else o=null}o=o||{start:0,end:0}}else o=null;for(Sp={focusedElem:i,selectionRange:o},tf=!1,Gt=r;Gt!==null;)if(r=Gt,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,Gt=i;else for(;Gt!==null;){switch(r=Gt,g=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var be=da(o.type,d,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(be,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(_e){Je(o,o.return,_e)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Rp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Rp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Gt=i;break}Gt=r.return}}function rT(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Xs(i,o),u&4&&ou(5,o);break;case 1:if(Xs(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(b){Je(o,o.return,b)}else{var d=da(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(d,r,i.__reactInternalSnapshotBeforeUpdate)}catch(b){Je(o,o.return,b)}}u&64&&J0(o),u&512&&lu(o,o.return);break;case 3:if(Xs(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Bv(i,r)}catch(b){Je(o,o.return,b)}}break;case 27:r===null&&u&4&&iT(o);case 26:case 5:Xs(i,o),r===null&&u&4&&tT(o),u&512&&lu(o,o.return);break;case 12:Xs(i,o);break;case 13:Xs(i,o),u&4&&lT(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=rI.bind(null,o),wI(i,o))));break;case 22:if(u=o.memoizedState!==null||ps,!u){r=r!==null&&r.memoizedState!==null||Et,d=ps;var g=Et;ps=u,(Et=r)&&!g?Qs(i,o,(o.subtreeFlags&8772)!==0):Xs(i,o),ps=d,Et=g}break;case 30:break;default:Xs(i,o)}}function aT(i){var r=i.alternate;r!==null&&(i.alternate=null,aT(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Ls(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ot=null,Tn=!1;function gs(i,r,o){for(o=o.child;o!==null;)oT(i,r,o),o=o.sibling}function oT(i,r,o){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(pt,o)}catch{}switch(o.tag){case 26:Et||Ii(o,r),gs(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Et||Ii(o,r);var u=ot,d=Tn;nr(o.type)&&(ot=o.stateNode,Tn=!1),gs(i,r,o),yu(o.stateNode),ot=u,Tn=d;break;case 5:Et||Ii(o,r);case 6:if(u=ot,d=Tn,ot=null,gs(i,r,o),ot=u,Tn=d,ot!==null)if(Tn)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(o.stateNode)}catch(g){Je(o,r,g)}else try{ot.removeChild(o.stateNode)}catch(g){Je(o,r,g)}break;case 18:ot!==null&&(Tn?(i=ot,XT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Au(i)):XT(ot,o.stateNode));break;case 4:u=ot,d=Tn,ot=o.stateNode.containerInfo,Tn=!0,gs(i,r,o),ot=u,Tn=d;break;case 0:case 11:case 14:case 15:Et||Ys(2,o,r),Et||Ys(4,o,r),gs(i,r,o);break;case 1:Et||(Ii(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&eT(o,r,u)),gs(i,r,o);break;case 21:gs(i,r,o);break;case 22:Et=(u=Et)||o.memoizedState!==null,gs(i,r,o),Et=u;break;default:gs(i,r,o)}}function lT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Au(i)}catch(o){Je(r,r.return,o)}}function WC(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new sT),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new sT),r;default:throw Error(s(435,i.tag))}}function ep(i,r){var o=WC(i);r.forEach(function(u){var d=aI.bind(null,i,u);o.has(u)||(o.add(u),u.then(d,d))})}function In(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=i,b=r,S=b;e:for(;S!==null;){switch(S.tag){case 27:if(nr(S.type)){ot=S.stateNode,Tn=!1;break e}break;case 5:ot=S.stateNode,Tn=!1;break e;case 3:case 4:ot=S.stateNode.containerInfo,Tn=!0;break e}S=S.return}if(ot===null)throw Error(s(160));oT(g,b,d),ot=null,Tn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)uT(r,i),r=r.sibling}var si=null;function uT(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:In(r,i),Nn(i),u&4&&(Ys(3,i,i.return),ou(3,i),Ys(5,i,i.return));break;case 1:In(r,i),Nn(i),u&512&&(Et||o===null||Ii(o,o.return)),u&64&&ps&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=si;if(In(r,i),Nn(i),u&512&&(Et||o===null||Ii(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Fr]||g[Ot]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),Zt(g,u,o),g[Ot]=i,vt(g),u=g;break e;case"link":var b=iE("link","href",d).get(u+(o.href||""));if(b){for(var S=0;S<b.length;S++)if(g=b[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(S,1);break t}}g=d.createElement(u),Zt(g,u,o),d.head.appendChild(g);break;case"meta":if(b=iE("meta","content",d).get(u+(o.content||""))){for(S=0;S<b.length;S++)if(g=b[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(S,1);break t}}g=d.createElement(u),Zt(g,u,o),d.head.appendChild(g);break;default:throw Error(s(468,u))}g[Ot]=i,vt(g),u=g}i.stateNode=u}else sE(d,i.type,i.stateNode);else i.stateNode=nE(d,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?sE(d,i.type,i.stateNode):nE(d,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Qm(i,i.memoizedProps,o.memoizedProps)}break;case 27:In(r,i),Nn(i),u&512&&(Et||o===null||Ii(o,o.return)),o!==null&&u&4&&Qm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(In(r,i),Nn(i),u&512&&(Et||o===null||Ii(o,o.return)),i.flags&32){d=i.stateNode;try{Un(d,"")}catch(X){Je(i,i.return,X)}}u&4&&i.stateNode!=null&&(d=i.memoizedProps,Qm(i,d,o!==null?o.memoizedProps:d)),u&1024&&(Jm=!0);break;case 6:if(In(r,i),Nn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(X){Je(i,i.return,X)}}break;case 3:if(Zh=null,d=si,si=Qh(r.containerInfo),In(r,i),si=d,Nn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Au(r.containerInfo)}catch(X){Je(i,i.return,X)}Jm&&(Jm=!1,cT(i));break;case 4:u=si,si=Qh(i.stateNode.containerInfo),In(r,i),Nn(i),si=u;break;case 12:In(r,i),Nn(i);break;case 13:In(r,i),Nn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(ap=kn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,ep(i,u)));break;case 22:d=i.memoizedState!==null;var N=o!==null&&o.memoizedState!==null,$=ps,Z=Et;if(ps=$||d,Et=Z||N,In(r,i),Et=Z,ps=$,Nn(i),u&8192)e:for(r=i.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(o===null||N||ps||Et||ma(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){N=o=r;try{if(g=N.stateNode,d)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{S=N.stateNode;var ne=N.memoizedProps.style,Y=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(X){Je(N,N.return,X)}}}else if(r.tag===6){if(o===null){N=r;try{N.stateNode.nodeValue=d?"":N.memoizedProps}catch(X){Je(N,N.return,X)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,ep(i,o))));break;case 19:In(r,i),Nn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,ep(i,u)));break;case 30:break;case 21:break;default:In(r,i),Nn(i)}}function Nn(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(nT(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var d=o.stateNode,g=Wm(i);Lh(i,g,d);break;case 5:var b=o.stateNode;o.flags&32&&(Un(b,""),o.flags&=-33);var S=Wm(i);Lh(i,S,b);break;case 3:case 4:var N=o.stateNode.containerInfo,$=Wm(i);Zm(i,$,N);break;default:throw Error(s(161))}}catch(Z){Je(i,i.return,Z)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function cT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;cT(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Xs(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)rT(i,r.alternate,r),r=r.sibling}function ma(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Ys(4,r,r.return),ma(r);break;case 1:Ii(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&eT(r,r.return,o),ma(r);break;case 27:yu(r.stateNode);case 26:case 5:Ii(r,r.return),ma(r);break;case 22:r.memoizedState===null&&ma(r);break;case 30:ma(r);break;default:ma(r)}i=i.sibling}}function Qs(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,d=i,g=r,b=g.flags;switch(g.tag){case 0:case 11:case 15:Qs(d,g,o),ou(4,g);break;case 1:if(Qs(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch($){Je(u,u.return,$)}if(u=g,d=u.updateQueue,d!==null){var S=u.stateNode;try{var N=d.shared.hiddenCallbacks;if(N!==null)for(d.shared.hiddenCallbacks=null,d=0;d<N.length;d++)jv(N[d],S)}catch($){Je(u,u.return,$)}}o&&b&64&&J0(g),lu(g,g.return);break;case 27:iT(g);case 26:case 5:Qs(d,g,o),o&&u===null&&b&4&&tT(g),lu(g,g.return);break;case 12:Qs(d,g,o);break;case 13:Qs(d,g,o),o&&b&4&&lT(d,g);break;case 22:g.memoizedState===null&&Qs(d,g,o),lu(g,g.return);break;case 30:break;default:Qs(d,g,o)}r=r.sibling}}function tp(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&$l(o))}function np(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&$l(i))}function Ni(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)hT(i,r,o,u),r=r.sibling}function hT(i,r,o,u){var d=r.flags;switch(r.tag){case 0:case 11:case 15:Ni(i,r,o,u),d&2048&&ou(9,r);break;case 1:Ni(i,r,o,u);break;case 3:Ni(i,r,o,u),d&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&$l(i)));break;case 12:if(d&2048){Ni(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,b=g.id,S=g.onPostCommit;typeof S=="function"&&S(b,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(N){Je(r,r.return,N)}}else Ni(i,r,o,u);break;case 13:Ni(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,b=r.alternate,r.memoizedState!==null?g._visibility&2?Ni(i,r,o,u):uu(i,r):g._visibility&2?Ni(i,r,o,u):(g._visibility|=2,Eo(i,r,o,u,(r.subtreeFlags&10256)!==0)),d&2048&&tp(b,r);break;case 24:Ni(i,r,o,u),d&2048&&np(r.alternate,r);break;default:Ni(i,r,o,u)}}function Eo(i,r,o,u,d){for(d=d&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var g=i,b=r,S=o,N=u,$=b.flags;switch(b.tag){case 0:case 11:case 15:Eo(g,b,S,N,d),ou(8,b);break;case 23:break;case 22:var Z=b.stateNode;b.memoizedState!==null?Z._visibility&2?Eo(g,b,S,N,d):uu(g,b):(Z._visibility|=2,Eo(g,b,S,N,d)),d&&$&2048&&tp(b.alternate,b);break;case 24:Eo(g,b,S,N,d),d&&$&2048&&np(b.alternate,b);break;default:Eo(g,b,S,N,d)}r=r.sibling}}function uu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,d=u.flags;switch(u.tag){case 22:uu(o,u),d&2048&&tp(u.alternate,u);break;case 24:uu(o,u),d&2048&&np(u.alternate,u);break;default:uu(o,u)}r=r.sibling}}var cu=8192;function bo(i){if(i.subtreeFlags&cu)for(i=i.child;i!==null;)fT(i),i=i.sibling}function fT(i){switch(i.tag){case 26:bo(i),i.flags&cu&&i.memoizedState!==null&&kI(si,i.memoizedState,i.memoizedProps);break;case 5:bo(i);break;case 3:case 4:var r=si;si=Qh(i.stateNode.containerInfo),bo(i),si=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=cu,cu=16777216,bo(i),cu=r):bo(i));break;default:bo(i)}}function dT(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function hu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Gt=u,pT(u,i)}dT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)mT(i),i=i.sibling}function mT(i){switch(i.tag){case 0:case 11:case 15:hu(i),i.flags&2048&&Ys(9,i,i.return);break;case 3:hu(i);break;case 12:hu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Uh(i)):hu(i);break;default:hu(i)}}function Uh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Gt=u,pT(u,i)}dT(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Ys(8,r,r.return),Uh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Uh(r));break;default:Uh(r)}i=i.sibling}}function pT(i,r){for(;Gt!==null;){var o=Gt;switch(o.tag){case 0:case 11:case 15:Ys(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:$l(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Gt=u;else e:for(o=i;Gt!==null;){u=Gt;var d=u.sibling,g=u.return;if(aT(u),u===o){Gt=null;break e}if(d!==null){d.return=g,Gt=d;break e}Gt=g}}}var ZC={getCacheForType:function(i){var r=rn(Lt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o}},JC=typeof WeakMap=="function"?WeakMap:Map,Ke=0,nt=null,De=null,je=0,$e=0,Dn=null,Ws=!1,wo=!1,ip=!1,ys=0,yt=0,Zs=0,pa=0,sp=0,$n=0,So=0,fu=null,En=null,rp=!1,ap=0,jh=1/0,Bh=null,Js=null,Wt=0,er=null,Ao=null,xo=0,op=0,lp=null,gT=null,du=0,up=null;function Pn(){if((Ke&2)!==0&&je!==0)return je&-je;if(W.T!==null){var i=fo;return i!==0?i:gp()}return Vs()}function yT(){$n===0&&($n=(je&536870912)===0||Fe?bl():536870912);var i=Kn.current;return i!==null&&(i.flags|=32),$n}function Mn(i,r,o){(i===nt&&($e===2||$e===9)||i.cancelPendingCommit!==null)&&(Ro(i,0),tr(i,je,$n,!1)),Xi(i,o),((Ke&2)===0||i!==nt)&&(i===nt&&((Ke&2)===0&&(pa|=o),yt===4&&tr(i,je,$n,!1)),Di(i))}function _T(i,r,o){if((Ke&6)!==0)throw Error(s(327));var u=!o&&(r&124)===0&&(r&i.expiredLanes)===0||zr(i,r),d=u?nI(i,r):fp(i,r,!0),g=u;do{if(d===0){wo&&!u&&tr(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!eI(o)){d=fp(i,r,!1),g=!1;continue}if(d===2){if(g=r,i.errorRecoveryDisabledLanes&g)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var S=i;d=fu;var N=S.current.memoizedState.isDehydrated;if(N&&(Ro(S,b).flags|=256),b=fp(S,b,!1),b!==2){if(ip&&!N){S.errorRecoveryDisabledLanes|=g,pa|=g,d=4;break e}g=En,En=d,g!==null&&(En===null?En=g:En.push.apply(En,g))}d=b}if(g=!1,d!==2)continue}}if(d===1){Ro(i,0),tr(i,r,0,!0);break}e:{switch(u=i,g=d,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:tr(u,r,$n,!Ws);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=ap+300-kn(),10<d)){if(tr(u,r,$n,!Ws),qa(u,0,!0)!==0)break e;u.timeoutHandle=$T(vT.bind(null,u,o,En,Bh,rp,r,$n,pa,So,Ws,g,2,-0,0),d);break e}vT(u,o,En,Bh,rp,r,$n,pa,So,Ws,g,0,-0,0)}}break}while(!0);Di(i)}function vT(i,r,o,u,d,g,b,S,N,$,Z,ne,Y,X){if(i.timeoutHandle=-1,ne=r.subtreeFlags,(ne&8192||(ne&16785408)===16785408)&&(Tu={stylesheets:null,count:0,unsuspend:VI},fT(r),ne=LI(),ne!==null)){i.cancelPendingCommit=ne(xT.bind(null,i,r,g,o,u,d,b,S,N,Z,1,Y,X)),tr(i,g,b,!$);return}xT(i,r,g,o,u,d,b,S,N)}function eI(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!Rn(g(),d))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function tr(i,r,o,u){r&=~sp,r&=~pa,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var d=r;0<d;){var g=31-sn(d),b=1<<g;u[g]=-1,d&=~b}o!==0&&gi(i,o,r)}function zh(){return(Ke&6)===0?(mu(0),!1):!0}function cp(){if(De!==null){if($e===0)var i=De.return;else i=De,us=ua=null,Rm(i),vo=null,su=0,i=De;for(;i!==null;)Z0(i.alternate,i),i=i.return;De=null}}function Ro(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,_I(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),cp(),nt=i,De=o=as(i.current,null),je=r,$e=0,Dn=null,Ws=!1,wo=zr(i,r),ip=!1,So=$n=sp=pa=Zs=yt=0,En=fu=null,rp=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var d=31-sn(u),g=1<<d;r|=i[d],u&=~g}return ys=r,uh(),o}function TT(i,r){Ce=null,W.H=Ch,r===Xl||r===_h?(r=Lv(),$e=3):r===Ov?(r=Lv(),$e=4):$e=r===U0?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Dn=r,De===null&&(yt=1,Mh(i,Fn(r,i.current)))}function ET(){var i=W.H;return W.H=Ch,i===null?Ch:i}function bT(){var i=W.A;return W.A=ZC,i}function hp(){yt=4,Ws||(je&4194048)!==je&&Kn.current!==null||(wo=!0),(Zs&134217727)===0&&(pa&134217727)===0||nt===null||tr(nt,je,$n,!1)}function fp(i,r,o){var u=Ke;Ke|=2;var d=ET(),g=bT();(nt!==i||je!==r)&&(Bh=null,Ro(i,r)),r=!1;var b=yt;e:do try{if($e!==0&&De!==null){var S=De,N=Dn;switch($e){case 8:cp(),b=6;break e;case 3:case 2:case 9:case 6:Kn.current===null&&(r=!0);var $=$e;if($e=0,Dn=null,Co(i,S,N,$),o&&wo){b=0;break e}break;default:$=$e,$e=0,Dn=null,Co(i,S,N,$)}}tI(),b=yt;break}catch(Z){TT(i,Z)}while(!0);return r&&i.shellSuspendCounter++,us=ua=null,Ke=u,W.H=d,W.A=g,De===null&&(nt=null,je=0,uh()),b}function tI(){for(;De!==null;)wT(De)}function nI(i,r){var o=Ke;Ke|=2;var u=ET(),d=bT();nt!==i||je!==r?(Bh=null,jh=kn()+500,Ro(i,r)):wo=zr(i,r);e:do try{if($e!==0&&De!==null){r=De;var g=Dn;t:switch($e){case 1:$e=0,Dn=null,Co(i,r,g,1);break;case 2:case 9:if(Vv(g)){$e=0,Dn=null,ST(r);break}r=function(){$e!==2&&$e!==9||nt!==i||($e=7),Di(i)},g.then(r,r);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:Vv(g)?($e=0,Dn=null,ST(r)):($e=0,Dn=null,Co(i,r,g,7));break;case 5:var b=null;switch(De.tag){case 26:b=De.memoizedState;case 5:case 27:var S=De;if(!b||rE(b)){$e=0,Dn=null;var N=S.sibling;if(N!==null)De=N;else{var $=S.return;$!==null?(De=$,Fh($)):De=null}break t}}$e=0,Dn=null,Co(i,r,g,5);break;case 6:$e=0,Dn=null,Co(i,r,g,6);break;case 8:cp(),yt=6;break e;default:throw Error(s(462))}}iI();break}catch(Z){TT(i,Z)}while(!0);return us=ua=null,W.H=u,W.A=d,Ke=o,De!==null?0:(nt=null,je=0,uh(),yt)}function iI(){for(;De!==null&&!_l();)wT(De)}function wT(i){var r=Q0(i.alternate,i,ys);i.memoizedProps=i.pendingProps,r===null?Fh(i):De=r}function ST(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=H0(o,r,r.pendingProps,r.type,void 0,je);break;case 11:r=H0(o,r,r.pendingProps,r.type.render,r.ref,je);break;case 5:Rm(r);default:Z0(o,r),r=De=Av(r,ys),r=Q0(o,r,ys)}i.memoizedProps=i.pendingProps,r===null?Fh(i):De=r}function Co(i,r,o,u){us=ua=null,Rm(r),vo=null,su=0;var d=r.return;try{if(KC(i,d,r,o,je)){yt=1,Mh(i,Fn(o,i.current)),De=null;return}}catch(g){if(d!==null)throw De=d,g;yt=1,Mh(i,Fn(o,i.current)),De=null;return}r.flags&32768?(Fe||u===1?i=!0:wo||(je&536870912)!==0?i=!1:(Ws=i=!0,(u===2||u===9||u===3||u===6)&&(u=Kn.current,u!==null&&u.tag===13&&(u.flags|=16384))),AT(r,i)):Fh(r)}function Fh(i){var r=i;do{if((r.flags&32768)!==0){AT(r,Ws);return}i=r.return;var o=YC(r.alternate,r,ys);if(o!==null){De=o;return}if(r=r.sibling,r!==null){De=r;return}De=r=i}while(r!==null);yt===0&&(yt=5)}function AT(i,r){do{var o=XC(i.alternate,i);if(o!==null){o.flags&=32767,De=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){De=i;return}De=i=o}while(i!==null);yt=6,De=null}function xT(i,r,o,u,d,g,b,S,N){i.cancelPendingCommit=null;do qh();while(Wt!==0);if((Ke&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=nm,Sl(i,o,g,b,S,N),i===nt&&(De=nt=null,je=0),Ao=r,er=i,xo=o,op=g,lp=d,gT=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,oI(Lr,function(){return DT(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,d=ae.p,ae.p=2,b=Ke,Ke|=4;try{QC(i,r,o)}finally{Ke=b,ae.p=d,W.T=u}}Wt=1,RT(),CT(),IT()}}function RT(){if(Wt===1){Wt=0;var i=er,r=Ao,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var u=ae.p;ae.p=2;var d=Ke;Ke|=4;try{uT(r,i);var g=Sp,b=pv(i.containerInfo),S=g.focusedElem,N=g.selectionRange;if(b!==S&&S&&S.ownerDocument&&mv(S.ownerDocument.documentElement,S)){if(N!==null&&Wd(S)){var $=N.start,Z=N.end;if(Z===void 0&&(Z=$),"selectionStart"in S)S.selectionStart=$,S.selectionEnd=Math.min(Z,S.value.length);else{var ne=S.ownerDocument||document,Y=ne&&ne.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),be=S.textContent.length,_e=Math.min(N.start,be),Ze=N.end===void 0?_e:Math.min(N.end,be);!X.extend&&_e>Ze&&(b=Ze,Ze=_e,_e=b);var z=dv(S,_e),j=dv(S,Ze);if(z&&j&&(X.rangeCount!==1||X.anchorNode!==z.node||X.anchorOffset!==z.offset||X.focusNode!==j.node||X.focusOffset!==j.offset)){var K=ne.createRange();K.setStart(z.node,z.offset),X.removeAllRanges(),_e>Ze?(X.addRange(K),X.extend(j.node,j.offset)):(K.setEnd(j.node,j.offset),X.addRange(K))}}}}for(ne=[],X=S;X=X.parentNode;)X.nodeType===1&&ne.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ne.length;S++){var ee=ne[S];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}tf=!!wp,Sp=wp=null}finally{Ke=d,ae.p=u,W.T=o}}i.current=r,Wt=2}}function CT(){if(Wt===2){Wt=0;var i=er,r=Ao,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var u=ae.p;ae.p=2;var d=Ke;Ke|=4;try{rT(i,r.alternate,r)}finally{Ke=d,ae.p=u,W.T=o}}Wt=3}}function IT(){if(Wt===4||Wt===3){Wt=0,Uc();var i=er,r=Ao,o=xo,u=gT;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Wt=5:(Wt=0,Ao=er=null,NT(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(Js=null),Ha(o),r=r.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(pt,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=W.T,d=ae.p,ae.p=2,W.T=null;try{for(var g=i.onRecoverableError,b=0;b<u.length;b++){var S=u[b];g(S.value,{componentStack:S.stack})}}finally{W.T=r,ae.p=d}}(xo&3)!==0&&qh(),Di(i),d=i.pendingLanes,(o&4194090)!==0&&(d&42)!==0?i===up?du++:(du=0,up=i):du=0,mu(0)}}function NT(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,$l(r)))}function qh(i){return RT(),CT(),IT(),DT()}function DT(){if(Wt!==5)return!1;var i=er,r=op;op=0;var o=Ha(xo),u=W.T,d=ae.p;try{ae.p=32>o?32:o,W.T=null,o=lp,lp=null;var g=er,b=xo;if(Wt=0,Ao=er=null,xo=0,(Ke&6)!==0)throw Error(s(331));var S=Ke;if(Ke|=4,mT(g.current),hT(g,g.current,b,o),Ke=S,mu(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(pt,g)}catch{}return!0}finally{ae.p=d,W.T=u,NT(i,r)}}function PT(i,r,o){r=Fn(o,r),r=zm(i.stateNode,r,2),i=Hs(i,r,2),i!==null&&(Xi(i,2),Di(i))}function Je(i,r,o){if(i.tag===3)PT(i,i,o);else for(;r!==null;){if(r.tag===3){PT(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Js===null||!Js.has(u))){i=Fn(o,i),o=k0(2),u=Hs(r,o,2),u!==null&&(L0(o,u,r,i),Xi(u,2),Di(u));break}}r=r.return}}function dp(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new JC;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(o)||(ip=!0,d.add(o),i=sI.bind(null,i,r,o),r.then(i,i))}function sI(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,nt===i&&(je&o)===o&&(yt===4||yt===3&&(je&62914560)===je&&300>kn()-ap?(Ke&2)===0&&Ro(i,0):sp|=o,So===je&&(So=0)),Di(i)}function MT(i,r){r===0&&(r=wl()),i=lo(i,r),i!==null&&(Xi(i,r),Di(i))}function rI(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),MT(i,o)}function aI(i,r){var o=0;switch(i.tag){case 13:var u=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),MT(i,o)}function oI(i,r){return Vr(i,r)}var Hh=null,Io=null,mp=!1,Gh=!1,pp=!1,ga=0;function Di(i){i!==Io&&i.next===null&&(Io===null?Hh=Io=i:Io=Io.next=i),Gh=!0,mp||(mp=!0,uI())}function mu(i,r){if(!pp&&Gh){pp=!0;do for(var o=!1,u=Hh;u!==null;){if(i!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var b=u.suspendedLanes,S=u.pingedLanes;g=(1<<31-sn(42|i)+1)-1,g&=d&~(b&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,LT(u,g))}else g=je,g=qa(u,u===nt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||zr(u,g)||(o=!0,LT(u,g));u=u.next}while(o);pp=!1}}function lI(){OT()}function OT(){Gh=mp=!1;var i=0;ga!==0&&(yI()&&(i=ga),ga=0);for(var r=kn(),o=null,u=Hh;u!==null;){var d=u.next,g=VT(u,r);g===0?(u.next=null,o===null?Hh=d:o.next=d,d===null&&(Io=o)):(o=u,(i!==0||(g&3)!==0)&&(Gh=!0)),u=d}mu(i)}function VT(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var b=31-sn(g),S=1<<b,N=d[b];N===-1?((S&o)===0||(S&u)!==0)&&(d[b]=El(S,r)):N<=r&&(i.expiredLanes|=S),g&=~S}if(r=nt,o=je,o=qa(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&($e===2||$e===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&kr(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||zr(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&kr(u),Ha(o)){case 2:case 8:o=za;break;case 32:o=Lr;break;case 268435456:o=Fa;break;default:o=Lr}return u=kT.bind(null,i),o=Vr(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&kr(u),i.callbackPriority=2,i.callbackNode=null,2}function kT(i,r){if(Wt!==0&&Wt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(qh()&&i.callbackNode!==o)return null;var u=je;return u=qa(i,i===nt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(_T(i,u,r),VT(i,kn()),i.callbackNode!=null&&i.callbackNode===o?kT.bind(null,i):null)}function LT(i,r){if(qh())return null;_T(i,r,!0)}function uI(){vI(function(){(Ke&6)!==0?Vr(vl,lI):OT()})}function gp(){return ga===0&&(ga=bl()),ga}function UT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Qa(""+i)}function jT(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function cI(i,r,o,u,d){if(r==="submit"&&o&&o.stateNode===d){var g=UT((d[At]||null).action),b=u.submitter;b&&(r=(r=b[At]||null)?UT(r.formAction):b.getAttribute("formAction"),r!==null&&(g=r,b=null));var S=new Wa("action","action",null,u,d);i.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ga!==0){var N=b?jT(d,b):new FormData(d);km(o,{pending:!0,data:N,method:d.method,action:g},null,N)}}else typeof g=="function"&&(S.preventDefault(),N=b?jT(d,b):new FormData(d),km(o,{pending:!0,data:N,method:d.method,action:g},g,N))},currentTarget:d}]})}}for(var yp=0;yp<tm.length;yp++){var _p=tm[yp],hI=_p.toLowerCase(),fI=_p[0].toUpperCase()+_p.slice(1);ii(hI,"on"+fI)}ii(_v,"onAnimationEnd"),ii(vv,"onAnimationIteration"),ii(Tv,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(IC,"onTransitionRun"),ii(NC,"onTransitionStart"),ii(DC,"onTransitionCancel"),ii(Ev,"onTransitionEnd"),Wi("onMouseEnter",["mouseout","mouseover"]),Wi("onMouseLeave",["mouseout","mouseover"]),Wi("onPointerEnter",["pointerout","pointerover"]),Wi("onPointerLeave",["pointerout","pointerover"]),ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pu));function BT(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],d=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var b=u.length-1;0<=b;b--){var S=u[b],N=S.instance,$=S.currentTarget;if(S=S.listener,N!==g&&d.isPropagationStopped())break e;g=S,d.currentTarget=$;try{g(d)}catch(Z){Ph(Z)}d.currentTarget=null,g=N}else for(b=0;b<u.length;b++){if(S=u[b],N=S.instance,$=S.currentTarget,S=S.listener,N!==g&&d.isPropagationStopped())break e;g=S,d.currentTarget=$;try{g(d)}catch(Z){Ph(Z)}d.currentTarget=null,g=N}}}}function Pe(i,r){var o=r[xl];o===void 0&&(o=r[xl]=new Set);var u=i+"__bubble";o.has(u)||(zT(r,i,2,!1),o.add(u))}function vp(i,r,o){var u=0;r&&(u|=4),zT(o,i,u,r)}var Kh="_reactListening"+Math.random().toString(36).slice(2);function Tp(i){if(!i[Kh]){i[Kh]=!0,Rl.forEach(function(o){o!=="selectionchange"&&(dI.has(o)||vp(o,!1,i),vp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Kh]||(r[Kh]=!0,vp("selectionchange",!1,r))}}function zT(i,r,o,u){switch(hE(r)){case 2:var d=BI;break;case 8:d=zI;break;default:d=Op}o=d.bind(null,r,o,i),d=void 0,!Bn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?i.addEventListener(r,o,{capture:!0,passive:d}):i.addEventListener(r,o,!0):d!==void 0?i.addEventListener(r,o,{passive:d}):i.addEventListener(r,o,!1)}function Ep(i,r,o,u,d){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var S=u.stateNode.containerInfo;if(S===d)break;if(b===4)for(b=u.return;b!==null;){var N=b.tag;if((N===3||N===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;S!==null;){if(b=Qi(S),b===null)return;if(N=b.tag,N===5||N===6||N===26||N===27){u=g=b;continue e}S=S.parentNode}}u=u.return}Yc(function(){var $=g,Z=jn(o),ne=[];e:{var Y=bv.get(i);if(Y!==void 0){var X=Wa,be=i;switch(i){case"keypress":if(bi(o)===0)break e;case"keydown":case"keyup":X=io;break;case"focusin":be="focus",X=eo;break;case"focusout":be="blur",X=eo;break;case"beforeblur":case"afterblur":X=eo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=$d;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=nh;break;case _v:case vv:case Tv:X=to;break;case Ev:X=sh;break;case"scroll":case"scrollend":X=Xc;break;case"wheel":X=so;break;case"copy":case"cut":case"paste":X=no;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=jl;break;case"toggle":case"beforetoggle":X=ah}var _e=(r&4)!==0,Ze=!_e&&(i==="scroll"||i==="scrollend"),z=_e?Y!==null?Y+"Capture":null:Y;_e=[];for(var j=$,K;j!==null;){var ee=j;if(K=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||K===null||z===null||(ee=Xr(j,z),ee!=null&&_e.push(gu(j,ee,K))),Ze)break;j=j.return}0<_e.length&&(Y=new X(Y,be,null,o,Z),ne.push({event:Y,listeners:_e}))}}if((r&7)===0){e:{if(Y=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",Y&&o!==es&&(be=o.relatedTarget||o.fromElement)&&(Qi(be)||be[Ln]))break e;if((X||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(be=o.relatedTarget||o.toElement,X=$,be=be?Qi(be):null,be!==null&&(Ze=l(be),_e=be.tag,be!==Ze||_e!==5&&_e!==27&&_e!==6)&&(be=null)):(X=null,be=$),X!==be)){if(_e=zn,ee="onMouseLeave",z="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(_e=jl,ee="onPointerLeave",z="onPointerEnter",j="pointer"),Ze=X==null?Y:_i(X),K=be==null?Y:_i(be),Y=new _e(ee,j+"leave",X,o,Z),Y.target=Ze,Y.relatedTarget=K,ee=null,Qi(Z)===$&&(_e=new _e(z,j+"enter",be,o,Z),_e.target=K,_e.relatedTarget=Ze,ee=_e),Ze=ee,X&&be)t:{for(_e=X,z=be,j=0,K=_e;K;K=No(K))j++;for(K=0,ee=z;ee;ee=No(ee))K++;for(;0<j-K;)_e=No(_e),j--;for(;0<K-j;)z=No(z),K--;for(;j--;){if(_e===z||z!==null&&_e===z.alternate)break t;_e=No(_e),z=No(z)}_e=null}else _e=null;X!==null&&FT(ne,Y,X,_e,!1),be!==null&&Ze!==null&&FT(ne,Ze,be,_e,!0)}}e:{if(Y=$?_i($):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var me=ov;else if(kt(Y))if(lv)me=xC;else{me=SC;var Ne=wC}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?$&&Pl($.elementType)&&(me=ov):me=AC;if(me&&(me=me(i,$))){rs(ne,me,o,Z);break e}Ne&&Ne(i,Y,$),i==="focusout"&&$&&Y.type==="number"&&$.memoizedProps.value!=null&&js(Y,"number",Y.value)}switch(Ne=$?_i($):window,i){case"focusin":(kt(Ne)||Ne.contentEditable==="true")&&(ro=Ne,Zd=$,Fl=null);break;case"focusout":Fl=Zd=ro=null;break;case"mousedown":Jd=!0;break;case"contextmenu":case"mouseup":case"dragend":Jd=!1,gv(ne,o,Z);break;case"selectionchange":if(CC)break;case"keydown":case"keyup":gv(ne,o,Z)}var pe;if(Ai)e:{switch(i){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Le?Q(i,o)&&(ve="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(ve="onCompositionStart");ve&&(T&&o.locale!=="ko"&&(Le||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Le&&(pe=Ol()):(Ei=Z,Bs="value"in Ei?Ei.value:Ei.textContent,Le=!0)),Ne=$h($,ve),0<Ne.length&&(ve=new Ll(ve,i,null,o,Z),ne.push({event:ve,listeners:Ne}),pe?ve.data=pe:(pe=ue(o),pe!==null&&(ve.data=pe)))),(pe=_?Vt(i,o):Ue(i,o))&&(ve=$h($,"onBeforeInput"),0<ve.length&&(Ne=new Ll("onBeforeInput","beforeinput",null,o,Z),ne.push({event:Ne,listeners:ve}),Ne.data=pe)),cI(ne,i,$,o,Z)}BT(ne,r)})}function gu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function $h(i,r){for(var o=r+"Capture",u=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=Xr(i,o),d!=null&&u.unshift(gu(i,d,g)),d=Xr(i,r),d!=null&&u.push(gu(i,d,g))),i.tag===3)return u;i=i.return}return[]}function No(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function FT(i,r,o,u,d){for(var g=r._reactName,b=[];o!==null&&o!==u;){var S=o,N=S.alternate,$=S.stateNode;if(S=S.tag,N!==null&&N===u)break;S!==5&&S!==26&&S!==27||$===null||(N=$,d?($=Xr(o,g),$!=null&&b.unshift(gu(o,$,N))):d||($=Xr(o,g),$!=null&&b.push(gu(o,$,N)))),o=o.return}b.length!==0&&i.push({event:r,listeners:b})}var mI=/\r\n?/g,pI=/\u0000|\uFFFD/g;function qT(i){return(typeof i=="string"?i:""+i).replace(mI,`
`).replace(pI,"")}function HT(i,r){return r=qT(r),qT(i)===r}function Yh(){}function We(i,r,o,u,d,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Un(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Un(i,""+u);break;case"className":vi(i,"class",u);break;case"tabIndex":vi(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":vi(i,o,u);break;case"style":Dl(i,u,g);break;case"data":if(r!=="object"){vi(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Qa(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&We(i,r,"name",d.name,d,null),We(i,r,"formEncType",d.formEncType,d,null),We(i,r,"formMethod",d.formMethod,d,null),We(i,r,"formTarget",d.formTarget,d,null)):(We(i,r,"encType",d.encType,d,null),We(i,r,"method",d.method,d,null),We(i,r,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Qa(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Yh);break;case"onScroll":u!=null&&Pe("scroll",i);break;case"onScrollEnd":u!=null&&Pe("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Qa(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Pe("beforetoggle",i),Pe("toggle",i),Us(i,"popover",u);break;case"xlinkActuate":Yt(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Yt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Yt(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Yt(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Yt(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Yt(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Yt(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Yt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Yt(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Us(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Gd.get(o)||o,Us(i,o,u))}}function bp(i,r,o,u,d,g){switch(o){case"style":Dl(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Un(i,u):(typeof u=="number"||typeof u=="bigint")&&Un(i,""+u);break;case"onScroll":u!=null&&Pe("scroll",i);break;case"onScrollEnd":u!=null&&Pe("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Yh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ga.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),r=o.slice(2,d?o.length-7:void 0),g=i[At]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,d);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Us(i,o,u)}}}function Zt(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",i),Pe("load",i);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(i,r,g,b,o,null)}}d&&We(i,r,"srcSet",o.srcSet,o,null),u&&We(i,r,"src",o.src,o,null);return;case"input":Pe("invalid",i);var S=g=b=d=null,N=null,$=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":d=Z;break;case"type":b=Z;break;case"checked":N=Z;break;case"defaultChecked":$=Z;break;case"value":g=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:We(i,r,u,Z,o,null)}}Kr(i,g,S,N,$,b,d,!1),Xa(i);return;case"select":Pe("invalid",i),u=b=g=null;for(d in o)if(o.hasOwnProperty(d)&&(S=o[d],S!=null))switch(d){case"value":g=S;break;case"defaultValue":b=S;break;case"multiple":u=S;default:We(i,r,d,S,o,null)}r=g,o=b,i.multiple=!!u,r!=null?Ji(i,!!u,r,!1):o!=null&&Ji(i,!!u,o,!0);return;case"textarea":Pe("invalid",i),g=d=u=null;for(b in o)if(o.hasOwnProperty(b)&&(S=o[b],S!=null))switch(b){case"value":u=S;break;case"defaultValue":d=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:We(i,r,b,S,o,null)}$r(i,u,d,g),Xa(i);return;case"option":for(N in o)if(o.hasOwnProperty(N)&&(u=o[N],u!=null))switch(N){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:We(i,r,N,u,o,null)}return;case"dialog":Pe("beforetoggle",i),Pe("toggle",i),Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":Pe("load",i);break;case"video":case"audio":for(u=0;u<pu.length;u++)Pe(pu[u],i);break;case"image":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"embed":case"source":case"link":Pe("error",i),Pe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(u=o[$],u!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(i,r,$,u,o,null)}return;default:if(Pl(r)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&bp(i,r,Z,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&We(i,r,S,u,o,null))}function gI(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,b=null,S=null,N=null,$=null,Z=null;for(X in o){var ne=o[X];if(o.hasOwnProperty(X)&&ne!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":N=ne;default:u.hasOwnProperty(X)||We(i,r,X,null,u,ne)}}for(var Y in u){var X=u[Y];if(ne=o[Y],u.hasOwnProperty(Y)&&(X!=null||ne!=null))switch(Y){case"type":g=X;break;case"name":d=X;break;case"checked":$=X;break;case"defaultChecked":Z=X;break;case"value":b=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==ne&&We(i,r,Y,X,u,ne)}}xn(i,b,S,N,$,Z,g,d);return;case"select":X=b=S=Y=null;for(g in o)if(N=o[g],o.hasOwnProperty(g)&&N!=null)switch(g){case"value":break;case"multiple":X=N;default:u.hasOwnProperty(g)||We(i,r,g,null,u,N)}for(d in u)if(g=u[d],N=o[d],u.hasOwnProperty(d)&&(g!=null||N!=null))switch(d){case"value":Y=g;break;case"defaultValue":S=g;break;case"multiple":b=g;default:g!==N&&We(i,r,d,g,u,N)}r=S,o=b,u=X,Y!=null?Ji(i,!!o,Y,!1):!!u!=!!o&&(r!=null?Ji(i,!!o,r,!0):Ji(i,!!o,o?[]:"",!1));return;case"textarea":X=Y=null;for(S in o)if(d=o[S],o.hasOwnProperty(S)&&d!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:We(i,r,S,null,u,d)}for(b in u)if(d=u[b],g=o[b],u.hasOwnProperty(b)&&(d!=null||g!=null))switch(b){case"value":Y=d;break;case"defaultValue":X=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==g&&We(i,r,b,d,u,g)}Xe(i,Y,X);return;case"option":for(var be in o)if(Y=o[be],o.hasOwnProperty(be)&&Y!=null&&!u.hasOwnProperty(be))switch(be){case"selected":i.selected=!1;break;default:We(i,r,be,null,u,Y)}for(N in u)if(Y=u[N],X=o[N],u.hasOwnProperty(N)&&Y!==X&&(Y!=null||X!=null))switch(N){case"selected":i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:We(i,r,N,Y,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in o)Y=o[_e],o.hasOwnProperty(_e)&&Y!=null&&!u.hasOwnProperty(_e)&&We(i,r,_e,null,u,Y);for($ in u)if(Y=u[$],X=o[$],u.hasOwnProperty($)&&Y!==X&&(Y!=null||X!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:We(i,r,$,Y,u,X)}return;default:if(Pl(r)){for(var Ze in o)Y=o[Ze],o.hasOwnProperty(Ze)&&Y!==void 0&&!u.hasOwnProperty(Ze)&&bp(i,r,Ze,void 0,u,Y);for(Z in u)Y=u[Z],X=o[Z],!u.hasOwnProperty(Z)||Y===X||Y===void 0&&X===void 0||bp(i,r,Z,Y,u,X);return}}for(var z in o)Y=o[z],o.hasOwnProperty(z)&&Y!=null&&!u.hasOwnProperty(z)&&We(i,r,z,null,u,Y);for(ne in u)Y=u[ne],X=o[ne],!u.hasOwnProperty(ne)||Y===X||Y==null&&X==null||We(i,r,ne,Y,u,X)}var wp=null,Sp=null;function Xh(i){return i.nodeType===9?i:i.ownerDocument}function GT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function KT(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Ap(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var xp=null;function yI(){var i=window.event;return i&&i.type==="popstate"?i===xp?!1:(xp=i,!0):(xp=null,!1)}var $T=typeof setTimeout=="function"?setTimeout:void 0,_I=typeof clearTimeout=="function"?clearTimeout:void 0,YT=typeof Promise=="function"?Promise:void 0,vI=typeof queueMicrotask=="function"?queueMicrotask:typeof YT<"u"?function(i){return YT.resolve(null).then(i).catch(TI)}:$T;function TI(i){setTimeout(function(){throw i})}function nr(i){return i==="head"}function XT(i,r){var o=r,u=0,d=0;do{var g=o.nextSibling;if(i.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var b=i.ownerDocument;if(o&1&&yu(b.documentElement),o&2&&yu(b.body),o&4)for(o=b.head,yu(o),b=o.firstChild;b;){var S=b.nextSibling,N=b.nodeName;b[Fr]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&b.rel.toLowerCase()==="stylesheet"||o.removeChild(b),b=S}}if(d===0){i.removeChild(g),Au(r);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);Au(r)}function Rp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Rp(o),Ls(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function EI(i,r,o,u){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Fr])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=ri(i.nextSibling),i===null)break}return null}function bI(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ri(i.nextSibling),i===null))return null;return i}function Cp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function wI(i,r){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function ri(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var Ip=null;function QT(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return i;r--}else o==="/$"&&r++}i=i.previousSibling}return null}function WT(i,r,o){switch(r=Xh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function yu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Ls(i)}var Yn=new Map,ZT=new Set;function Qh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var _s=ae.d;ae.d={f:SI,r:AI,D:xI,C:RI,L:CI,m:II,X:DI,S:NI,M:PI};function SI(){var i=_s.f(),r=zh();return i||r}function AI(i){var r=yi(i);r!==null&&r.tag===5&&r.type==="form"?_0(r):_s.r(i)}var Do=typeof document>"u"?null:document;function JT(i,r,o){var u=Do;if(u&&typeof r=="string"&&r){var d=xt(r);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),ZT.has(d)||(ZT.add(d),i={rel:i,crossOrigin:o,href:r},u.querySelector(d)===null&&(r=u.createElement("link"),Zt(r,"link",i),vt(r),u.head.appendChild(r)))}}function xI(i){_s.D(i),JT("dns-prefetch",i,null)}function RI(i,r){_s.C(i,r),JT("preconnect",i,r)}function CI(i,r,o){_s.L(i,r,o);var u=Do;if(u&&i&&r){var d='link[rel="preload"][as="'+xt(r)+'"]';r==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+xt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+xt(o.imageSizes)+'"]')):d+='[href="'+xt(i)+'"]';var g=d;switch(r){case"style":g=Po(i);break;case"script":g=Mo(i)}Yn.has(g)||(i=y({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Yn.set(g,i),u.querySelector(d)!==null||r==="style"&&u.querySelector(_u(g))||r==="script"&&u.querySelector(vu(g))||(r=u.createElement("link"),Zt(r,"link",i),vt(r),u.head.appendChild(r)))}}function II(i,r){_s.m(i,r);var o=Do;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+xt(u)+'"][href="'+xt(i)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Mo(i)}if(!Yn.has(g)&&(i=y({rel:"modulepreload",href:i},r),Yn.set(g,i),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(vu(g)))return}u=o.createElement("link"),Zt(u,"link",i),vt(u),o.head.appendChild(u)}}}function NI(i,r,o){_s.S(i,r,o);var u=Do;if(u&&i){var d=fn(u).hoistableStyles,g=Po(i);r=r||"default";var b=d.get(g);if(!b){var S={loading:0,preload:null};if(b=u.querySelector(_u(g)))S.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Yn.get(g))&&Np(i,o);var N=b=u.createElement("link");vt(N),Zt(N,"link",i),N._p=new Promise(function($,Z){N.onload=$,N.onerror=Z}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Wh(b,r,u)}b={type:"stylesheet",instance:b,count:1,state:S},d.set(g,b)}}}function DI(i,r){_s.X(i,r);var o=Do;if(o&&i){var u=fn(o).hoistableScripts,d=Mo(i),g=u.get(d);g||(g=o.querySelector(vu(d)),g||(i=y({src:i,async:!0},r),(r=Yn.get(d))&&Dp(i,r),g=o.createElement("script"),vt(g),Zt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function PI(i,r){_s.M(i,r);var o=Do;if(o&&i){var u=fn(o).hoistableScripts,d=Mo(i),g=u.get(d);g||(g=o.querySelector(vu(d)),g||(i=y({src:i,async:!0,type:"module"},r),(r=Yn.get(d))&&Dp(i,r),g=o.createElement("script"),vt(g),Zt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function eE(i,r,o,u){var d=(d=Se.current)?Qh(d):null;if(!d)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Po(o.href),o=fn(d).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Po(o.href);var g=fn(d).hoistableStyles,b=g.get(i);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,b),(g=d.querySelector(_u(i)))&&!g._p&&(b.instance=g,b.state.loading=5),Yn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Yn.set(i,o),g||MI(d,i,o,b.state))),r&&u===null)throw Error(s(528,""));return b}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Mo(o),o=fn(d).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Po(i){return'href="'+xt(i)+'"'}function _u(i){return'link[rel="stylesheet"]['+i+"]"}function tE(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function MI(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Zt(r,"link",o),vt(r),i.head.appendChild(r))}function Mo(i){return'[src="'+xt(i)+'"]'}function vu(i){return"script[async]"+i}function nE(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+xt(o.href)+'"]');if(u)return r.instance=u,vt(u),u;var d=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),vt(u),Zt(u,"style",d),Wh(u,o.precedence,i),r.instance=u;case"stylesheet":d=Po(o.href);var g=i.querySelector(_u(d));if(g)return r.state.loading|=4,r.instance=g,vt(g),g;u=tE(o),(d=Yn.get(d))&&Np(u,d),g=(i.ownerDocument||i).createElement("link"),vt(g);var b=g;return b._p=new Promise(function(S,N){b.onload=S,b.onerror=N}),Zt(g,"link",u),r.state.loading|=4,Wh(g,o.precedence,i),r.instance=g;case"script":return g=Mo(o.src),(d=i.querySelector(vu(g)))?(r.instance=d,vt(d),d):(u=o,(d=Yn.get(g))&&(u=y({},o),Dp(u,d)),i=i.ownerDocument||i,d=i.createElement("script"),vt(d),Zt(d,"link",u),i.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Wh(u,o.precedence,i));return r.instance}function Wh(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,b=0;b<u.length;b++){var S=u[b];if(S.dataset.precedence===r)g=S;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Np(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Dp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Zh=null;function iE(i,r,o){if(Zh===null){var u=new Map,d=Zh=new Map;d.set(o,u)}else d=Zh,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[Fr]||g[Ot]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(r)||"";b=i+b;var S=u.get(b);S?S.push(g):u.set(b,[g])}}return u}function sE(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function OI(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function rE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Tu=null;function VI(){}function kI(i,r,o){if(Tu===null)throw Error(s(475));var u=Tu;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=Po(o.href),g=i.querySelector(_u(d));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Jh.bind(u),i.then(u,u)),r.state.loading|=4,r.instance=g,vt(g);return}g=i.ownerDocument||i,o=tE(o),(d=Yn.get(d))&&Np(o,d),g=g.createElement("link"),vt(g);var b=g;b._p=new Promise(function(S,N){b.onload=S,b.onerror=N}),Zt(g,"link",o),r.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=Jh.bind(u),i.addEventListener("load",r),i.addEventListener("error",r))}}function LI(){if(Tu===null)throw Error(s(475));var i=Tu;return i.stylesheets&&i.count===0&&Pp(i,i.stylesheets),0<i.count?function(r){var o=setTimeout(function(){if(i.stylesheets&&Pp(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Jh(){if(this.count--,this.count===0){if(this.stylesheets)Pp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var ef=null;function Pp(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,ef=new Map,r.forEach(UI,i),ef=null,Jh.call(i))}function UI(i,r){if(!(r.state.loading&4)){var o=ef.get(i);if(o)var u=o.get(null);else{o=new Map,ef.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var b=d[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}d=r.instance,b=d.getAttribute("data-precedence"),g=o.get(b)||u,g===u&&o.set(null,d),o.set(b,d),this.count++,u=Jh.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),r.state.loading|=4}}var Eu={$$typeof:q,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function jI(i,r,o,u,d,g,b,S){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yi(0),this.hiddenUpdates=Yi(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function aE(i,r,o,u,d,g,b,S,N,$,Z,ne){return i=new jI(i,r,o,b,S,N,$,ne),r=1,g===!0&&(r|=24),g=Cn(3,null,null,r),i.current=g,g.stateNode=i,r=dm(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},ym(g),i}function oE(i){return i?(i=uo,i):uo}function lE(i,r,o,u,d,g){d=oE(d),u.context===null?u.context=d:u.pendingContext=d,u=qs(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Hs(i,u,r),o!==null&&(Mn(o,i,r),Wl(o,i,r))}function uE(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Mp(i,r){uE(i,r),(i=i.alternate)&&uE(i,r)}function cE(i){if(i.tag===13){var r=lo(i,67108864);r!==null&&Mn(r,i,67108864),Mp(i,67108864)}}var tf=!0;function BI(i,r,o,u){var d=W.T;W.T=null;var g=ae.p;try{ae.p=2,Op(i,r,o,u)}finally{ae.p=g,W.T=d}}function zI(i,r,o,u){var d=W.T;W.T=null;var g=ae.p;try{ae.p=8,Op(i,r,o,u)}finally{ae.p=g,W.T=d}}function Op(i,r,o,u){if(tf){var d=Vp(u);if(d===null)Ep(i,r,u,nf,o),fE(i,u);else if(qI(d,i,r,o,u))u.stopPropagation();else if(fE(i,u),r&4&&-1<FI.indexOf(i)){for(;d!==null;){var g=yi(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=ei(g.pendingLanes);if(b!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;b;){var N=1<<31-sn(b);S.entanglements[1]|=N,b&=~N}Di(g),(Ke&6)===0&&(jh=kn()+500,mu(0))}}break;case 13:S=lo(g,2),S!==null&&Mn(S,g,2),zh(),Mp(g,2)}if(g=Vp(u),g===null&&Ep(i,r,u,nf,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else Ep(i,r,u,null,o)}}function Vp(i){return i=jn(i),kp(i)}var nf=null;function kp(i){if(nf=null,i=Qi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return nf=i,null}function hE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jd()){case vl:return 2;case za:return 8;case Lr:case Bd:return 32;case Fa:return 268435456;default:return 32}default:return 32}}var Lp=!1,ir=null,sr=null,rr=null,bu=new Map,wu=new Map,ar=[],FI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fE(i,r){switch(i){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":bu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":wu.delete(r.pointerId)}}function Su(i,r,o,u,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},r!==null&&(r=yi(r),r!==null&&cE(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),i)}function qI(i,r,o,u,d){switch(r){case"focusin":return ir=Su(ir,i,r,o,u,d),!0;case"dragenter":return sr=Su(sr,i,r,o,u,d),!0;case"mouseover":return rr=Su(rr,i,r,o,u,d),!0;case"pointerover":var g=d.pointerId;return bu.set(g,Su(bu.get(g)||null,i,r,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,wu.set(g,Su(wu.get(g)||null,i,r,o,u,d)),!0}return!1}function dE(i){var r=Qi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,zc(i.priority,function(){if(o.tag===13){var u=Pn();u=Os(u);var d=lo(o,u);d!==null&&Mn(d,o,u),Mp(o,u)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function sf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Vp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);es=u,o.target.dispatchEvent(u),es=null}else return r=yi(o),r!==null&&cE(r),i.blockedOn=o,!1;r.shift()}return!0}function mE(i,r,o){sf(i)&&o.delete(r)}function HI(){Lp=!1,ir!==null&&sf(ir)&&(ir=null),sr!==null&&sf(sr)&&(sr=null),rr!==null&&sf(rr)&&(rr=null),bu.forEach(mE),wu.forEach(mE)}function rf(i,r){i.blockedOn===r&&(i.blockedOn=null,Lp||(Lp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,HI)))}var af=null;function pE(i){af!==i&&(af=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){af===i&&(af=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],d=i[r+2];if(typeof u!="function"){if(kp(u||o)===null)continue;break}var g=yi(o);g!==null&&(i.splice(r,3),r-=3,km(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function Au(i){function r(N){return rf(N,i)}ir!==null&&rf(ir,i),sr!==null&&rf(sr,i),rr!==null&&rf(rr,i),bu.forEach(r),wu.forEach(r);for(var o=0;o<ar.length;o++){var u=ar[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<ar.length&&(o=ar[0],o.blockedOn===null);)dE(o),o.blockedOn===null&&ar.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],b=d[At]||null;if(typeof g=="function")b||pE(o);else if(b){var S=null;if(g&&g.hasAttribute("formAction")){if(d=g,b=g[At]||null)S=b.formAction;else if(kp(d)!==null)continue}else S=b.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),pE(o)}}}function Up(i){this._internalRoot=i}of.prototype.render=Up.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Pn();lE(o,u,i,r,null,null)},of.prototype.unmount=Up.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;lE(i.current,2,null,i,null,null),zh(),r[Ln]=null}};function of(i){this._internalRoot=i}of.prototype.unstable_scheduleHydration=function(i){if(i){var r=Vs();i={blockedOn:null,target:i,priority:r};for(var o=0;o<ar.length&&r!==0&&r<ar[o].priority;o++);ar.splice(o,0,i),o===0&&dE(i)}};var gE=e.version;if(gE!=="19.1.0")throw Error(s(527,gE,"19.1.0"));ae.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var GI={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lf.isDisabled&&lf.supportsFiber)try{pt=lf.inject(GI),Ge=lf}catch{}}return Ru.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",d=P0,g=M0,b=O0,S=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=aE(i,1,!1,null,null,o,u,d,g,b,S,null),i[Ln]=r.current,Tp(i),new Up(r)},Ru.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,d="",g=P0,b=M0,S=O0,N=null,$=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(N=o.unstable_transitionCallbacks),o.formState!==void 0&&($=o.formState)),r=aE(i,1,!0,r,o??null,u,d,g,b,S,N,$),r.context=oE(null),o=r.current,u=Pn(),u=Os(u),d=qs(u),d.callback=null,Hs(o,d,u),o=u,r.current.lanes=o,Xi(r,o),Di(r),i[Ln]=r.current,Tp(i),new of(r)},Ru.version="19.1.0",Ru}var xE;function tN(){if(xE)return zp.exports;xE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zp.exports=eN(),zp.exports}var nN=tN();/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sN=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),RE=t=>{const e=sN(t);return e.charAt(0).toUpperCase()+e.slice(1)},IS=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),rN=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...f},m)=>k.createElement("svg",{ref:m,...aN,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:IS("lucide",a),...!l&&!rN(f)&&{"aria-hidden":"true"},...f},[...c.map(([p,y])=>k.createElement(p,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=(t,e)=>{const n=k.forwardRef(({className:s,...a},l)=>k.createElement(oN,{ref:l,iconNode:e,className:IS(`lucide-${iN(RE(t))}`,`lucide-${t}`,s),...a}));return n.displayName=RE(t),n};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],uN=_n("arrow-up",lN);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ju=_n("book-open",cN);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],fN=_n("circle-check-big",hN);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],mN=_n("circle-plus",dN);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],gN=_n("clock",pN);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],NS=_n("credit-card",yN);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],vN=_n("mail",_N);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],EN=_n("map-pin",TN);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],wN=_n("menu",bN);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],AN=_n("phone",SN);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],DS=_n("repeat",xN);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],PS=_n("share-2",RN);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],MS=_n("star",CN);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],OS=_n("user-plus",IN);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],DN=_n("x",NN),yy=k.createContext({});function _y(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const vy=typeof window<"u",VS=vy?k.useLayoutEffect:k.useEffect,fd=k.createContext(null);function Ty(t,e){t.indexOf(e)===-1&&t.push(e)}function Ey(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const As=(t,e,n)=>n>e?e:n<t?t:n;let by=()=>{};const xs={},kS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function LS(t){return typeof t=="object"&&t!==null}const US=t=>/^0[^.\s]+$/u.test(t);function wy(t){let e;return()=>(e===void 0&&(e=t()),e)}const Jn=t=>t,PN=(t,e)=>n=>e(t(n)),yc=(...t)=>t.reduce(PN),Zu=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Sy{constructor(){this.subscriptions=[]}add(e){return Ty(this.subscriptions,e),()=>Ey(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Oi=t=>t*1e3,Vi=t=>t/1e3;function jS(t,e){return e?t*(1e3/e):0}const BS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,MN=1e-7,ON=12;function VN(t,e,n,s,a){let l,c,f=0;do c=e+(n-e)/2,l=BS(c,s,a)-t,l>0?n=c:e=c;while(Math.abs(l)>MN&&++f<ON);return c}function _c(t,e,n,s){if(t===e&&n===s)return Jn;const a=l=>VN(l,0,1,t,n);return l=>l===0||l===1?l:BS(a(l),e,s)}const zS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,FS=t=>e=>1-t(1-e),qS=_c(.33,1.53,.69,.99),Ay=FS(qS),HS=zS(Ay),GS=t=>(t*=2)<1?.5*Ay(t):.5*(2-Math.pow(2,-10*(t-1))),xy=t=>1-Math.sin(Math.acos(t)),KS=FS(xy),$S=zS(xy),kN=_c(.42,0,1,1),LN=_c(0,0,.58,1),YS=_c(.42,0,.58,1),UN=t=>Array.isArray(t)&&typeof t[0]!="number",XS=t=>Array.isArray(t)&&typeof t[0]=="number",jN={linear:Jn,easeIn:kN,easeInOut:YS,easeOut:LN,circIn:xy,circInOut:$S,circOut:KS,backIn:Ay,backInOut:HS,backOut:qS,anticipate:GS},BN=t=>typeof t=="string",CE=t=>{if(XS(t)){by(t.length===4);const[e,n,s,a]=t;return _c(e,n,s,a)}else if(BN(t))return jN[t];return t},uf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],IE={value:null};function zN(t,e){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1},m=0;function p(v){c.has(v)&&(y.schedule(v),t()),m++,v(f)}const y={schedule:(v,E=!1,A=!1)=>{const O=A&&a?n:s;return E&&c.add(v),O.has(v)||O.add(v),v},cancel:v=>{s.delete(v),c.delete(v)},process:v=>{if(f=v,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(p),e&&IE.value&&IE.value.frameloop[e].push(m),m=0,n.clear(),a=!1,l&&(l=!1,y.process(v))}};return y}const FN=40;function QS(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=uf.reduce((q,se)=>(q[se]=zN(l,e?se:void 0),q),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:y,update:v,preRender:E,render:A,postRender:C}=c,O=()=>{const q=xs.useManualTiming?a.timestamp:performance.now();n=!1,xs.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(q-a.timestamp,FN),1)),a.timestamp=q,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),y.process(a),v.process(a),E.process(a),A.process(a),C.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(O))},D=()=>{n=!0,s=!0,a.isProcessing||t(O)};return{schedule:uf.reduce((q,se)=>{const J=c[se];return q[se]=(le,P=!1,R=!1)=>(n||D(),J.schedule(le,P,R)),q},{}),cancel:q=>{for(let se=0;se<uf.length;se++)c[uf[se]].cancel(q)},state:a,steps:c}}const{schedule:ft,cancel:Tr,state:Jt,steps:Gp}=QS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Jn,!0);let wf;function qN(){wf=void 0}const Sn={now:()=>(wf===void 0&&Sn.set(Jt.isProcessing||xs.useManualTiming?Jt.timestamp:performance.now()),wf),set:t=>{wf=t,queueMicrotask(qN)}},WS=t=>e=>typeof e=="string"&&e.startsWith(t),Ry=WS("--"),HN=WS("var(--"),Cy=t=>HN(t)?GN.test(t.split("/*")[0].trim()):!1,GN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,rl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ju={...rl,transform:t=>As(0,1,t)},cf={...rl,default:1},Bu=t=>Math.round(t*1e5)/1e5,Iy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function KN(t){return t==null}const $N=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ny=(t,e)=>n=>!!(typeof n=="string"&&$N.test(n)&&n.startsWith(t)||e&&!KN(n)&&Object.prototype.hasOwnProperty.call(n,e)),ZS=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,f]=s.match(Iy);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},YN=t=>As(0,255,t),Kp={...rl,transform:t=>Math.round(YN(t))},Ta={test:Ny("rgb","red"),parse:ZS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Kp.transform(t)+", "+Kp.transform(e)+", "+Kp.transform(n)+", "+Bu(Ju.transform(s))+")"};function XN(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Eg={test:Ny("#"),parse:XN,transform:Ta.transform},vc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ur=vc("deg"),ki=vc("%"),we=vc("px"),QN=vc("vh"),WN=vc("vw"),NE={...ki,parse:t=>ki.parse(t)/100,transform:t=>ki.transform(t*100)},Bo={test:Ny("hsl","hue"),parse:ZS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+ki.transform(Bu(e))+", "+ki.transform(Bu(n))+", "+Bu(Ju.transform(s))+")"},Nt={test:t=>Ta.test(t)||Eg.test(t)||Bo.test(t),parse:t=>Ta.test(t)?Ta.parse(t):Bo.test(t)?Bo.parse(t):Eg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ta.transform(t):Bo.transform(t),getAnimatableNone:t=>{const e=Nt.parse(t);return e.alpha=0,Nt.transform(e)}},ZN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function JN(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Iy))==null?void 0:e.length)||0)+(((n=t.match(ZN))==null?void 0:n.length)||0)>0}const JS="number",eA="color",e2="var",t2="var(",DE="${}",n2=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ec(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(n2,m=>(Nt.test(m)?(s.color.push(l),a.push(eA),n.push(Nt.parse(m))):m.startsWith(t2)?(s.var.push(l),a.push(e2),n.push(m)):(s.number.push(l),a.push(JS),n.push(parseFloat(m))),++l,DE)).split(DE);return{values:n,split:f,indexes:s,types:a}}function tA(t){return ec(t).values}function nA(t){const{split:e,types:n}=ec(t),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const f=n[c];f===JS?l+=Bu(a[c]):f===eA?l+=Nt.transform(a[c]):l+=a[c]}return l}}const i2=t=>typeof t=="number"?0:Nt.test(t)?Nt.getAnimatableNone(t):t;function s2(t){const e=tA(t);return nA(t)(e.map(i2))}const Er={test:JN,parse:tA,createTransformer:nA,getAnimatableNone:s2};function $p(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function r2({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const f=n<.5?n*(1+e):n+e-n*e,m=2*n-f;a=$p(m,f,t+1/3),l=$p(m,f,t),c=$p(m,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function jf(t,e){return n=>n>0?e:t}const ht=(t,e,n)=>t+(e-t)*n,Yp=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},a2=[Eg,Ta,Bo],o2=t=>a2.find(e=>e.test(t));function PE(t){const e=o2(t);if(!e)return!1;let n=e.parse(t);return e===Bo&&(n=r2(n)),n}const ME=(t,e)=>{const n=PE(t),s=PE(e);if(!n||!s)return jf(t,e);const a={...n};return l=>(a.red=Yp(n.red,s.red,l),a.green=Yp(n.green,s.green,l),a.blue=Yp(n.blue,s.blue,l),a.alpha=ht(n.alpha,s.alpha,l),Ta.transform(a))},bg=new Set(["none","hidden"]);function l2(t,e){return bg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function u2(t,e){return n=>ht(t,e,n)}function Dy(t){return typeof t=="number"?u2:typeof t=="string"?Cy(t)?jf:Nt.test(t)?ME:f2:Array.isArray(t)?iA:typeof t=="object"?Nt.test(t)?ME:c2:jf}function iA(t,e){const n=[...t],s=n.length,a=t.map((l,c)=>Dy(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function c2(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=Dy(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function h2(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],f=t.values[c]??0;n[a]=f,s[l]++}return n}const f2=(t,e)=>{const n=Er.createTransformer(e),s=ec(t),a=ec(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?bg.has(t)&&!a.values.length||bg.has(e)&&!s.values.length?l2(t,e):yc(iA(h2(s,a),a.values),n):jf(t,e)};function sA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ht(t,e,n):Dy(t)(t,e)}const d2=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ft.update(e,n),stop:()=>Tr(e),now:()=>Jt.isProcessing?Jt.timestamp:Sn.now()}},rA=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Bf=2e4;function Py(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Bf;)e+=n,s=t.next(e);return e>=Bf?1/0:e}function m2(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(Py(s),Bf);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:Vi(a)}}const p2=5;function aA(t,e,n){const s=Math.max(e-p2,0);return jS(n-t(s),e-s)}const _t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},OE=.001;function g2({duration:t=_t.duration,bounce:e=_t.bounce,velocity:n=_t.velocity,mass:s=_t.mass}){let a,l,c=1-e;c=As(_t.minDamping,_t.maxDamping,c),t=As(_t.minDuration,_t.maxDuration,Vi(t)),c<1?(a=p=>{const y=p*c,v=y*t,E=y-n,A=wg(p,c),C=Math.exp(-v);return OE-E/A*C},l=p=>{const v=p*c*t,E=v*n+n,A=Math.pow(c,2)*Math.pow(p,2)*t,C=Math.exp(-v),O=wg(Math.pow(p,2),c);return(-a(p)+OE>0?-1:1)*((E-A)*C)/O}):(a=p=>{const y=Math.exp(-p*t),v=(p-n)*t+1;return-.001+y*v},l=p=>{const y=Math.exp(-p*t),v=(n-p)*(t*t);return y*v});const f=5/t,m=_2(a,l,f);if(t=Oi(t),isNaN(m))return{stiffness:_t.stiffness,damping:_t.damping,duration:t};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:t}}}const y2=12;function _2(t,e,n){let s=n;for(let a=1;a<y2;a++)s=s-t(s)/e(s);return s}function wg(t,e){return t*Math.sqrt(1-e*e)}const v2=["duration","bounce"],T2=["stiffness","damping","mass"];function VE(t,e){return e.some(n=>t[n]!==void 0)}function E2(t){let e={velocity:_t.velocity,stiffness:_t.stiffness,damping:_t.damping,mass:_t.mass,isResolvedFromDuration:!1,...t};if(!VE(t,T2)&&VE(t,v2))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*As(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:_t.mass,stiffness:a,damping:l}}else{const n=g2(t);e={...e,...n,mass:_t.mass},e.isResolvedFromDuration=!0}return e}function zf(t=_t.visualDuration,e=_t.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:v,velocity:E,isResolvedFromDuration:A}=E2({...n,velocity:-Vi(n.velocity||0)}),C=E||0,O=p/(2*Math.sqrt(m*y)),D=c-l,U=Vi(Math.sqrt(m/y)),G=Math.abs(D)<5;s||(s=G?_t.restSpeed.granular:_t.restSpeed.default),a||(a=G?_t.restDelta.granular:_t.restDelta.default);let q;if(O<1){const J=wg(U,O);q=le=>{const P=Math.exp(-O*U*le);return c-P*((C+O*U*D)/J*Math.sin(J*le)+D*Math.cos(J*le))}}else if(O===1)q=J=>c-Math.exp(-U*J)*(D+(C+U*D)*J);else{const J=U*Math.sqrt(O*O-1);q=le=>{const P=Math.exp(-O*U*le),R=Math.min(J*le,300);return c-P*((C+O*U*D)*Math.sinh(R)+J*D*Math.cosh(R))/J}}const se={calculatedDuration:A&&v||null,next:J=>{const le=q(J);if(A)f.done=J>=v;else{let P=J===0?C:0;O<1&&(P=J===0?Oi(C):aA(q,J,le));const R=Math.abs(P)<=s,I=Math.abs(c-le)<=a;f.done=R&&I}return f.value=f.done?c:le,f},toString:()=>{const J=Math.min(Py(se),Bf),le=rA(P=>se.next(J*P).value,J,30);return J+"ms "+le},toTransition:()=>{}};return se}zf.applyToOptions=t=>{const e=m2(t,100,zf);return t.ease=e.ease,t.duration=Oi(e.duration),t.type="keyframes",t};function Sg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:m,restDelta:p=.5,restSpeed:y}){const v=t[0],E={done:!1,value:v},A=R=>f!==void 0&&R<f||m!==void 0&&R>m,C=R=>f===void 0?m:m===void 0||Math.abs(f-R)<Math.abs(m-R)?f:m;let O=n*e;const D=v+O,U=c===void 0?D:c(D);U!==D&&(O=U-v);const G=R=>-O*Math.exp(-R/s),q=R=>U+G(R),se=R=>{const I=G(R),V=q(R);E.done=Math.abs(I)<=p,E.value=E.done?U:V};let J,le;const P=R=>{A(E.value)&&(J=R,le=zf({keyframes:[E.value,C(E.value)],velocity:aA(q,R,E.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return P(0),{calculatedDuration:null,next:R=>{let I=!1;return!le&&J===void 0&&(I=!0,se(R),P(R)),J!==void 0&&R>=J?le.next(R-J):(!I&&se(R),E)}}}function b2(t,e,n){const s=[],a=n||xs.mix||sA,l=t.length-1;for(let c=0;c<l;c++){let f=a(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||Jn:e;f=yc(m,f)}s.push(f)}return s}function w2(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(by(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=b2(e,s,a),m=f.length,p=y=>{if(c&&y<t[0])return e[0];let v=0;if(m>1)for(;v<t.length-2&&!(y<t[v+1]);v++);const E=Zu(t[v],t[v+1],y);return f[v](E)};return n?y=>p(As(t[0],t[l-1],y)):p}function S2(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=Zu(0,e,s);t.push(ht(n,1,a))}}function A2(t){const e=[0];return S2(e,t.length-1),e}function x2(t,e){return t.map(n=>n*e)}function R2(t,e){return t.map(()=>e||YS).splice(0,t.length-1)}function zu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=UN(s)?s.map(CE):CE(s),l={done:!1,value:e[0]},c=x2(n&&n.length===e.length?n:A2(e),t),f=w2(c,e,{ease:Array.isArray(a)?a:R2(e,a)});return{calculatedDuration:t,next:m=>(l.value=f(m),l.done=m>=t,l)}}const C2=t=>t!==null;function My(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(C2),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||s===void 0?l[f]:s}const I2={decay:Sg,inertia:Sg,tween:zu,keyframes:zu,spring:zf};function oA(t){typeof t.type=="string"&&(t.type=I2[t.type])}class Oy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const N2=t=>t/100;class Vy extends Oy{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,a;const{motionValue:n}=this.options;n&&n.updatedAt!==Sn.now()&&this.tick(Sn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(s=this.options).onStop)==null||a.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;oA(e);const{type:n=zu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:f}=e;const m=n||zu;m!==zu&&typeof f[0]!="number"&&(this.mixKeyframes=yc(N2,sA(f[0],f[1])),f=[0,100]);const p=m({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...f].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=Py(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:v,repeatType:E,repeatDelay:A,type:C,onUpdate:O,finalKeyframe:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const U=this.currentTime-p*(this.playbackSpeed>=0?1:-1),G=this.playbackSpeed>=0?U<0:U>a;this.currentTime=Math.max(U,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let q=this.currentTime,se=s;if(v){const R=Math.min(this.currentTime,a)/f;let I=Math.floor(R),V=R%1;!V&&R>=1&&(V=1),V===1&&I--,I=Math.min(I,v+1),!!(I%2)&&(E==="reverse"?(V=1-V,A&&(V-=A/f)):E==="mirror"&&(se=c)),q=As(0,1,V)*f}const J=G?{done:!1,value:y[0]}:se.next(q);l&&(J.value=l(J.value));let{done:le}=J;!G&&m!==null&&(le=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&le);return P&&C!==Sg&&(J.value=My(y,this.options,D,this.speed)),O&&O(J.value),P&&this.finish(),J}then(e,n){return this.finished.then(e,n)}get duration(){return Vi(this.calculatedDuration)}get time(){return Vi(this.currentTime)}set time(e){var n;e=Oi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Sn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Vi(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:e=d2,startTime:n}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(l=(a=this.options).onPlay)==null||l.call(a);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Sn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function D2(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ea=t=>t*180/Math.PI,Ag=t=>{const e=Ea(Math.atan2(t[1],t[0]));return xg(e)},P2={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Ag,rotateZ:Ag,skewX:t=>Ea(Math.atan(t[1])),skewY:t=>Ea(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},xg=t=>(t=t%360,t<0&&(t+=360),t),kE=Ag,LE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),UE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),M2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:LE,scaleY:UE,scale:t=>(LE(t)+UE(t))/2,rotateX:t=>xg(Ea(Math.atan2(t[6],t[5]))),rotateY:t=>xg(Ea(Math.atan2(-t[2],t[0]))),rotateZ:kE,rotate:kE,skewX:t=>Ea(Math.atan(t[4])),skewY:t=>Ea(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Rg(t){return t.includes("scale")?1:0}function Cg(t,e){if(!t||t==="none")return Rg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=M2,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=P2,a=f}if(!a)return Rg(e);const l=s[e],c=a[1].split(",").map(V2);return typeof l=="function"?l(c):c[l]}const O2=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Cg(n,e)};function V2(t){return parseFloat(t.trim())}const al=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ol=new Set(al),jE=t=>t===rl||t===we,k2=new Set(["x","y","z"]),L2=al.filter(t=>!k2.has(t));function U2(t){const e=[];return L2.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const wa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Cg(e,"x"),y:(t,{transform:e})=>Cg(e,"y")};wa.translateX=wa.x;wa.translateY=wa.y;const Sa=new Set;let Ig=!1,Ng=!1,Dg=!1;function lA(){if(Ng){const t=Array.from(Sa).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=U2(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{var f;(f=s.getValue(l))==null||f.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Ng=!1,Ig=!1,Sa.forEach(t=>t.complete(Dg)),Sa.clear()}function uA(){Sa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ng=!0)})}function j2(){Dg=!0,uA(),lA(),Dg=!1}class ky{constructor(e,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Sa.add(this),Ig||(Ig=!0,ft.read(uA),ft.resolveKeyframes(lA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a==null?void 0:a.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const f=s.readValue(n,c);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}D2(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Sa.delete(this)}cancel(){this.state==="scheduled"&&(Sa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const B2=t=>t.startsWith("--");function z2(t,e,n){B2(e)?t.style.setProperty(e,n):t.style[e]=n}const F2=wy(()=>window.ScrollTimeline!==void 0),q2={};function H2(t,e){const n=wy(t);return()=>q2[e]??n()}const cA=H2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Pu=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,BE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Pu([0,.65,.55,1]),circOut:Pu([.55,0,1,.45]),backIn:Pu([.31,.01,.66,-.59]),backOut:Pu([.33,1.53,.69,.99])};function hA(t,e){if(t)return typeof t=="function"?cA()?rA(t,e):"ease-out":XS(t)?Pu(t):Array.isArray(t)?t.map(n=>hA(n,e)||BE.easeOut):BE[t]}function G2(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeOut",times:m}={},p=void 0){const y={[e]:n};m&&(y.offset=m);const v=hA(f,a);Array.isArray(v)&&(y.easing=v);const E={delay:s,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),t.animate(y,E)}function fA(t){return typeof t=="function"&&"applyToOptions"in t}function K2({type:t,...e}){return fA(t)&&cA()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class $2 extends Oy{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:f,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,by(typeof e.type!="string");const p=K2(e);this.animation=G2(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=My(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):z2(n,s,y),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return Vi(Number(e))}get time(){return Vi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Oi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&F2()?(this.animation.timeline=e,Jn):n(this)}}const dA={anticipate:GS,backInOut:HS,circInOut:$S};function Y2(t){return t in dA}function X2(t){typeof t.ease=="string"&&Y2(t.ease)&&(t.ease=dA[t.ease])}const zE=10;class Q2 extends $2{constructor(e){X2(e),oA(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new Vy({...c,autoplay:!1}),m=Oi(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-zE).value,f.sample(m).value,zE),f.stop()}}const FE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Er.test(t)||t==="0")&&!t.startsWith("url("));function W2(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Z2(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=FE(a,e),f=FE(l,e);return!c||!f?!1:W2(t)||(n==="spring"||fA(n))&&s}function Ly(t){return LS(t)&&"offsetHeight"in t}const J2=new Set(["opacity","clipPath","filter","transform"]),eD=wy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function tD(t){var p;const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!Ly((p=e==null?void 0:e.owner)==null?void 0:p.current))return!1;const{onUpdate:f,transformTemplate:m}=e.owner.getProps();return eD()&&n&&J2.has(n)&&(n!=="transform"||!m)&&!f&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const nD=40;class iD extends Oy{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:f,name:m,motionValue:p,element:y,...v}){var C;super(),this.stop=()=>{var O,D;this._animation&&(this._animation.stop(),(O=this.stopTimeline)==null||O.call(this)),(D=this.keyframeResolver)==null||D.cancel()},this.createdAt=Sn.now();const E={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:y,...v},A=(y==null?void 0:y.KeyframeResolver)||ky;this.keyframeResolver=new A(f,(O,D,U)=>this.onKeyframesResolved(O,D,E,!U),m,p,y),(C=this.keyframeResolver)==null||C.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:f,delay:m,isHandoff:p,onUpdate:y}=s;this.resolvedAt=Sn.now(),Z2(e,l,c,f)||((xs.instantAnimations||!m)&&(y==null||y(My(e,s,n))),e[0]=e[e.length-1],s.duration=0,s.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>nD?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},A=!p&&tD(E)?new Q2({...E,element:E.motionValue.owner.current}):new Vy(E);A.finished.then(()=>this.notifyFinished()).catch(Jn),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),j2()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const sD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function rD(t){const e=sD.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function mA(t,e,n=1){const[s,a]=rD(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return kS(c)?parseFloat(c):c}return Cy(a)?mA(a,e,n+1):a}function Uy(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const pA=new Set(["width","height","top","left","right","bottom",...al]),aD={test:t=>t==="auto",parse:t=>t},gA=t=>e=>e.test(t),yA=[rl,we,ki,ur,WN,QN,aD],qE=t=>yA.find(gA(t));function oD(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||US(t):!0}const lD=new Set(["brightness","contrast","saturate","opacity"]);function uD(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Iy)||[];if(!s)return t;const a=n.replace(s,"");let l=lD.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const cD=/\b([a-z-]*)\(.*?\)/gu,Pg={...Er,getAnimatableNone:t=>{const e=t.match(cD);return e?e.map(uD).join(" "):t}},HE={...rl,transform:Math.round},hD={rotate:ur,rotateX:ur,rotateY:ur,rotateZ:ur,scale:cf,scaleX:cf,scaleY:cf,scaleZ:cf,skew:ur,skewX:ur,skewY:ur,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:Ju,originX:NE,originY:NE,originZ:we},jy={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we,...hD,zIndex:HE,fillOpacity:Ju,strokeOpacity:Ju,numOctaves:HE},fD={...jy,color:Nt,backgroundColor:Nt,outlineColor:Nt,fill:Nt,stroke:Nt,borderColor:Nt,borderTopColor:Nt,borderRightColor:Nt,borderBottomColor:Nt,borderLeftColor:Nt,filter:Pg,WebkitFilter:Pg},_A=t=>fD[t];function vA(t,e){let n=_A(t);return n!==Pg&&(n=Er),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const dD=new Set(["auto","none","0"]);function mD(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!dD.has(l)&&ec(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=vA(n,a)}class pD extends ky{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let p=e[m];if(typeof p=="string"&&(p=p.trim(),Cy(p))){const y=mA(p,n.current);y!==void 0&&(e[m]=y),m===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!pA.has(s)||e.length!==2)return;const[a,l]=e,c=qE(a),f=qE(l);if(c!==f)if(jE(c)&&jE(f))for(let m=0;m<e.length;m++){const p=e[m];typeof p=="string"&&(e[m]=parseFloat(p))}else wa[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||oD(e[a]))&&s.push(a);s.length&&mD(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=wa[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){var f;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=wa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([m,p])=>{e.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function gD(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=(n==null?void 0:n[t])??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const TA=(t,e)=>e&&typeof t=="number"?e.transform(t):t,GE=30,yD=t=>!isNaN(parseFloat(t));class _D{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,a=!0)=>{var c,f;const l=Sn.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const m of this.dependents)m.dirty();a&&((f=this.events.renderRequest)==null||f.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Sn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=yD(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Sy);const s=this.events[e].add(n);return e==="change"?()=>{s(),ft.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Sn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>GE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,GE);return jS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wo(t,e){return new _D(t,e)}const{schedule:By}=QS(queueMicrotask,!1),oi={x:!1,y:!1};function EA(){return oi.x||oi.y}function vD(t){return t==="x"||t==="y"?oi[t]?null:(oi[t]=!0,()=>{oi[t]=!1}):oi.x||oi.y?null:(oi.x=oi.y=!0,()=>{oi.x=oi.y=!1})}function bA(t,e){const n=gD(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function KE(t){return!(t.pointerType==="touch"||EA())}function TD(t,e,n={}){const[s,a,l]=bA(t,n),c=f=>{if(!KE(f))return;const{target:m}=f,p=e(m,f);if(typeof p!="function"||!m)return;const y=v=>{KE(v)&&(p(v),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return s.forEach(f=>{f.addEventListener("pointerenter",c,a)}),l}const wA=(t,e)=>e?t===e?!0:wA(t,e.parentElement):!1,zy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,ED=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function bD(t){return ED.has(t.tagName)||t.tabIndex!==-1}const Sf=new WeakSet;function $E(t){return e=>{e.key==="Enter"&&t(e)}}function Xp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const wD=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=$E(()=>{if(Sf.has(n))return;Xp(n,"down");const a=$E(()=>{Xp(n,"up")}),l=()=>Xp(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function YE(t){return zy(t)&&!EA()}function SD(t,e,n={}){const[s,a,l]=bA(t,n),c=f=>{const m=f.currentTarget;if(!YE(f))return;Sf.add(m);const p=e(m,f),y=(A,C)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",E),Sf.has(m)&&Sf.delete(m),YE(A)&&typeof p=="function"&&p(A,{success:C})},v=A=>{y(A,m===window||m===document||n.useGlobalTarget||wA(m,A.target))},E=A=>{y(A,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",E,a)};return s.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),Ly(f)&&(f.addEventListener("focus",p=>wD(p,a)),!bD(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function SA(t){return LS(t)&&"ownerSVGElement"in t}function AD(t){return SA(t)&&t.tagName==="svg"}const cn=t=>!!(t&&t.getVelocity),xD=[...yA,Nt,Er],RD=t=>xD.find(gA(t)),Fy=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class CD extends k.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=Ly(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ID({children:t,isPresent:e,anchorX:n}){const s=k.useId(),a=k.useRef(null),l=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=k.useContext(Fy);return k.useInsertionEffect(()=>{const{width:f,height:m,top:p,left:y,right:v}=l.current;if(e||!a.current||!f||!m)return;const E=n==="left"?`left: ${y}`:`right: ${v}`;a.current.dataset.motionPopId=s;const A=document.createElement("style");return c&&(A.nonce=c),document.head.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${m}px !important;
            ${E}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.contains(A)&&document.head.removeChild(A)}},[e]),w.jsx(CD,{isPresent:e,childRef:a,sizeRef:l,children:k.cloneElement(t,{ref:a})})}const ND=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:f})=>{const m=_y(DD),p=k.useId();let y=!0,v=k.useMemo(()=>(y=!1,{id:p,initial:e,isPresent:n,custom:a,onExitComplete:E=>{m.set(E,!0);for(const A of m.values())if(!A)return;s&&s()},register:E=>(m.set(E,!1),()=>m.delete(E))}),[n,m,s]);return l&&y&&(v={...v}),k.useMemo(()=>{m.forEach((E,A)=>m.set(A,!1))},[n]),k.useEffect(()=>{!n&&!m.size&&s&&s()},[n]),c==="popLayout"&&(t=w.jsx(ID,{isPresent:n,anchorX:f,children:t})),w.jsx(fd.Provider,{value:v,children:t})};function DD(){return new Map}function AA(t=!0){const e=k.useContext(fd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=k.useId();k.useEffect(()=>{if(t)return a(l)},[t]);const c=k.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const hf=t=>t.key||"";function XE(t){const e=[];return k.Children.forEach(t,n=>{k.isValidElement(n)&&e.push(n)}),e}const PD=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:f="left"})=>{const[m,p]=AA(c),y=k.useMemo(()=>XE(t),[t]),v=c&&!m?[]:y.map(hf),E=k.useRef(!0),A=k.useRef(y),C=_y(()=>new Map),[O,D]=k.useState(y),[U,G]=k.useState(y);VS(()=>{E.current=!1,A.current=y;for(let J=0;J<U.length;J++){const le=hf(U[J]);v.includes(le)?C.delete(le):C.get(le)!==!0&&C.set(le,!1)}},[U,v.length,v.join("-")]);const q=[];if(y!==O){let J=[...y];for(let le=0;le<U.length;le++){const P=U[le],R=hf(P);v.includes(R)||(J.splice(le,0,P),q.push(P))}return l==="wait"&&q.length&&(J=q),G(XE(J)),D(y),null}const{forceRender:se}=k.useContext(yy);return w.jsx(w.Fragment,{children:U.map(J=>{const le=hf(J),P=c&&!m?!1:y===U||v.includes(le),R=()=>{if(C.has(le))C.set(le,!0);else return;let I=!0;C.forEach(V=>{V||(I=!1)}),I&&(se==null||se(),G(A.current),c&&(p==null||p()),s&&s())};return w.jsx(ND,{isPresent:P,initial:!E.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,onExitComplete:P?void 0:R,anchorX:f,children:J},le)})})},xA=k.createContext({strict:!1}),QE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zo={};for(const t in QE)Zo[t]={isEnabled:e=>QE[t].some(n=>!!e[n])};function MD(t){for(const e in t)Zo[e]={...Zo[e],...t[e]}}const OD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ff(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||OD.has(t)}let RA=t=>!Ff(t);function VD(t){typeof t=="function"&&(RA=e=>e.startsWith("on")?!Ff(e):t(e))}try{VD(require("@emotion/is-prop-valid").default)}catch{}function kD(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(RA(a)||n===!0&&Ff(a)||!e&&!Ff(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}function LD(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const dd=k.createContext({});function md(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function tc(t){return typeof t=="string"||Array.isArray(t)}const qy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Hy=["initial",...qy];function pd(t){return md(t.animate)||Hy.some(e=>tc(t[e]))}function CA(t){return!!(pd(t)||t.variants)}function UD(t,e){if(pd(t)){const{initial:n,animate:s}=t;return{initial:n===!1||tc(n)?n:void 0,animate:tc(s)?s:void 0}}return t.inherit!==!1?e:{}}function jD(t){const{initial:e,animate:n}=UD(t,k.useContext(dd));return k.useMemo(()=>({initial:e,animate:n}),[WE(e),WE(n)])}function WE(t){return Array.isArray(t)?t.join(" "):t}const BD=Symbol.for("motionComponentSymbol");function zo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function zD(t,e,n){return k.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):zo(n)&&(n.current=s))},[e])}const Gy=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),FD="framerAppearId",IA="data-"+Gy(FD),NA=k.createContext({});function qD(t,e,n,s,a){var O,D;const{visualElement:l}=k.useContext(dd),c=k.useContext(xA),f=k.useContext(fd),m=k.useContext(Fy).reducedMotion,p=k.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,v=k.useContext(NA);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&HD(p.current,n,a,v);const E=k.useRef(!1);k.useInsertionEffect(()=>{y&&E.current&&y.update(n,f)});const A=n[IA],C=k.useRef(!!A&&!((O=window.MotionHandoffIsComplete)!=null&&O.call(window,A))&&((D=window.MotionHasOptimisedAnimation)==null?void 0:D.call(window,A)));return VS(()=>{y&&(E.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),By.render(y.render),C.current&&y.animationState&&y.animationState.animateChanges())}),k.useEffect(()=>{y&&(!C.current&&y.animationState&&y.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var U;(U=window.MotionHandoffMarkAsComplete)==null||U.call(window,A)}),C.current=!1))}),y}function HD(t,e,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:DA(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&zo(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:p})}function DA(t){if(t)return t.options.allowProjection!==!1?t.projection:DA(t.parent)}function GD({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:a}){t&&MD(t);function l(f,m){let p;const y={...k.useContext(Fy),...f,layoutId:KD(f)},{isStatic:v}=y,E=jD(f),A=s(f,v);if(!v&&vy){$D();const C=YD(y);p=C.MeasureLayout,E.visualElement=qD(a,A,y,e,C.ProjectionNode)}return w.jsxs(dd.Provider,{value:E,children:[p&&E.visualElement?w.jsx(p,{visualElement:E.visualElement,...y}):null,n(a,f,zD(A,E.visualElement,m),A,v,E.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const c=k.forwardRef(l);return c[BD]=a,c}function KD({layoutId:t}){const e=k.useContext(yy).id;return e&&t!==void 0?e+"-"+t:t}function $D(t,e){k.useContext(xA).strict}function YD(t){const{drag:e,layout:n}=Zo;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const nc={};function XD(t){for(const e in t)nc[e]=t[e],Ry(e)&&(nc[e].isCSSVariable=!0)}function PA(t,{layout:e,layoutId:n}){return ol.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!nc[t]||t==="opacity")}const QD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},WD=al.length;function ZD(t,e,n){let s="",a=!0;for(let l=0;l<WD;l++){const c=al[l],f=t[c];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(c.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const p=TA(f,jy[c]);if(!m){a=!1;const y=QD[c]||c;s+=`${y}(${p}) `}n&&(e[c]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function Ky(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let c=!1,f=!1;for(const m in e){const p=e[m];if(ol.has(m)){c=!0;continue}else if(Ry(m)){a[m]=p;continue}else{const y=TA(p,jy[m]);m.startsWith("origin")?(f=!0,l[m]=y):s[m]=y}}if(e.transform||(c||n?s.transform=ZD(e,t.transform,n):s.transform&&(s.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${p} ${y}`}}const $y=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function MA(t,e,n){for(const s in e)!cn(e[s])&&!PA(s,n)&&(t[s]=e[s])}function JD({transformTemplate:t},e){return k.useMemo(()=>{const n=$y();return Ky(n,e,t),Object.assign({},n.vars,n.style)},[e])}function eP(t,e){const n=t.style||{},s={};return MA(s,n,t),Object.assign(s,JD(t,e)),s}function tP(t,e){const n={},s=eP(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const nP={offset:"stroke-dashoffset",array:"stroke-dasharray"},iP={offset:"strokeDashoffset",array:"strokeDasharray"};function sP(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?nP:iP;t[l.offset]=we.transform(-s);const c=we.transform(e),f=we.transform(n);t[l.array]=`${c} ${f}`}function OA(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...f},m,p,y){if(Ky(t,f,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:E}=t;v.transform&&(E.transform=v.transform,delete v.transform),(E.transform||v.transformOrigin)&&(E.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),E.transform&&(E.transformBox=(y==null?void 0:y.transformBox)??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),s!==void 0&&(v.scale=s),a!==void 0&&sP(v,a,l,c,!1)}const VA=()=>({...$y(),attrs:{}}),kA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function rP(t,e,n,s){const a=k.useMemo(()=>{const l=VA();return OA(l,e,kA(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};MA(l,t.style,t),a.style={...l,...a.style}}return a}const aP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Yy(t){return typeof t!="string"||t.includes("-")?!1:!!(aP.indexOf(t)>-1||/[A-Z]/u.test(t))}function oP(t=!1){return(n,s,a,{latestValues:l},c)=>{const m=(Yy(n)?rP:tP)(s,l,c,n),p=kD(s,typeof n=="string",t),y=n!==k.Fragment?{...p,...m,ref:a}:{},{children:v}=s,E=k.useMemo(()=>cn(v)?v.get():v,[v]);return k.createElement(n,{...y,children:E})}}function ZE(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Xy(t,e,n,s){if(typeof e=="function"){const[a,l]=ZE(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=ZE(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Af(t){return cn(t)?t.get():t}function lP({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:uP(n,s,a,t),renderState:e()}}const LA=t=>(e,n)=>{const s=k.useContext(dd),a=k.useContext(fd),l=()=>lP(t,e,s,a);return n?l():_y(l)};function uP(t,e,n,s){const a={},l=s(t,{});for(const E in l)a[E]=Af(l[E]);let{initial:c,animate:f}=t;const m=pd(t),p=CA(t);e&&p&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const v=y?f:c;if(v&&typeof v!="boolean"&&!md(v)){const E=Array.isArray(v)?v:[v];for(let A=0;A<E.length;A++){const C=Xy(t,E[A]);if(C){const{transitionEnd:O,transition:D,...U}=C;for(const G in U){let q=U[G];if(Array.isArray(q)){const se=y?q.length-1:0;q=q[se]}q!==null&&(a[G]=q)}for(const G in O)a[G]=O[G]}}}return a}function Qy(t,e,n){var l;const{style:s}=t,a={};for(const c in s)(cn(s[c])||e.style&&cn(e.style[c])||PA(c,t)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(a[c]=s[c]);return a}const cP={useVisualState:LA({scrapeMotionValuesFromProps:Qy,createRenderState:$y})};function UA(t,e,n){const s=Qy(t,e,n);for(const a in t)if(cn(t[a])||cn(e[a])){const l=al.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const hP={useVisualState:LA({scrapeMotionValuesFromProps:UA,createRenderState:VA})};function fP(t,e){return function(s,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...Yy(s)?hP:cP,preloadedFeatures:t,useRender:oP(a),createVisualElement:e,Component:s};return GD(c)}}function ic(t,e,n){const s=t.getProps();return Xy(s,e,n!==void 0?n:s.custom,t)}const Mg=t=>Array.isArray(t);function dP(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Wo(n))}function mP(t){return Mg(t)?t[t.length-1]||0:t}function pP(t,e){const n=ic(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const f=mP(l[c]);dP(t,c,f)}}function gP(t){return!!(cn(t)&&t.add)}function Og(t,e){const n=t.getValue("willChange");if(gP(n))return n.add(e);if(!n&&xs.WillChange){const s=new xs.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function jA(t){return t.props[IA]}const yP=t=>t!==null;function _P(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(yP),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const vP={type:"spring",stiffness:500,damping:25,restSpeed:10},TP=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),EP={type:"keyframes",duration:.8},bP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},wP=(t,{keyframes:e})=>e.length>2?EP:ol.has(t)?t.startsWith("scale")?TP(e[1]):vP:bP;function SP({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const Wy=(t,e,n,s={},a,l)=>c=>{const f=Uy(s,t)||{},m=f.delay||s.delay||0;let{elapsed:p=0}=s;p=p-Oi(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-p,onUpdate:E=>{e.set(E),f.onUpdate&&f.onUpdate(E)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};SP(f)||Object.assign(y,wP(t,y)),y.duration&&(y.duration=Oi(y.duration)),y.repeatDelay&&(y.repeatDelay=Oi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(v=!0)),(xs.instantAnimations||xs.skipAnimations)&&(v=!0,y.duration=0,y.delay=0),y.allowFlatten=!f.type&&!f.ease,v&&!l&&e.get()!==void 0){const E=_P(y.keyframes,f);if(E!==void 0){ft.update(()=>{y.onUpdate(E),y.onComplete()});return}}return f.isSync?new Vy(y):new iD(y)};function AP({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function BA(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...f}=e;s&&(l=s);const m=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const y in f){const v=t.getValue(y,t.latestValues[y]??null),E=f[y];if(E===void 0||p&&AP(p,y))continue;const A={delay:n,...Uy(l||{},y)},C=v.get();if(C!==void 0&&!v.isAnimating&&!Array.isArray(E)&&E===C&&!A.velocity)continue;let O=!1;if(window.MotionHandoffAnimation){const U=jA(t);if(U){const G=window.MotionHandoffAnimation(U,y,ft);G!==null&&(A.startTime=G,O=!0)}}Og(t,y),v.start(Wy(y,v,E,t.shouldReduceMotion&&pA.has(y)?{type:!1}:A,t,O));const D=v.animation;D&&m.push(D)}return c&&Promise.all(m).then(()=>{ft.update(()=>{c&&pP(t,c)})}),m}function Vg(t,e,n={}){var m;const s=ic(t,e,n.type==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(BA(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:v,staggerDirection:E}=a;return xP(t,e,y+p,v,E,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,y]=f==="beforeChildren"?[l,c]:[c,l];return p().then(()=>y())}else return Promise.all([l(),c(n.delay)])}function xP(t,e,n=0,s=0,a=1,l){const c=[],f=(t.variantChildren.size-1)*s,m=a===1?(p=0)=>p*s:(p=0)=>f-p*s;return Array.from(t.variantChildren).sort(RP).forEach((p,y)=>{p.notify("AnimationStart",e),c.push(Vg(p,e,{...l,delay:n+m(y)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(c)}function RP(t,e){return t.sortNodePosition(e)}function CP(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Vg(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Vg(t,e,n);else{const a=typeof e=="function"?ic(t,e,n.custom):e;s=Promise.all(BA(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function zA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const IP=Hy.length;function FA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?FA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<IP;n++){const s=Hy[n],a=t.props[s];(tc(a)||a===!1)&&(e[s]=a)}return e}const NP=[...qy].reverse(),DP=qy.length;function PP(t){return e=>Promise.all(e.map(({animation:n,options:s})=>CP(t,n,s)))}function MP(t){let e=PP(t),n=JE(),s=!0;const a=m=>(p,y)=>{var E;const v=ic(t,y,m==="exit"?(E=t.presenceContext)==null?void 0:E.custom:void 0);if(v){const{transition:A,transitionEnd:C,...O}=v;p={...p,...O,...C}}return p};function l(m){e=m(t)}function c(m){const{props:p}=t,y=FA(t.parent)||{},v=[],E=new Set;let A={},C=1/0;for(let D=0;D<DP;D++){const U=NP[D],G=n[U],q=p[U]!==void 0?p[U]:y[U],se=tc(q),J=U===m?G.isActive:null;J===!1&&(C=D);let le=q===y[U]&&q!==p[U]&&se;if(le&&s&&t.manuallyAnimateOnMount&&(le=!1),G.protectedKeys={...A},!G.isActive&&J===null||!q&&!G.prevProp||md(q)||typeof q=="boolean")continue;const P=OP(G.prevProp,q);let R=P||U===m&&G.isActive&&!le&&se||D>C&&se,I=!1;const V=Array.isArray(q)?q:[q];let B=V.reduce(a(U),{});J===!1&&(B={});const{prevResolvedValues:F={}}=G,M={...F,...B},St=ae=>{R=!0,E.has(ae)&&(I=!0,E.delete(ae)),G.needsAnimating[ae]=!0;const de=t.getValue(ae);de&&(de.liveStyle=!1)};for(const ae in M){const de=B[ae],ke=F[ae];if(A.hasOwnProperty(ae))continue;let L=!1;Mg(de)&&Mg(ke)?L=!zA(de,ke):L=de!==ke,L?de!=null?St(ae):E.add(ae):de!==void 0&&E.has(ae)?St(ae):G.protectedKeys[ae]=!0}G.prevProp=q,G.prevResolvedValues=B,G.isActive&&(A={...A,...B}),s&&t.blockInitialAnimation&&(R=!1),R&&(!(le&&P)||I)&&v.push(...V.map(ae=>({animation:ae,options:{type:U}})))}if(E.size){const D={};if(typeof p.initial!="boolean"){const U=ic(t,Array.isArray(p.initial)?p.initial[0]:p.initial);U&&U.transition&&(D.transition=U.transition)}E.forEach(U=>{const G=t.getBaseTarget(U),q=t.getValue(U);q&&(q.liveStyle=!0),D[U]=G??null}),v.push({animation:D})}let O=!!v.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(O=!1),s=!1,O?e(v):Promise.resolve()}function f(m,p){var v;if(n[m].isActive===p)return Promise.resolve();(v=t.variantChildren)==null||v.forEach(E=>{var A;return(A=E.animationState)==null?void 0:A.setActive(m,p)}),n[m].isActive=p;const y=c(m);for(const E in n)n[E].protectedKeys={};return y}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=JE(),s=!0}}}function OP(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!zA(e,t):!1}function ya(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function JE(){return{animate:ya(!0),whileInView:ya(),whileHover:ya(),whileTap:ya(),whileDrag:ya(),whileFocus:ya(),exit:ya()}}class Nr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class VP extends Nr{constructor(e){super(e),e.animationState||(e.animationState=MP(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();md(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let kP=0;class LP extends Nr{constructor(){super(...arguments),this.id=kP++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const UP={animation:{Feature:VP},exit:{Feature:LP}};function sc(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Tc(t){return{point:{x:t.pageX,y:t.pageY}}}const jP=t=>e=>zy(e)&&t(e,Tc(e));function Fu(t,e,n,s){return sc(t,e,jP(n),s)}function qA({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function BP({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function zP(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}const HA=1e-4,FP=1-HA,qP=1+HA,GA=.01,HP=0-GA,GP=0+GA;function yn(t){return t.max-t.min}function KP(t,e,n){return Math.abs(t-e)<=n}function eb(t,e,n,s=.5){t.origin=s,t.originPoint=ht(e.min,e.max,t.origin),t.scale=yn(n)/yn(e),t.translate=ht(n.min,n.max,t.origin)-t.originPoint,(t.scale>=FP&&t.scale<=qP||isNaN(t.scale))&&(t.scale=1),(t.translate>=HP&&t.translate<=GP||isNaN(t.translate))&&(t.translate=0)}function qu(t,e,n,s){eb(t.x,e.x,n.x,s?s.originX:void 0),eb(t.y,e.y,n.y,s?s.originY:void 0)}function tb(t,e,n){t.min=n.min+e.min,t.max=t.min+yn(e)}function $P(t,e,n){tb(t.x,e.x,n.x),tb(t.y,e.y,n.y)}function nb(t,e,n){t.min=e.min-n.min,t.max=t.min+yn(e)}function Hu(t,e,n){nb(t.x,e.x,n.x),nb(t.y,e.y,n.y)}const ib=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fo=()=>({x:ib(),y:ib()}),sb=()=>({min:0,max:0}),bt=()=>({x:sb(),y:sb()});function Qn(t){return[t("x"),t("y")]}function Qp(t){return t===void 0||t===1}function kg({scale:t,scaleX:e,scaleY:n}){return!Qp(t)||!Qp(e)||!Qp(n)}function _a(t){return kg(t)||KA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function KA(t){return rb(t.x)||rb(t.y)}function rb(t){return t&&t!=="0%"}function qf(t,e,n){const s=t-n,a=e*s;return n+a}function ab(t,e,n,s,a){return a!==void 0&&(t=qf(t,a,s)),qf(t,n,s)+e}function Lg(t,e=0,n=1,s,a){t.min=ab(t.min,e,n,s,a),t.max=ab(t.max,e,n,s,a)}function $A(t,{x:e,y:n}){Lg(t.x,e.translate,e.scale,e.originPoint),Lg(t.y,n.translate,n.scale,n.originPoint)}const ob=.999999999999,lb=1.0000000000001;function YP(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let f=0;f<a;f++){l=n[f],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Ho(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,$A(t,c)),s&&_a(l.latestValues)&&Ho(t,l.latestValues))}e.x<lb&&e.x>ob&&(e.x=1),e.y<lb&&e.y>ob&&(e.y=1)}function qo(t,e){t.min=t.min+e,t.max=t.max+e}function ub(t,e,n,s,a=.5){const l=ht(t.min,t.max,a);Lg(t,e,n,l,s)}function Ho(t,e){ub(t.x,e.x,e.scaleX,e.scale,e.originX),ub(t.y,e.y,e.scaleY,e.scale,e.originY)}function YA(t,e){return qA(zP(t.getBoundingClientRect(),e))}function XP(t,e,n){const s=YA(t,n),{scroll:a}=e;return a&&(qo(s.x,a.offset.x),qo(s.y,a.offset.y)),s}const XA=({current:t})=>t?t.ownerDocument.defaultView:null,cb=(t,e)=>Math.abs(t-e);function QP(t,e){const n=cb(t.x,e.x),s=cb(t.y,e.y);return Math.sqrt(n**2+s**2)}class QA{constructor(e,n,{transformPagePoint:s,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Zp(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,A=QP(v.offset,{x:0,y:0})>=3;if(!E&&!A)return;const{point:C}=v,{timestamp:O}=Jt;this.history.push({...C,timestamp:O});const{onStart:D,onMove:U}=this.handlers;E||(D&&D(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),U&&U(this.lastMoveEvent,v)},this.handlePointerMove=(v,E)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Wp(E,this.transformPagePoint),ft.update(this.updatePoint,!0)},this.handlePointerUp=(v,E)=>{this.end();const{onEnd:A,onSessionEnd:C,resumeAnimation:O}=this.handlers;if(this.dragSnapToOrigin&&O&&O(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=Zp(v.type==="pointercancel"?this.lastMoveEventInfo:Wp(E,this.transformPagePoint),this.history);this.startEvent&&A&&A(v,D),C&&C(v,D)},!zy(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.contextWindow=a||window;const c=Tc(e),f=Wp(c,this.transformPagePoint),{point:m}=f,{timestamp:p}=Jt;this.history=[{...m,timestamp:p}];const{onSessionStart:y}=n;y&&y(e,Zp(f,this.history)),this.removeListeners=yc(Fu(this.contextWindow,"pointermove",this.handlePointerMove),Fu(this.contextWindow,"pointerup",this.handlePointerUp),Fu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Tr(this.updatePoint)}}function Wp(t,e){return e?{point:e(t.point)}:t}function hb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Zp({point:t},e){return{point:t,delta:hb(t,WA(e)),offset:hb(t,WP(e)),velocity:ZP(e,.1)}}function WP(t){return t[0]}function WA(t){return t[t.length-1]}function ZP(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=WA(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>Oi(e)));)n--;if(!s)return{x:0,y:0};const l=Vi(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function JP(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?ht(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?ht(n,t,s.max):Math.min(t,n)),t}function fb(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function eM(t,{top:e,left:n,bottom:s,right:a}){return{x:fb(t.x,n,a),y:fb(t.y,e,s)}}function db(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function tM(t,e){return{x:db(t.x,e.x),y:db(t.y,e.y)}}function nM(t,e){let n=.5;const s=yn(t),a=yn(e);return a>s?n=Zu(e.min,e.max-s,t.min):s>a&&(n=Zu(t.min,t.max-a,e.min)),As(0,1,n)}function iM(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ug=.35;function sM(t=Ug){return t===!1?t=0:t===!0&&(t=Ug),{x:mb(t,"left","right"),y:mb(t,"top","bottom")}}function mb(t,e,n){return{min:pb(t,e),max:pb(t,n)}}function pb(t,e){return typeof t=="number"?t:t[e]||0}const rM=new WeakMap;class aM{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=bt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Tc(y).point)},l=(y,v)=>{const{drag:E,dragPropagation:A,onDragStart:C}=this.getProps();if(E&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=vD(E),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qn(D=>{let U=this.getAxisMotionValue(D).get()||0;if(ki.test(U)){const{projection:G}=this.visualElement;if(G&&G.layout){const q=G.layout.layoutBox[D];q&&(U=yn(q)*(parseFloat(U)/100))}}this.originPoint[D]=U}),C&&ft.postRender(()=>C(y,v)),Og(this.visualElement,"transform");const{animationState:O}=this.visualElement;O&&O.setActive("whileDrag",!0)},c=(y,v)=>{const{dragPropagation:E,dragDirectionLock:A,onDirectionLock:C,onDrag:O}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:D}=v;if(A&&this.currentDirection===null){this.currentDirection=oM(D),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",v.point,D),this.updateAxis("y",v.point,D),this.visualElement.render(),O&&O(y,v)},f=(y,v)=>this.stop(y,v),m=()=>Qn(y=>{var v;return this.getAnimationState(y)==="paused"&&((v=this.getAxisMotionValue(y).animation)==null?void 0:v.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new QA(e,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:XA(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&ft.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!ff(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=JP(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&zo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=eM(s.layoutBox,e):this.constraints=!1,this.elastic=sM(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Qn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=iM(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!zo(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=XP(s,a.root,this.visualElement.getTransformPagePoint());let c=tM(a.layout.layoutBox,l);if(n){const f=n(BP(c));this.hasMutatedConstraints=!!f,f&&(c=qA(f))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=Qn(y=>{if(!ff(y,n,this.currentDirection))return;let v=m&&m[y]||{};c&&(v={min:0,max:0});const E=a?200:1e6,A=a?40:1e7,C={type:"inertia",velocity:s?e[y]:0,bounceStiffness:E,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,C)});return Promise.all(p).then(f)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Og(this.visualElement,e),s.start(Wy(e,s,0,n,this.visualElement,!1))}stopAnimation(){Qn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Qn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Qn(n=>{const{drag:s}=this.getProps();if(!ff(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[n];l.set(e[n]-ht(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!zo(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Qn(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const m=f.get();a[c]=nM({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Qn(c=>{if(!ff(c,e,null))return;const f=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];f.set(ht(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;rM.set(this.visualElement,this);const e=this.visualElement.current,n=Fu(e,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();zo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ft.read(s);const c=sc(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(Qn(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=m[y].translate,v.set(v.get()+m[y].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Ug,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function ff(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function oM(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class lM extends Nr{constructor(e){super(e),this.removeGroupControls=Jn,this.removeListeners=Jn,this.controls=new aM(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Jn}unmount(){this.removeGroupControls(),this.removeListeners()}}const gb=t=>(e,n)=>{t&&ft.postRender(()=>t(e,n))};class uM extends Nr{constructor(){super(...arguments),this.removePointerDownListener=Jn}onPointerDown(e){this.session=new QA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:XA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:gb(e),onStart:gb(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&ft.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Fu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const xf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function yb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Cu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(we.test(t))t=parseFloat(t);else return t;const n=yb(t,e.target.x),s=yb(t,e.target.y);return`${n}% ${s}%`}},cM={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Er.parse(t);if(a.length>5)return s;const l=Er.createTransformer(t),c=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,m=n.y.scale*e.y;a[0+c]/=f,a[1+c]/=m;const p=ht(f,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};class hM extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;XD(fM),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),xf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||ft.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),By.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ZA(t){const[e,n]=AA(),s=k.useContext(yy);return w.jsx(hM,{...t,layoutGroup:s,switchLayoutGroup:k.useContext(NA),isPresent:e,safeToRemove:n})}const fM={borderRadius:{...Cu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Cu,borderTopRightRadius:Cu,borderBottomLeftRadius:Cu,borderBottomRightRadius:Cu,boxShadow:cM};function dM(t,e,n){const s=cn(t)?t:Wo(t);return s.start(Wy("",s,e,n)),s.animation}const mM=(t,e)=>t.depth-e.depth;class pM{constructor(){this.children=[],this.isDirty=!1}add(e){Ty(this.children,e),this.isDirty=!0}remove(e){Ey(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(mM),this.isDirty=!1,this.children.forEach(e)}}function gM(t,e){const n=Sn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Tr(s),t(l-e))};return ft.setup(s,!0),()=>Tr(s)}const JA=["TopLeft","TopRight","BottomLeft","BottomRight"],yM=JA.length,_b=t=>typeof t=="string"?parseFloat(t):t,vb=t=>typeof t=="number"||we.test(t);function _M(t,e,n,s,a,l){a?(t.opacity=ht(0,n.opacity??1,vM(s)),t.opacityExit=ht(e.opacity??1,0,TM(s))):l&&(t.opacity=ht(e.opacity??1,n.opacity??1,s));for(let c=0;c<yM;c++){const f=`border${JA[c]}Radius`;let m=Tb(e,f),p=Tb(n,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||vb(m)===vb(p)?(t[f]=Math.max(ht(_b(m),_b(p),s),0),(ki.test(p)||ki.test(m))&&(t[f]+="%")):t[f]=p}(e.rotate||n.rotate)&&(t.rotate=ht(e.rotate||0,n.rotate||0,s))}function Tb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const vM=e1(0,.5,KS),TM=e1(.5,.95,Jn);function e1(t,e,n){return s=>s<t?0:s>e?1:n(Zu(t,e,s))}function Eb(t,e){t.min=e.min,t.max=e.max}function Xn(t,e){Eb(t.x,e.x),Eb(t.y,e.y)}function bb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function wb(t,e,n,s,a){return t-=e,t=qf(t,1/n,s),a!==void 0&&(t=qf(t,1/a,s)),t}function EM(t,e=0,n=1,s=.5,a,l=t,c=t){if(ki.test(e)&&(e=parseFloat(e),e=ht(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=ht(l.min,l.max,s);t===l&&(f-=e),t.min=wb(t.min,e,n,f,a),t.max=wb(t.max,e,n,f,a)}function Sb(t,e,[n,s,a],l,c){EM(t,e[n],e[s],e[a],e.scale,l,c)}const bM=["x","scaleX","originX"],wM=["y","scaleY","originY"];function Ab(t,e,n,s){Sb(t.x,e,bM,n?n.x:void 0,s?s.x:void 0),Sb(t.y,e,wM,n?n.y:void 0,s?s.y:void 0)}function xb(t){return t.translate===0&&t.scale===1}function t1(t){return xb(t.x)&&xb(t.y)}function Rb(t,e){return t.min===e.min&&t.max===e.max}function SM(t,e){return Rb(t.x,e.x)&&Rb(t.y,e.y)}function Cb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function n1(t,e){return Cb(t.x,e.x)&&Cb(t.y,e.y)}function Ib(t){return yn(t.x)/yn(t.y)}function Nb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class AM{constructor(){this.members=[]}add(e){Ty(this.members,e),e.scheduleRender()}remove(e){if(Ey(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function xM(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:v,rotateY:E,skewX:A,skewY:C}=n;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),v&&(s+=`rotateX(${v}deg) `),E&&(s+=`rotateY(${E}deg) `),A&&(s+=`skewX(${A}deg) `),C&&(s+=`skewY(${C}deg) `)}const f=t.x.scale*e.x,m=t.y.scale*e.y;return(f!==1||m!==1)&&(s+=`scale(${f}, ${m})`),s||"none"}const Jp=["","X","Y","Z"],RM={visibility:"hidden"},CM=1e3;let IM=0;function eg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function i1(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=jA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ft,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&i1(s)}function s1({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},f=e==null?void 0:e()){this.id=IM++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(PM),this.nodes.forEach(LM),this.nodes.forEach(UM),this.nodes.forEach(MM)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new pM)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Sy),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const m=this.eventHandlers.get(c);m&&m.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=SA(c)&&!AD(c),this.instance=c;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),t){let y;const v=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=gM(v,250),xf.hasAnimatedSinceResize&&(xf.hasAnimatedSinceResize=!1,this.nodes.forEach(Pb))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:E,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||p.getDefaultTransition()||qM,{onLayoutAnimationStart:O,onLayoutAnimationComplete:D}=p.getProps(),U=!this.targetLayout||!n1(this.targetLayout,A),G=!v&&E;if(this.options.layoutRoot||this.resumeFrom||G||v&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const q={...Uy(C,"layout"),onPlay:O,onComplete:D};(p.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q),this.setAnimationOrigin(y,G)}else v||Pb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Tr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(jM),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&i1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Db);return}this.isUpdating||this.nodes.forEach(VM),this.isUpdating=!1,this.nodes.forEach(kM),this.nodes.forEach(NM),this.nodes.forEach(DM),this.clearAllSnapshots();const f=Sn.now();Jt.delta=As(0,1e3/60,f-Jt.timestamp),Jt.timestamp=f,Jt.isProcessing=!0,Gp.update.process(Jt),Gp.preRender.process(Jt),Gp.render.process(Jt),Jt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,By.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(OM),this.sharedNodes.forEach(BM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!yn(this.snapshot.measuredBox.x)&&!yn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=bt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!t1(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(f||_a(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return c&&(m=this.removeTransform(m)),HM(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return bt();const f=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(GM))){const{scroll:y}=this.root;y&&(qo(f.x,y.offset.x),qo(f.y,y.offset.y))}return f}removeElementScroll(c){var m;const f=bt();if(Xn(f,c),(m=this.scroll)!=null&&m.wasRoot)return f;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:v,options:E}=y;y!==this.root&&v&&E.layoutScroll&&(v.wasRoot&&Xn(f,c),qo(f.x,v.offset.x),qo(f.y,v.offset.y))}return f}applyTransform(c,f=!1){const m=bt();Xn(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Ho(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),_a(y.latestValues)&&Ho(m,y.latestValues)}return _a(this.latestValues)&&Ho(m,this.latestValues),m}removeTransform(c){const f=bt();Xn(f,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!_a(p.latestValues))continue;kg(p.latestValues)&&p.updateSnapshot();const y=bt(),v=p.measurePageBox();Xn(y,v),Ab(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return _a(this.latestValues)&&Ab(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Jt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var E;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!(!this.layout||!(y||v))){if(this.resolvedRelativeTargetAt=Jt.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bt(),this.relativeTargetOrigin=bt(),Hu(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),Xn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=bt(),this.targetWithTransforms=bt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$P(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xn(this.target,this.layout.layoutBox),$A(this.target,this.targetDelta)):Xn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bt(),this.relativeTargetOrigin=bt(),Hu(this.relativeTargetOrigin,this.target,A.target),Xn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||kg(this.parent.latestValues)||KA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var C;const c=this.getLead(),f=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Jt.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Xn(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,E=this.treeScale.y;YP(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=bt());const{target:A}=c;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(bb(this.prevProjectionDelta.x,this.projectionDelta.x),bb(this.prevProjectionDelta.y,this.projectionDelta.y)),qu(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==E||!Nb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Nb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fo(),this.projectionDelta=Fo(),this.projectionDeltaWithTransform=Fo()}setAnimationOrigin(c,f=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},v=Fo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const E=bt(),A=m?m.source:void 0,C=this.layout?this.layout.source:void 0,O=A!==C,D=this.getStack(),U=!D||D.members.length<=1,G=!!(O&&!U&&this.options.crossfade===!0&&!this.path.some(FM));this.animationProgress=0;let q;this.mixTargetDelta=se=>{const J=se/1e3;Mb(v.x,c.x,J),Mb(v.y,c.y,J),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hu(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),zM(this.relativeTarget,this.relativeTargetOrigin,E,J),q&&SM(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=bt()),Xn(q,this.relativeTarget)),O&&(this.animationValues=y,_M(y,p,this.latestValues,J,G,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=J},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var f,m,p;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(p=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||p.stop(),this.pendingAnimation&&(Tr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ft.update(()=>{xf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Wo(0)),this.currentAnimation=dM(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),c.onUpdate&&c.onUpdate(y)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(CM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:y}=c;if(!(!f||!m||!p)){if(this!==c&&this.layout&&p&&r1(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||bt();const v=yn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+v;const E=yn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+E}Xn(f,m),Ho(f,y),qu(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new AM),this.sharedNodes.get(c).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var f;const{layoutId:c}=this.options;return c?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:c}=this.options;return c?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&eg("z",c,p,this.animationValues);for(let y=0;y<Jp.length;y++)eg(`rotate${Jp[y]}`,c,p,this.animationValues),eg(`skew${Jp[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return RM;const f={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=Af(c==null?void 0:c.pointerEvents)||"",f.transform=m?m(this.latestValues,""):"none",f;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const A={};return this.options.layoutId&&(A.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,A.pointerEvents=Af(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!_a(this.latestValues)&&(A.transform=m?m({},""):"none",this.hasProjected=!1),A}const y=p.animationValues||p.latestValues;this.applyTransformsToTarget(),f.transform=xM(this.projectionDeltaWithTransform,this.treeScale,y),m&&(f.transform=m(y,f.transform));const{x:v,y:E}=this.projectionDelta;f.transformOrigin=`${v.origin*100}% ${E.origin*100}% 0`,p.animationValues?f.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:f.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const A in nc){if(y[A]===void 0)continue;const{correct:C,applyTo:O,isCSSVariable:D}=nc[A],U=f.transform==="none"?y[A]:C(y[A],p);if(O){const G=O.length;for(let q=0;q<G;q++)f[O[q]]=U}else D?this.options.visualElement.renderState.vars[A]=U:f[A]=U}return this.options.layoutId&&(f.pointerEvents=p===this?Af(c==null?void 0:c.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var f;return(f=c.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(Db),this.root.sharedNodes.clear()}}}function NM(t){t.updateLayout()}function DM(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=t.layout,{animationType:l}=t.options,c=e.source!==t.layout.source;l==="size"?Qn(v=>{const E=c?e.measuredBox[v]:e.layoutBox[v],A=yn(E);E.min=s[v].min,E.max=E.min+A}):r1(l,e.layoutBox,s)&&Qn(v=>{const E=c?e.measuredBox[v]:e.layoutBox[v],A=yn(s[v]);E.max=E.min+A,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+A)});const f=Fo();qu(f,s,e.layoutBox);const m=Fo();c?qu(m,t.applyTransform(a,!0),e.measuredBox):qu(m,s,e.layoutBox);const p=!t1(f);let y=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:E,layout:A}=v;if(E&&A){const C=bt();Hu(C,e.layoutBox,E.layoutBox);const O=bt();Hu(O,s,A.layoutBox),n1(C,O)||(y=!0),v.options.layoutRoot&&(t.relativeTarget=O,t.relativeTargetOrigin=C,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:m,layoutDelta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:y})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function PM(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function MM(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function OM(t){t.clearSnapshot()}function Db(t){t.clearMeasurements()}function VM(t){t.isLayoutDirty=!1}function kM(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Pb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function LM(t){t.resolveTargetDelta()}function UM(t){t.calcProjection()}function jM(t){t.resetSkewAndRotation()}function BM(t){t.removeLeadSnapshot()}function Mb(t,e,n){t.translate=ht(e.translate,0,n),t.scale=ht(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Ob(t,e,n,s){t.min=ht(e.min,n.min,s),t.max=ht(e.max,n.max,s)}function zM(t,e,n,s){Ob(t.x,e.x,n.x,s),Ob(t.y,e.y,n.y,s)}function FM(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const qM={duration:.45,ease:[.4,0,.1,1]},Vb=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),kb=Vb("applewebkit/")&&!Vb("chrome/")?Math.round:Jn;function Lb(t){t.min=kb(t.min),t.max=kb(t.max)}function HM(t){Lb(t.x),Lb(t.y)}function r1(t,e,n){return t==="position"||t==="preserve-aspect"&&!KP(Ib(e),Ib(n),.2)}function GM(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const KM=s1({attachResizeListener:(t,e)=>sc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),tg={current:void 0},a1=s1({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!tg.current){const t=new KM({});t.mount(window),t.setOptions({layoutScroll:!0}),tg.current=t}return tg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),$M={pan:{Feature:uM},drag:{Feature:lM,ProjectionNode:a1,MeasureLayout:ZA}};function Ub(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&ft.postRender(()=>l(e,Tc(e)))}class YM extends Nr{mount(){const{current:e}=this.node;e&&(this.unmount=TD(e,(n,s)=>(Ub(this.node,s,"Start"),a=>Ub(this.node,a,"End"))))}unmount(){}}class XM extends Nr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yc(sc(this.node.current,"focus",()=>this.onFocus()),sc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function jb(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&ft.postRender(()=>l(e,Tc(e)))}class QM extends Nr{mount(){const{current:e}=this.node;e&&(this.unmount=SD(e,(n,s)=>(jb(this.node,s,"Start"),(a,{success:l})=>jb(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const jg=new WeakMap,ng=new WeakMap,WM=t=>{const e=jg.get(t.target);e&&e(t)},ZM=t=>{t.forEach(WM)};function JM({root:t,...e}){const n=t||document;ng.has(n)||ng.set(n,{});const s=ng.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(ZM,{root:t,...e})),s[a]}function eO(t,e,n){const s=JM(e);return jg.set(t,n),s.observe(t),()=>{jg.delete(t),s.unobserve(t)}}const tO={some:0,all:1};class nO extends Nr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:tO[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),E=p?y:v;E&&E(m)};return eO(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(iO(e,n))&&this.startObserver()}unmount(){}}function iO({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const sO={inView:{Feature:nO},tap:{Feature:QM},focus:{Feature:XM},hover:{Feature:YM}},rO={layout:{ProjectionNode:a1,MeasureLayout:ZA}},Bg={current:null},o1={current:!1};function aO(){if(o1.current=!0,!!vy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Bg.current=t.matches;t.addListener(e),e()}else Bg.current=!1}const oO=new WeakMap;function lO(t,e,n){for(const s in e){const a=e[s],l=n[s];if(cn(a))t.addValue(s,a);else if(cn(l))t.addValue(s,Wo(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,Wo(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Bb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class uO{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ky,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Sn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,ft.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=pd(n),this.isVariantNode=CA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in v){const A=v[E];m[E]!==void 0&&cn(A)&&A.set(m[E],!1)}}mount(e){this.current=e,oO.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),o1.current||aO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Bg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Tr(this.notifyUpdate),Tr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=ol.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",f=>{this.latestValues[e]=f,this.props.onUpdate&&ft.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Zo){const n=Zo[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):bt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Bb.length;s++){const a=Bb[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=lO(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Wo(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(kS(s)||US(s))?s=parseFloat(s):!RD(s)&&Er.test(n)&&(s=vA(e,n)),this.setBaseTarget(e,cn(s)?s.get():s)),cn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const c=Xy(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(s=c[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!cn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Sy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class l1 extends uO{constructor(){super(...arguments),this.KeyframeResolver=pD}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;cn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function u1(t,{style:e,vars:n},s,a){Object.assign(t.style,e,a&&a.getProjectionStyles(s));for(const l in n)t.style.setProperty(l,n[l])}function cO(t){return window.getComputedStyle(t)}class hO extends l1{constructor(){super(...arguments),this.type="html",this.renderInstance=u1}readValueFromInstance(e,n){var s;if(ol.has(n))return(s=this.projection)!=null&&s.isProjecting?Rg(n):O2(e,n);{const a=cO(e),l=(Ry(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return YA(e,n)}build(e,n,s){Ky(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Qy(e,n,s)}}const c1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fO(t,e,n,s){u1(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(c1.has(a)?a:Gy(a),e.attrs[a])}class dO extends l1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=bt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ol.has(n)){const s=_A(n);return s&&s.default||0}return n=c1.has(n)?n:Gy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return UA(e,n,s)}build(e,n,s){OA(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){fO(e,n,s,a)}mount(e){this.isSVGTag=kA(e.tagName),super.mount(e)}}const mO=(t,e)=>Yy(t)?new dO(e):new hO(e,{allowProjection:t!==k.Fragment}),pO=fP({...UP,...sO,...$M,...rO},mO),et=LD(pO);var Iu={},zb;function gO(){if(zb)return Iu;zb=1,Object.defineProperty(Iu,"__esModule",{value:!0}),Iu.parse=c,Iu.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function c(E,A){const C=new l,O=E.length;if(O<2)return C;const D=(A==null?void 0:A.decode)||y;let U=0;do{const G=E.indexOf("=",U);if(G===-1)break;const q=E.indexOf(";",U),se=q===-1?O:q;if(G>se){U=E.lastIndexOf(";",G-1)+1;continue}const J=f(E,U,G),le=m(E,G,J),P=E.slice(J,le);if(C[P]===void 0){let R=f(E,G+1,se),I=m(E,se,R);const V=D(E.slice(R,I));C[P]=V}U=se+1}while(U<O);return C}function f(E,A,C){do{const O=E.charCodeAt(A);if(O!==32&&O!==9)return A}while(++A<C);return C}function m(E,A,C){for(;A>C;){const O=E.charCodeAt(--A);if(O!==32&&O!==9)return A+1}return C}function p(E,A,C){const O=(C==null?void 0:C.encode)||encodeURIComponent;if(!t.test(E))throw new TypeError(`argument name is invalid: ${E}`);const D=O(A);if(!e.test(D))throw new TypeError(`argument val is invalid: ${A}`);let U=E+"="+D;if(!C)return U;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);U+="; Max-Age="+C.maxAge}if(C.domain){if(!n.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);U+="; Domain="+C.domain}if(C.path){if(!s.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);U+="; Path="+C.path}if(C.expires){if(!v(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);U+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(U+="; HttpOnly"),C.secure&&(U+="; Secure"),C.partitioned&&(U+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":U+="; Priority=Low";break;case"medium":U+="; Priority=Medium";break;case"high":U+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":U+="; SameSite=Strict";break;case"lax":U+="; SameSite=Lax";break;case"none":U+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return U}function y(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function v(E){return a.call(E)==="[object Date]"}return Iu}gO();var Fb="popstate";function yO(t={}){function e(s,a){let{pathname:l,search:c,hash:f}=s.location;return zg("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:rc(a)}return vO(e,n,null,t)}function lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ci(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _O(){return Math.random().toString(36).substring(2,10)}function qb(t,e){return{usr:t.state,key:t.key,idx:e}}function zg(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ll(e):e,state:n,key:e&&e.key||s||_O()}}function rc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ll(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function vO(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,f="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function v(){f="POP";let D=y(),U=D==null?null:D-p;p=D,m&&m({action:f,location:O.location,delta:U})}function E(D,U){f="PUSH";let G=zg(O.location,D,U);p=y()+1;let q=qb(G,p),se=O.createHref(G);try{c.pushState(q,"",se)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;a.location.assign(se)}l&&m&&m({action:f,location:O.location,delta:1})}function A(D,U){f="REPLACE";let G=zg(O.location,D,U);p=y();let q=qb(G,p),se=O.createHref(G);c.replaceState(q,"",se),l&&m&&m({action:f,location:O.location,delta:0})}function C(D){return TO(D)}let O={get action(){return f},get location(){return t(a,c)},listen(D){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(Fb,v),m=D,()=>{a.removeEventListener(Fb,v),m=null}},createHref(D){return e(a,D)},createURL:C,encodeLocation(D){let U=C(D);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:E,replace:A,go(D){return c.go(D)}};return O}function TO(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:rc(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function h1(t,e,n="/"){return EO(t,e,n,!1)}function EO(t,e,n,s){let a=typeof e=="string"?ll(e):e,l=Rs(a.pathname||"/",n);if(l==null)return null;let c=f1(t);bO(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=MO(l);f=DO(c[m],p,s)}return f}function f1(t,e=[],n=[],s=""){let a=(l,c,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(lt(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let p=Es([s,m.relativePath]),y=n.concat(m);l.children&&l.children.length>0&&(lt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),f1(l.children,e,y,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:IO(p,l.index),routesMeta:y})};return t.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))a(l,c);else for(let m of d1(l.path))a(l,c,m)}),e}function d1(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=d1(s.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function bO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:NO(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var wO=/^:[\w-]+$/,SO=3,AO=2,xO=1,RO=10,CO=-2,Hb=t=>t==="*";function IO(t,e){let n=t.split("/"),s=n.length;return n.some(Hb)&&(s+=CO),e&&(s+=AO),n.filter(a=>!Hb(a)).reduce((a,l)=>a+(wO.test(l)?SO:l===""?xO:RO),s)}function NO(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function DO(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",c=[];for(let f=0;f<s.length;++f){let m=s[f],p=f===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",v=Hf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),E=m.route;if(!v&&p&&n&&!s[s.length-1].route.index&&(v=Hf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:Es([l,v.pathname]),pathnameBase:LO(Es([l,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(l=Es([l,v.pathnameBase]))}return c}function Hf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=PO(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:v},E)=>{if(y==="*"){let C=f[E]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const A=f[E];return v&&!A?p[y]=void 0:p[y]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function PO(t,e=!1,n=!0){ci(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function MO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ci(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Rs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function OO(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?ll(t):t;return{pathname:n?n.startsWith("/")?n:VO(n,e):e,search:UO(s),hash:jO(a)}}function VO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function ig(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Zy(t){let e=kO(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Jy(t,e,n,s=!1){let a;typeof t=="string"?a=ll(t):(a={...t},lt(!a.pathname||!a.pathname.includes("?"),ig("?","pathname","search",a)),lt(!a.pathname||!a.pathname.includes("#"),ig("#","pathname","hash",a)),lt(!a.search||!a.search.includes("#"),ig("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=n;else{let v=e.length-1;if(!s&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),v-=1;a.pathname=E.join("/")}f=v>=0?e[v]:"/"}let m=OO(a,f),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Es=t=>t.join("/").replace(/\/\/+/g,"/"),LO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),UO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,jO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function BO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var m1=["POST","PUT","PATCH","DELETE"];new Set(m1);var zO=["GET",...m1];new Set(zO);var ul=k.createContext(null);ul.displayName="DataRouter";var gd=k.createContext(null);gd.displayName="DataRouterState";var p1=k.createContext({isTransitioning:!1});p1.displayName="ViewTransition";var FO=k.createContext(new Map);FO.displayName="Fetchers";var qO=k.createContext(null);qO.displayName="Await";var di=k.createContext(null);di.displayName="Navigation";var Ec=k.createContext(null);Ec.displayName="Location";var mi=k.createContext({outlet:null,matches:[],isDataRoute:!1});mi.displayName="Route";var e_=k.createContext(null);e_.displayName="RouteError";function HO(t,{relative:e}={}){lt(cl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=k.useContext(di),{hash:a,pathname:l,search:c}=bc(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:Es([n,l])),s.createHref({pathname:f,search:c,hash:a})}function cl(){return k.useContext(Ec)!=null}function Ps(){return lt(cl(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Ec).location}var g1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function y1(t){k.useContext(di).static||k.useLayoutEffect(t)}function Oa(){let{isDataRoute:t}=k.useContext(mi);return t?sV():GO()}function GO(){lt(cl(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(ul),{basename:e,navigator:n}=k.useContext(di),{matches:s}=k.useContext(mi),{pathname:a}=Ps(),l=JSON.stringify(Zy(s)),c=k.useRef(!1);return y1(()=>{c.current=!0}),k.useCallback((m,p={})=>{if(ci(c.current,g1),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=Jy(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Es([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}k.createContext(null);function KO(){let{matches:t}=k.useContext(mi),e=t[t.length-1];return e?e.params:{}}function bc(t,{relative:e}={}){let{matches:n}=k.useContext(mi),{pathname:s}=Ps(),a=JSON.stringify(Zy(n));return k.useMemo(()=>Jy(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function $O(t,e){return _1(t,e)}function _1(t,e,n,s){var U;lt(cl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=k.useContext(di),{matches:l}=k.useContext(mi),c=l[l.length-1],f=c?c.params:{},m=c?c.pathname:"/",p=c?c.pathnameBase:"/",y=c&&c.route;{let G=y&&y.path||"";v1(m,!y||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let v=Ps(),E;if(e){let G=typeof e=="string"?ll(e):e;lt(p==="/"||((U=G.pathname)==null?void 0:U.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${G.pathname}" was given in the \`location\` prop.`),E=G}else E=v;let A=E.pathname||"/",C=A;if(p!=="/"){let G=p.replace(/^\//,"").split("/");C="/"+A.replace(/^\//,"").split("/").slice(G.length).join("/")}let O=h1(t,{pathname:C});ci(y||O!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),ci(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=ZO(O&&O.map(G=>Object.assign({},G,{params:Object.assign({},f,G.params),pathname:Es([p,a.encodeLocation?a.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?p:Es([p,a.encodeLocation?a.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),l,n,s);return e&&D?k.createElement(Ec.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},D):D}function YO(){let t=iV(),e=BO(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:l},"ErrorBoundary")," or"," ",k.createElement("code",{style:l},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:a},n):null,c)}var XO=k.createElement(YO,null),QO=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?k.createElement(mi.Provider,{value:this.props.routeContext},k.createElement(e_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function WO({routeContext:t,match:e,children:n}){let s=k.useContext(ul);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(mi.Provider,{value:t},n)}function ZO(t,e=[],n=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let m=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);lt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,f=-1;if(n)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=m),p.route.id){let{loaderData:y,errors:v}=n,E=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||E){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((m,p,y)=>{let v,E=!1,A=null,C=null;n&&(v=l&&p.route.id?l[p.route.id]:void 0,A=p.route.errorElement||XO,c&&(f<0&&y===0?(v1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,C=null):f===y&&(E=!0,C=p.route.hydrateFallbackElement||null)));let O=e.concat(a.slice(0,y+1)),D=()=>{let U;return v?U=A:E?U=C:p.route.Component?U=k.createElement(p.route.Component,null):p.route.element?U=p.route.element:U=m,k.createElement(WO,{match:p,routeContext:{outlet:m,matches:O,isDataRoute:n!=null},children:U})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?k.createElement(QO,{location:n.location,revalidation:n.revalidation,component:A,error:v,children:D(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):D()},null)}function t_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JO(t){let e=k.useContext(ul);return lt(e,t_(t)),e}function eV(t){let e=k.useContext(gd);return lt(e,t_(t)),e}function tV(t){let e=k.useContext(mi);return lt(e,t_(t)),e}function n_(t){let e=tV(t),n=e.matches[e.matches.length-1];return lt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function nV(){return n_("useRouteId")}function iV(){var s;let t=k.useContext(e_),e=eV("useRouteError"),n=n_("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function sV(){let{router:t}=JO("useNavigate"),e=n_("useNavigate"),n=k.useRef(!1);return y1(()=>{n.current=!0}),k.useCallback(async(a,l={})=>{ci(n.current,g1),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var Gb={};function v1(t,e,n){!e&&!Gb[t]&&(Gb[t]=!0,ci(!1,n))}k.memo(rV);function rV({routes:t,future:e,state:n}){return _1(t,void 0,n,e)}function T1({to:t,replace:e,state:n,relative:s}){lt(cl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=k.useContext(di);ci(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=k.useContext(mi),{pathname:c}=Ps(),f=Oa(),m=Jy(t,Zy(l),c,s==="path"),p=JSON.stringify(m);return k.useEffect(()=>{f(JSON.parse(p),{replace:e,state:n,relative:s})},[f,p,s,e,n]),null}function ai(t){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aV({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){lt(!cl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),f=k.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=ll(n));let{pathname:m="/",search:p="",hash:y="",state:v=null,key:E="default"}=n,A=k.useMemo(()=>{let C=Rs(m,c);return C==null?null:{location:{pathname:C,search:p,hash:y,state:v,key:E},navigationType:s}},[c,m,p,y,v,E,s]);return ci(A!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:k.createElement(di.Provider,{value:f},k.createElement(Ec.Provider,{children:e,value:A}))}function oV({children:t,location:e}){return $O(Fg(t),e)}function Fg(t,e=[]){let n=[];return k.Children.forEach(t,(s,a)=>{if(!k.isValidElement(s))return;let l=[...e,a];if(s.type===k.Fragment){n.push.apply(n,Fg(s.props.children,l));return}lt(s.type===ai,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Fg(s.props.children,l)),n.push(c)}),n}var Rf="get",Cf="application/x-www-form-urlencoded";function yd(t){return t!=null&&typeof t.tagName=="string"}function lV(t){return yd(t)&&t.tagName.toLowerCase()==="button"}function uV(t){return yd(t)&&t.tagName.toLowerCase()==="form"}function cV(t){return yd(t)&&t.tagName.toLowerCase()==="input"}function hV(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function fV(t,e){return t.button===0&&(!e||e==="_self")&&!hV(t)}var df=null;function dV(){if(df===null)try{new FormData(document.createElement("form"),0),df=!1}catch{df=!0}return df}var mV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sg(t){return t!=null&&!mV.has(t)?(ci(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cf}"`),null):t}function pV(t,e){let n,s,a,l,c;if(uV(t)){let f=t.getAttribute("action");s=f?Rs(f,e):null,n=t.getAttribute("method")||Rf,a=sg(t.getAttribute("enctype"))||Cf,l=new FormData(t)}else if(lV(t)||cV(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||f.getAttribute("action");if(s=m?Rs(m,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Rf,a=sg(t.getAttribute("formenctype"))||sg(f.getAttribute("enctype"))||Cf,l=new FormData(f,t),!dV()){let{name:p,type:y,value:v}=t;if(y==="image"){let E=p?`${p}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else p&&l.append(p,v)}}else{if(yd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Rf,s=null,a=Cf,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}function i_(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function gV(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yV(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function _V(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await gV(l,n);return c.links?c.links():[]}return[]}));return bV(s.flat(1).filter(yV).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Kb(t,e,n,s,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>{var y;return n[p].pathname!==m.pathname||((y=n[p].route.path)==null?void 0:y.endsWith("*"))&&n[p].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,p)=>c(m,p)||f(m,p)):l==="data"?e.filter((m,p)=>{var v;let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function vV(t,e,{includeHydrateFallback:n}={}){return TV(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function TV(t){return[...new Set(t)]}function EV(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function bV(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(EV(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var wV=new Set([100,101,204,205]);function SV(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Rs(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function E1(){let t=k.useContext(ul);return i_(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function AV(){let t=k.useContext(gd);return i_(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var s_=k.createContext(void 0);s_.displayName="FrameworkContext";function b1(){let t=k.useContext(s_);return i_(t,"You must render this element inside a <HydratedRouter> element"),t}function xV(t,e){let n=k.useContext(s_),[s,a]=k.useState(!1),[l,c]=k.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:v}=e,E=k.useRef(null);k.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let O=U=>{U.forEach(G=>{c(G.isIntersecting)})},D=new IntersectionObserver(O,{threshold:.5});return E.current&&D.observe(E.current),()=>{D.disconnect()}}},[t]),k.useEffect(()=>{if(s){let O=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(O)}}},[s]);let A=()=>{a(!0)},C=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,E,{}]:[l,E,{onFocus:Nu(f,A),onBlur:Nu(m,C),onMouseEnter:Nu(p,A),onMouseLeave:Nu(y,C),onTouchStart:Nu(v,A)}]:[!1,E,{}]}function Nu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function RV({page:t,...e}){let{router:n}=E1(),s=k.useMemo(()=>h1(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?k.createElement(IV,{page:t,matches:s,...e}):null}function CV(t){let{manifest:e,routeModules:n}=b1(),[s,a]=k.useState([]);return k.useEffect(()=>{let l=!1;return _V(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),s}function IV({page:t,matches:e,...n}){let s=Ps(),{manifest:a,routeModules:l}=b1(),{basename:c}=E1(),{loaderData:f,matches:m}=AV(),p=k.useMemo(()=>Kb(t,e,m,a,s,"data"),[t,e,m,a,s]),y=k.useMemo(()=>Kb(t,e,m,a,s,"assets"),[t,e,m,a,s]),v=k.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let C=new Set,O=!1;if(e.forEach(U=>{var q;let G=a.routes[U.route.id];!G||!G.hasLoader||(!p.some(se=>se.route.id===U.route.id)&&U.route.id in f&&((q=l[U.route.id])!=null&&q.shouldRevalidate)||G.hasClientLoader?O=!0:C.add(U.route.id))}),C.size===0)return[];let D=SV(t,c);return O&&C.size>0&&D.searchParams.set("_routes",e.filter(U=>C.has(U.route.id)).map(U=>U.route.id).join(",")),[D.pathname+D.search]},[c,f,s,a,p,e,t,l]),E=k.useMemo(()=>vV(y,a),[y,a]),A=CV(y);return k.createElement(k.Fragment,null,v.map(C=>k.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),E.map(C=>k.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),A.map(({key:C,link:O})=>k.createElement("link",{key:C,...O})))}function NV(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var w1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{w1&&(window.__reactRouterVersion="7.6.2")}catch{}function DV({basename:t,children:e,window:n}){let s=k.useRef();s.current==null&&(s.current=yO({window:n,v5Compat:!0}));let a=s.current,[l,c]=k.useState({action:a.action,location:a.location}),f=k.useCallback(m=>{k.startTransition(()=>c(m))},[c]);return k.useLayoutEffect(()=>a.listen(f),[a,f]),k.createElement(aV,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var S1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ye=k.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:f,target:m,to:p,preventScrollReset:y,viewTransition:v,...E},A){let{basename:C}=k.useContext(di),O=typeof p=="string"&&S1.test(p),D,U=!1;if(typeof p=="string"&&O&&(D=p,w1))try{let I=new URL(window.location.href),V=p.startsWith("//")?new URL(I.protocol+p):new URL(p),B=Rs(V.pathname,C);V.origin===I.origin&&B!=null?p=B+V.search+V.hash:U=!0}catch{ci(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=HO(p,{relative:a}),[q,se,J]=xV(s,E),le=VV(p,{replace:c,state:f,target:m,preventScrollReset:y,relative:a,viewTransition:v});function P(I){e&&e(I),I.defaultPrevented||le(I)}let R=k.createElement("a",{...E,...J,href:D||G,onClick:U||l?e:P,ref:NV(A,se),target:m,"data-discover":!O&&n==="render"?"true":void 0});return q&&!O?k.createElement(k.Fragment,null,R,k.createElement(RV,{page:G})):R});Ye.displayName="Link";var PV=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:f,children:m,...p},y){let v=bc(c,{relative:p.relative}),E=Ps(),A=k.useContext(gd),{navigator:C,basename:O}=k.useContext(di),D=A!=null&&BV(v)&&f===!0,U=C.encodeLocation?C.encodeLocation(v).pathname:v.pathname,G=E.pathname,q=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(G=G.toLowerCase(),q=q?q.toLowerCase():null,U=U.toLowerCase()),q&&O&&(q=Rs(q,O)||q);const se=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let J=G===U||!a&&G.startsWith(U)&&G.charAt(se)==="/",le=q!=null&&(q===U||!a&&q.startsWith(U)&&q.charAt(U.length)==="/"),P={isActive:J,isPending:le,isTransitioning:D},R=J?e:void 0,I;typeof s=="function"?I=s(P):I=[s,J?"active":null,le?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(P):l;return k.createElement(Ye,{...p,"aria-current":R,className:I,ref:y,style:V,to:c,viewTransition:f},typeof m=="function"?m(P):m)});PV.displayName="NavLink";var MV=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:c=Rf,action:f,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:v,...E},A)=>{let C=UV(),O=jV(f,{relative:p}),D=c.toLowerCase()==="get"?"get":"post",U=typeof f=="string"&&S1.test(f),G=q=>{if(m&&m(q),q.defaultPrevented)return;q.preventDefault();let se=q.nativeEvent.submitter,J=(se==null?void 0:se.getAttribute("formmethod"))||c;C(se||q.currentTarget,{fetcherKey:e,method:J,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:v})};return k.createElement("form",{ref:A,method:D,action:O,onSubmit:s?m:G,...E,"data-discover":!U&&t==="render"?"true":void 0})});MV.displayName="Form";function OV(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function A1(t){let e=k.useContext(ul);return lt(e,OV(t)),e}function VV(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c}={}){let f=Oa(),m=Ps(),p=bc(t,{relative:l});return k.useCallback(y=>{if(fV(y,e)){y.preventDefault();let v=n!==void 0?n:rc(m)===rc(p);f(t,{replace:v,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[m,f,p,n,s,e,t,a,l,c])}var kV=0,LV=()=>`__${String(++kV)}__`;function UV(){let{router:t}=A1("useSubmit"),{basename:e}=k.useContext(di),n=nV();return k.useCallback(async(s,a={})=>{let{action:l,method:c,encType:f,formData:m,body:p}=pV(s,e);if(a.navigate===!1){let y=a.fetcherKey||LV();await t.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||f,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function jV(t,{relative:e}={}){let{basename:n}=k.useContext(di),s=k.useContext(mi);lt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...bc(t||".",{relative:e})},c=Ps();if(t==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(v=>v).forEach(v=>f.append("index",v));let y=f.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Es([n,l.pathname])),rc(l)}function BV(t,e={}){let n=k.useContext(p1);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=A1("useViewTransitionState"),a=bc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=Rs(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Rs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Hf(a.pathname,c)!=null||Hf(a.pathname,l)!=null}[...wV];const zV=()=>{};var $b={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},FV=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],f=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},R1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,f=c?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,y=l>>2,v=(l&3)<<4|f>>4;let E=(f&15)<<2|p>>6,A=p&63;m||(A=64,c||(E=64)),s.push(n[y],n[v],n[E],n[A])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(x1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):FV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||p==null||v==null)throw new qV;const E=l<<2|f>>4;if(s.push(E),p!==64){const A=f<<4&240|p>>2;if(s.push(A),v!==64){const C=p<<6&192|v;s.push(C)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HV=function(t){const e=x1(t);return R1.encodeByteArray(e,!0)},Gf=function(t){return HV(t).replace(/\./g,"")},C1=function(t){try{return R1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV=()=>GV().__FIREBASE_DEFAULTS__,$V=()=>{if(typeof process>"u"||typeof $b>"u")return;const t=$b.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},YV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&C1(t[1]);return e&&JSON.parse(e)},_d=()=>{try{return zV()||KV()||$V()||YV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},I1=t=>{var e,n;return(n=(e=_d())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},N1=t=>{const e=I1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},D1=()=>{var t;return(t=_d())==null?void 0:t.config},P1=t=>{var e;return(e=_d())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function r_(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Gf(JSON.stringify(n)),Gf(JSON.stringify(c)),""].join(".")}const Gu={};function QV(){const t={prod:[],emulator:[]};for(const e of Object.keys(Gu))Gu[e]?t.emulator.push(e):t.prod.push(e);return t}function WV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Yb=!1;function a_(t,e){if(typeof window>"u"||typeof document>"u"||!Dr(window.location.host)||Gu[t]===e||Gu[t]||Yb)return;Gu[t]=e;function n(E){return`__firebase__banner__${E}`}const s="__firebase__banner",l=QV().prod.length>0;function c(){const E=document.getElementById(s);E&&E.remove()}function f(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,A){E.setAttribute("width","24"),E.setAttribute("id",A),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{Yb=!0,c()},E}function y(E,A){E.setAttribute("id",A),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=WV(s),A=n("text"),C=document.getElementById(A)||document.createElement("span"),O=n("learnmore"),D=document.getElementById(O)||document.createElement("a"),U=n("preprendIcon"),G=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const q=E.element;f(q),y(D,O);const se=p();m(G,U),q.append(G,C,D,se),document.body.appendChild(q)}l?(C.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function JV(){var e;const t=(e=_d())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ek(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ik(){const t=hn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sk(){return!JV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rk(){try{return typeof indexedDB=="object"}catch{return!1}}function ak(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)==null?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok="FirebaseError";class Ki extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=ok,Object.setPrototypeOf(this,Ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wc.prototype.create)}}class wc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?lk(l,s):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new Ki(a,f,s)}}function lk(t,e){return t.replace(uk,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const uk=/\{\$([^}]+)}/g;function ck(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ra(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],c=e[a];if(Xb(l)&&Xb(c)){if(!Ra(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Xb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Mu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Ou(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function hk(t,e){const n=new fk(t,e);return n.subscribe.bind(n)}class fk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");dk(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=rg),a.error===void 0&&(a.error=rg),a.complete===void 0&&(a.complete=rg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function rg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(t){return t&&t._delegate?t._delegate:t}class br{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new XV;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gk(e))try{this.getOrInitializeService({instanceIdentifier:va})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=va){return this.instances.has(e)}getOptions(e=va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&c.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:pk(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=va){return this.component?this.component.multipleInstances?e:va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pk(t){return t===va?void 0:t}function gk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Me||(Me={}));const _k={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},vk=Me.INFO,Tk={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},Ek=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=Tk[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class o_{constructor(e){this.name=e,this._logLevel=vk,this._logHandler=Ek,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_k[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const bk=(t,e)=>e.some(n=>t instanceof n);let Qb,Wb;function wk(){return Qb||(Qb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Sk(){return Wb||(Wb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const O1=new WeakMap,qg=new WeakMap,V1=new WeakMap,ag=new WeakMap,l_=new WeakMap;function Ak(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(gr(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&O1.set(n,t)}).catch(()=>{}),l_.set(e,t),e}function xk(t){if(qg.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});qg.set(t,e)}let Hg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return qg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||V1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Rk(t){Hg=t(Hg)}function Ck(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(og(this),e,...n);return V1.set(s,e.sort?e.sort():[e]),gr(s)}:Sk().includes(t)?function(...e){return t.apply(og(this),e),gr(O1.get(this))}:function(...e){return gr(t.apply(og(this),e))}}function Ik(t){return typeof t=="function"?Ck(t):(t instanceof IDBTransaction&&xk(t),bk(t,wk())?new Proxy(t,Hg):t)}function gr(t){if(t instanceof IDBRequest)return Ak(t);if(ag.has(t))return ag.get(t);const e=Ik(t);return e!==t&&(ag.set(t,e),l_.set(e,t)),e}const og=t=>l_.get(t);function Nk(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),f=gr(c);return s&&c.addEventListener("upgradeneeded",m=>{s(gr(c.result),m.oldVersion,m.newVersion,gr(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const Dk=["get","getKey","getAll","getAllKeys","count"],Pk=["put","add","delete","clear"],lg=new Map;function Zb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(lg.get(e))return lg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=Pk.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||Dk.includes(n)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return lg.set(e,l),l}Rk(t=>({...t,get:(e,n,s)=>Zb(e,n)||t.get(e,n,s),has:(e,n)=>!!Zb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ok(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Ok(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gg="@firebase/app",Jb="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new o_("@firebase/app"),Vk="@firebase/app-compat",kk="@firebase/analytics-compat",Lk="@firebase/analytics",Uk="@firebase/app-check-compat",jk="@firebase/app-check",Bk="@firebase/auth",zk="@firebase/auth-compat",Fk="@firebase/database",qk="@firebase/data-connect",Hk="@firebase/database-compat",Gk="@firebase/functions",Kk="@firebase/functions-compat",$k="@firebase/installations",Yk="@firebase/installations-compat",Xk="@firebase/messaging",Qk="@firebase/messaging-compat",Wk="@firebase/performance",Zk="@firebase/performance-compat",Jk="@firebase/remote-config",e4="@firebase/remote-config-compat",t4="@firebase/storage",n4="@firebase/storage-compat",i4="@firebase/firestore",s4="@firebase/ai",r4="@firebase/firestore-compat",a4="firebase",o4="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg="[DEFAULT]",l4={[Gg]:"fire-core",[Vk]:"fire-core-compat",[Lk]:"fire-analytics",[kk]:"fire-analytics-compat",[jk]:"fire-app-check",[Uk]:"fire-app-check-compat",[Bk]:"fire-auth",[zk]:"fire-auth-compat",[Fk]:"fire-rtdb",[qk]:"fire-data-connect",[Hk]:"fire-rtdb-compat",[Gk]:"fire-fn",[Kk]:"fire-fn-compat",[$k]:"fire-iid",[Yk]:"fire-iid-compat",[Xk]:"fire-fcm",[Qk]:"fire-fcm-compat",[Wk]:"fire-perf",[Zk]:"fire-perf-compat",[Jk]:"fire-rc",[e4]:"fire-rc-compat",[t4]:"fire-gcs",[n4]:"fire-gcs-compat",[i4]:"fire-fst",[r4]:"fire-fst-compat",[s4]:"fire-vertex","fire-js":"fire-js",[a4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf=new Map,u4=new Map,$g=new Map;function ew(t,e){try{t.container.addComponent(e)}catch(n){Cs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ca(t){const e=t.name;if($g.has(e))return Cs.debug(`There were multiple attempts to register component ${e}.`),!1;$g.set(e,t);for(const n of Kf.values())ew(n,t);for(const n of u4.values())ew(n,t);return!0}function vd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function On(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yr=new wc("app","Firebase",c4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new br("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=o4;function k1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Kg,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw yr.create("bad-app-name",{appName:String(a)});if(n||(n=D1()),!n)throw yr.create("no-options");const l=Kf.get(a);if(l){if(Ra(n,l.options)&&Ra(s,l.config))return l;throw yr.create("duplicate-app",{appName:a})}const c=new yk(a);for(const m of $g.values())c.addComponent(m);const f=new h4(n,s,c);return Kf.set(a,f),f}function u_(t=Kg){const e=Kf.get(t);if(!e&&t===Kg&&D1())return k1();if(!e)throw yr.create("no-app",{appName:t});return e}function Li(t,e,n){let s=l4[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cs.warn(c.join(" "));return}Ca(new br(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4="firebase-heartbeat-database",d4=1,ac="firebase-heartbeat-store";let ug=null;function L1(){return ug||(ug=Nk(f4,d4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ac)}catch(n){console.warn(n)}}}}).catch(t=>{throw yr.create("idb-open",{originalErrorMessage:t.message})})),ug}async function m4(t){try{const n=(await L1()).transaction(ac),s=await n.objectStore(ac).get(U1(t));return await n.done,s}catch(e){if(e instanceof Ki)Cs.warn(e.message);else{const n=yr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Cs.warn(n.message)}}}async function tw(t,e){try{const s=(await L1()).transaction(ac,"readwrite");await s.objectStore(ac).put(e,U1(t)),await s.done}catch(n){if(n instanceof Ki)Cs.warn(n.message);else{const s=yr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Cs.warn(s.message)}}}function U1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=1024,g4=30;class y4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new v4(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=nw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>g4){const c=T4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Cs.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=nw(),{heartbeatsToSend:s,unsentEntries:a}=_4(this._heartbeatsCache.heartbeats),l=Gf(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Cs.warn(n),""}}}function nw(){return new Date().toISOString().substring(0,10)}function _4(t,e=p4){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),iw(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),iw(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class v4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rk()?ak().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await m4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return tw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return tw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function iw(t){return Gf(JSON.stringify({version:2,heartbeats:t})).length}function T4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(t){Ca(new br("platform-logger",e=>new Mk(e),"PRIVATE")),Ca(new br("heartbeat",e=>new y4(e),"PRIVATE")),Li(Gg,Jb,t),Li(Gg,Jb,"esm2020"),Li("fire-js","")}E4("");var b4="firebase",w4="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Li(b4,w4,"app");function j1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const S4=j1,B1=new wc("auth","Firebase",j1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f=new o_("@firebase/auth");function A4(t,...e){$f.logLevel<=Me.WARN&&$f.warn(`Auth (${Va}): ${t}`,...e)}function If(t,...e){$f.logLevel<=Me.ERROR&&$f.error(`Auth (${Va}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(t,...e){throw c_(t,...e)}function Ui(t,...e){return c_(t,...e)}function z1(t,e,n){const s={...S4(),[e]:n};return new wc("auth","Firebase",s).create(e,{appName:t.name})}function bs(t){return z1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function c_(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return B1.create(t,...e)}function Te(t,e,...n){if(!t)throw c_(e,...n)}function vs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw If(e),new Error(e)}function Is(t,e){t||vs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function x4(){return sw()==="http:"||sw()==="https:"}function sw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(x4()||tk()||"connection"in navigator)?navigator.onLine:!0}function C4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n){this.shortDelay=e,this.longDelay=n,Is(n>e,"Short delay should be less than long delay!"),this.isMobile=ZV()||nk()}get(){return R4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(t,e){Is(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],D4=new Ac(3e4,6e4);function Pr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Mr(t,e,n,s,a={}){return q1(t,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const f=Sc({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return ek()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Dr(t.emulatorConfig.host)&&(p.credentials="include"),F1.fetch()(await H1(t,t.config.apiHost,n,f),p)})}async function q1(t,e,n){t._canInitEmulator=!1;const s={...I4,...e};try{const a=new M4(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw mf(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw mf(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw mf(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw mf(t,"user-disabled",c);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw z1(t,y,p);hi(t,y)}}catch(a){if(a instanceof Ki)throw a;hi(t,"network-request-failed",{message:String(a)})}}async function xc(t,e,n,s,a={}){const l=await Mr(t,e,n,s,a);return"mfaPendingCredential"in l&&hi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function H1(t,e,n,s){const a=`${e}${n}?${s}`,l=t,c=l.config.emulator?h_(t.config,a):`${t.config.apiScheme}://${a}`;return N4.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function P4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class M4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ui(this.auth,"network-request-failed")),D4.get())})}}function mf(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Ui(t,e,s);return a.customData._tokenResponse=n,a}function rw(t){return t!==void 0&&t.enterprise!==void 0}class O4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return P4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function V4(t,e){return Mr(t,"GET","/v2/recaptchaConfig",Pr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k4(t,e){return Mr(t,"POST","/v1/accounts:delete",e)}async function Yf(t,e){return Mr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function L4(t,e=!1){const n=Bt(t),s=await n.getIdToken(e),a=f_(s);Te(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:Ku(cg(a.auth_time)),issuedAtTime:Ku(cg(a.iat)),expirationTime:Ku(cg(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function cg(t){return Number(t)*1e3}function f_(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return If("JWT malformed, contained fewer than 3 sections"),null;try{const a=C1(n);return a?JSON.parse(a):(If("Failed to decode base64 JWT payload"),null)}catch(a){return If("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function aw(t){const e=f_(t);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oc(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ki&&U4(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function U4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ku(this.lastLoginAt),this.creationTime=Ku(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xf(t){var v;const e=t.auth,n=await t.getIdToken(),s=await oc(t,Yf(e,{idToken:n}));Te(s==null?void 0:s.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=(v=a.providerUserInfo)!=null&&v.length?G1(a.providerUserInfo):[],c=z4(t.providerData,l),f=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),p=f?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Xg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function B4(t){const e=Bt(t);await Xf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function z4(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function G1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F4(t,e){const n=await q1(t,{},async()=>{const s=Sc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await H1(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:s};return t.emulatorConfig&&Dr(t.emulatorConfig.host)&&(m.credentials="include"),F1.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function q4(t,e){return Mr(t,"POST","/v2/accounts:revokeToken",Pr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=aw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await F4(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new Ko;return s&&(Te(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(Te(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Te(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ko,this.toJSON())}_performRefresh(){return vs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(t,e){Te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class li{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new j4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Xg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await oc(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return L4(this,e)}reload(){return B4(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new li({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Xf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(On(this.auth.app))return Promise.reject(bs(this.auth));const e=await this.getIdToken();return await oc(this,k4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,f=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:v,emailVerified:E,isAnonymous:A,providerData:C,stsTokenManager:O}=n;Te(v&&O,e,"internal-error");const D=Ko.fromJSON(this.name,O);Te(typeof v=="string",e,"internal-error"),lr(s,e.name),lr(a,e.name),Te(typeof E=="boolean",e,"internal-error"),Te(typeof A=="boolean",e,"internal-error"),lr(l,e.name),lr(c,e.name),lr(f,e.name),lr(m,e.name),lr(p,e.name),lr(y,e.name);const U=new li({uid:v,auth:e,email:a,emailVerified:E,displayName:s,isAnonymous:A,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:D,createdAt:p,lastLoginAt:y});return C&&Array.isArray(C)&&(U.providerData=C.map(G=>({...G}))),m&&(U._redirectEventId=m),U}static async _fromIdTokenResponse(e,n,s=!1){const a=new Ko;a.updateFromServerResponse(n);const l=new li({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Xf(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Te(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?G1(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new Ko;f.updateFromIdToken(s);const m=new li({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Xg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=new Map;function Ts(t){Is(t instanceof Function,"Expected a class definition");let e=ow.get(t);return e?(Is(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ow.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}K1.type="NONE";const lw=K1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(t,e,n){return`firebase:${t}:${e}:${n}`}class $o{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Nf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Nf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Yf(this.auth,{idToken:e}).catch(()=>{});return n?li._fromGetAccountInfoResponse(this.auth,n,e):null}return li._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new $o(Ts(lw),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Ts(lw);const c=Nf(s,e.config.apiKey,e.name);let f=null;for(const p of n)try{const y=await p._get(c);if(y){let v;if(typeof y=="string"){const E=await Yf(e,{idToken:y}).catch(()=>{});if(!E)break;v=await li._fromGetAccountInfoResponse(e,E,y)}else v=li._fromJSON(e,y);p!==l&&(f=v),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new $o(l,e,s):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new $o(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Q1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Z1(e))return"Blackberry";if(J1(e))return"Webos";if(Y1(e))return"Safari";if((e.includes("chrome/")||X1(e))&&!e.includes("edge/"))return"Chrome";if(W1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function $1(t=hn()){return/firefox\//i.test(t)}function Y1(t=hn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function X1(t=hn()){return/crios\//i.test(t)}function Q1(t=hn()){return/iemobile/i.test(t)}function W1(t=hn()){return/android/i.test(t)}function Z1(t=hn()){return/blackberry/i.test(t)}function J1(t=hn()){return/webos/i.test(t)}function d_(t=hn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function H4(t=hn()){var e;return d_(t)&&!!((e=window.navigator)!=null&&e.standalone)}function G4(){return ik()&&document.documentMode===10}function ex(t=hn()){return d_(t)||W1(t)||J1(t)||Z1(t)||/windows phone/i.test(t)||Q1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(t,e=[]){let n;switch(t){case"Browser":n=uw(hn());break;case"Worker":n=`${uw(hn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Va}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,f)=>{try{const m=e(l);c(m)}catch(m){f(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $4(t,e={}){return Mr(t,"GET","/v2/passwordPolicy",Pr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=6;class X4{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Y4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cw(this),this.idTokenSubscription=new cw(this),this.beforeStateQueue=new K4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=B1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ts(n)),this._initializationPromise=this.queue(async()=>{var s,a,l;if(!this._deleted&&(this.persistenceManager=await $o.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Yf(this,{idToken:e}),s=await li._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(On(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,f=s==null?void 0:s._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===f)&&(m!=null&&m.user)&&(s=m.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=C4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(On(this.app))return Promise.reject(bs(this));const n=e?Bt(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return On(this.app)?Promise.reject(bs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return On(this.app)?Promise.reject(bs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $4(this),n=new X4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await q4(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ts(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await $o.create(this,[Ts(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(On(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&A4(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ka(t){return Bt(t)}class cw{constructor(e){this.auth=e,this.observer=null,this.addObserver=hk(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Td={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function W4(t){Td=t}function nx(t){return Td.loadJS(t)}function Z4(){return Td.recaptchaEnterpriseScript}function J4(){return Td.gapiScript}function eL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class tL{constructor(){this.enterprise=new nL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class nL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const iL="recaptcha-enterprise",ix="NO_RECAPTCHA";class sL{constructor(e){this.type=iL,this.auth=ka(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{V4(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new O4(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{f(m)})})}function a(l,c,f){const m=window.grecaptcha;rw(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(ix)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tL().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(f=>{if(!n&&rw(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=Z4();m.length!==0&&(m+=f),nx(m).then(()=>{a(f,l,c)}).catch(p=>{c(p)})}}).catch(f=>{c(f)})})}}async function hw(t,e,n,s=!1,a=!1){const l=new sL(t);let c;if(a)c=ix;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const f={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Qg(t,e,n,s,a){var l;if((l=t._getRecaptchaConfig())!=null&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await hw(t,e,n,n==="getOobCode");return s(t,c)}else return s(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await hw(t,e,n,n==="getOobCode");return s(t,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(t,e){const n=vd(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ra(l,e??{}))return a;hi(a,"already-initialized")}return n.initialize({options:e})}function aL(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ts);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function oL(t,e,n){const s=ka(t);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=sx(e),{host:c,port:f}=lL(e),m=f===null?"":`:${f}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(Ra(p,s.config.emulator)&&Ra(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,Dr(c)?(r_(`${l}//${c}${m}`),a_("Auth",!0)):uL()}function sx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function lL(t){const e=sx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:fw(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:fw(c)}}}function fw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function uL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vs("not implemented")}_getIdTokenResponse(e){return vs("not implemented")}_linkToIdToken(e,n){return vs("not implemented")}_getReauthenticationResolver(e){return vs("not implemented")}}async function cL(t,e){return Mr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hL(t,e){return xc(t,"POST","/v1/accounts:signInWithPassword",Pr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fL(t,e){return xc(t,"POST","/v1/accounts:signInWithEmailLink",Pr(t,e))}async function dL(t,e){return xc(t,"POST","/v1/accounts:signInWithEmailLink",Pr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc extends m_{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new lc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new lc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qg(e,n,"signInWithPassword",hL);case"emailLink":return fL(e,{email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qg(e,s,"signUpPassword",cL);case"emailLink":return dL(e,{idToken:n,email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(t,e){return xc(t,"POST","/v1/accounts:signInWithIdp",Pr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL="http://localhost";class Ia extends m_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new Ia(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Yo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Yo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Yo(e,n)}buildRequest(){const e={requestUri:mL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Sc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gL(t){const e=Mu(Ou(t)).link,n=e?Mu(Ou(e)).deep_link_id:null,s=Mu(Ou(t)).deep_link_id;return(s?Mu(Ou(s)).link:null)||s||n||e||t}class p_{constructor(e){const n=Mu(Ou(e)),s=n.apiKey??null,a=n.oobCode??null,l=pL(n.mode??null);Te(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=gL(e);try{return new p_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(){this.providerId=hl.PROVIDER_ID}static credential(e,n){return lc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=p_.parseLink(n);return Te(s,"argument-error"),lc._fromEmailAndCode(e,s.code,s.tenantId)}}hl.PROVIDER_ID="password";hl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends rx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends Rc{constructor(){super("facebook.com")}static credential(e){return Ia._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cr.credential(e.oauthAccessToken)}catch{return null}}}cr.FACEBOOK_SIGN_IN_METHOD="facebook.com";cr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr extends Rc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ia._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return hr.credential(n,s)}catch{return null}}}hr.GOOGLE_SIGN_IN_METHOD="google.com";hr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends Rc{constructor(){super("github.com")}static credential(e){return Ia._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fr.credential(e.oauthAccessToken)}catch{return null}}}fr.GITHUB_SIGN_IN_METHOD="github.com";fr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends Rc{constructor(){super("twitter.com")}static credential(e,n){return Ia._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return dr.credential(n,s)}catch{return null}}}dr.TWITTER_SIGN_IN_METHOD="twitter.com";dr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yL(t,e){return xc(t,"POST","/v1/accounts:signUp",Pr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await li._fromIdTokenResponse(e,s,a),c=dw(s);return new Na({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=dw(s);return new Na({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function dw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf extends Ki{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Qf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new Qf(e,n,s,a)}}function ax(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Qf._fromErrorAndOperation(t,l,e,s):l})}async function _L(t,e,n=!1){const s=await oc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Na._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vL(t,e,n=!1){const{auth:s}=t;if(On(s.app))return Promise.reject(bs(s));const a="reauthenticate";try{const l=await oc(t,ax(s,a,e,t),n);Te(l.idToken,s,"internal-error");const c=f_(l.idToken);Te(c,s,"internal-error");const{sub:f}=c;return Te(t.uid===f,s,"user-mismatch"),Na._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&hi(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ox(t,e,n=!1){if(On(t.app))return Promise.reject(bs(t));const s="signIn",a=await ax(t,s,e),l=await Na._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function TL(t,e){return ox(ka(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lx(t){const e=ka(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function EL(t,e,n){if(On(t.app))return Promise.reject(bs(t));const s=ka(t),c=await Qg(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yL).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&lx(t),m}),f=await Na._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(f.user),f}function bL(t,e,n){return On(t.app)?Promise.reject(bs(t)):TL(Bt(t),hl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&lx(t),s})}function wL(t,e,n,s){return Bt(t).onIdTokenChanged(e,n,s)}function SL(t,e,n){return Bt(t).beforeAuthStateChanged(e,n)}function AL(t,e,n,s){return Bt(t).onAuthStateChanged(e,n,s)}function xL(t){return Bt(t).signOut()}const Wf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wf,"1"),this.storage.removeItem(Wf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=1e3,CL=10;class cx extends ux{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ex(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);G4()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,CL):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},RL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cx.type="LOCAL";const IL=cx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx extends ux{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}hx.type="SESSION";const fx=hx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Ed(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(c).map(async p=>p(n.origin,l)),m=await NL(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ed.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const p=g_("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(v){const E=v;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(E.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(){return window}function PL(t){ji().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(){return typeof ji().WorkerGlobalScope<"u"&&typeof ji().importScripts=="function"}async function ML(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function VL(){return dx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx="firebaseLocalStorageDb",kL=1,Zf="firebaseLocalStorage",px="fbase_key";class Cc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bd(t,e){return t.transaction([Zf],e?"readwrite":"readonly").objectStore(Zf)}function LL(){const t=indexedDB.deleteDatabase(mx);return new Cc(t).toPromise()}function Wg(){const t=indexedDB.open(mx,kL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Zf,{keyPath:px})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Zf)?e(s):(s.close(),await LL(),e(await Wg()))})})}async function mw(t,e,n){const s=bd(t,!0).put({[px]:e,value:n});return new Cc(s).toPromise()}async function UL(t,e){const n=bd(t,!1).get(e),s=await new Cc(n).toPromise();return s===void 0?null:s.value}function pw(t,e){const n=bd(t,!0).delete(e);return new Cc(n).toPromise()}const jL=800,BL=3;class gx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>BL)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ed._getInstance(VL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await ML(),!this.activeServiceWorker)return;this.sender=new DL(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wg();return await mw(e,Wf,"1"),await pw(e,Wf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>mw(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>UL(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>pw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=bd(a,!1).getAll();return new Cc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gx.type="LOCAL";const zL=gx;new Ac(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(t,e){return e?Ts(e):(Te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_ extends m_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Yo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function qL(t){return ox(t.auth,new y_(t),t.bypassAuthState)}function HL(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),vL(n,new y_(t),t.bypassAuthState)}async function GL(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),_L(n,new y_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qL;case"linkViaPopup":case"linkViaRedirect":return GL;case"reauthViaPopup":case"reauthViaRedirect":return HL;default:hi(this.auth,"internal-error")}}resolve(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL=new Ac(2e3,1e4);class Go extends yx{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Go.currentPopupAction&&Go.currentPopupAction.cancel(),Go.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Is(this.filter.length===1,"Popup operations only handle one event");const e=g_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Go.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KL.get())};e()}}Go.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L="pendingRedirect",Df=new Map;class YL extends yx{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Df.get(this.auth._key());if(!e){try{const s=await XL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Df.set(this.auth._key(),e)}return this.bypassAuthState||Df.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XL(t,e){const n=ZL(e),s=WL(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function QL(t,e){Df.set(t._key(),e)}function WL(t){return Ts(t._redirectPersistence)}function ZL(t){return Nf($L,t.config.apiKey,t.name)}async function JL(t,e,n=!1){if(On(t.app))return Promise.reject(bs(t));const s=ka(t),a=FL(s,e),c=await new YL(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=10*60*1e3;class t6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!n6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!_x(e)){const a=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ui(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=e6&&this.cachedEventUids.clear(),this.cachedEventUids.has(gw(e))}saveEventToCache(e){this.cachedEventUids.add(gw(e)),this.lastProcessedEventTime=Date.now()}}function gw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _x({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function n6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _x(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i6(t,e={}){return Mr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r6=/^https?/;async function a6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await i6(t);for(const n of e)try{if(o6(n))return}catch{}hi(t,"unauthorized-domain")}function o6(t){const e=Yg(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!r6.test(n))return!1;if(s6.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6=new Ac(3e4,6e4);function yw(){const t=ji().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function u6(t){return new Promise((e,n)=>{var a,l,c;function s(){yw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yw(),n(Ui(t,"network-request-failed"))},timeout:l6.get()})}if((l=(a=ji().gapi)==null?void 0:a.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=ji().gapi)!=null&&c.load)s();else{const f=eL("iframefcb");return ji()[f]=()=>{gapi.load?s():n(Ui(t,"network-request-failed"))},nx(`${J4()}?onload=${f}`).catch(m=>n(m))}}).catch(e=>{throw Pf=null,e})}let Pf=null;function c6(t){return Pf=Pf||u6(t),Pf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6=new Ac(5e3,15e3),f6="__/auth/iframe",d6="emulator/auth/iframe",m6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},p6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function g6(t){const e=t.config;Te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?h_(e,d6):`https://${t.config.authDomain}/${f6}`,s={apiKey:e.apiKey,appName:t.name,v:Va},a=p6.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Sc(s).slice(1)}`}async function y6(t){const e=await c6(t),n=ji().gapi;return Te(n,t,"internal-error"),e.open({where:document.body,url:g6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:m6,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Ui(t,"network-request-failed"),f=ji().setTimeout(()=>{l(c)},h6.get());function m(){ji().clearTimeout(f),a(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},v6=500,T6=600,E6="_blank",b6="http://localhost";class _w{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function w6(t,e,n,s=v6,a=T6){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const m={..._6,width:s.toString(),height:a.toString(),top:l,left:c},p=hn().toLowerCase();n&&(f=X1(p)?E6:n),$1(p)&&(e=e||b6,m.scrollbars="yes");const y=Object.entries(m).reduce((E,[A,C])=>`${E}${A}=${C},`,"");if(H4(p)&&f!=="_self")return S6(e||"",f),new _w(null);const v=window.open(e||"",f,y);Te(v,t,"popup-blocked");try{v.focus()}catch{}return new _w(v)}function S6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6="__/auth/handler",x6="emulator/auth/handler",R6=encodeURIComponent("fac");async function vw(t,e,n,s,a,l){Te(t.config.authDomain,t,"auth-domain-config-required"),Te(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Va,eventId:a};if(e instanceof rx){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",ck(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))c[y]=v}if(e instanceof Rc){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await t._getAppCheckToken(),p=m?`#${R6}=${encodeURIComponent(m)}`:"";return`${C6(t)}?${Sc(f).slice(1)}${p}`}function C6({config:t}){return t.emulator?h_(t,x6):`https://${t.authDomain}/${A6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg="webStorageSupport";class I6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fx,this._completeRedirectFn=JL,this._overrideRedirectResult=QL}async _openPopup(e,n,s,a){var c;Is((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await vw(e,n,s,Yg(),a);return w6(e,l,g_())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await vw(e,n,s,Yg(),a);return PL(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Is(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await y6(e),s=new t6(e);return n.register("authEvent",a=>(Te(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hg,{type:hg},a=>{var c;const l=(c=a==null?void 0:a[0])==null?void 0:c[hg];l!==void 0&&n(!!l),hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=a6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ex()||Y1()||d_()}}const N6=I6;var Tw="@firebase/auth",Ew="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function M6(t){Ca(new br("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=s.options;Te(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tx(t)},p=new Q4(s,a,l,m);return aL(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ca(new br("auth-internal",e=>{const n=ka(e.getProvider("auth").getImmediate());return(s=>new D6(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Li(Tw,Ew,P6(t)),Li(Tw,Ew,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6=5*60,V6=P1("authIdTokenMaxAge")||O6;let bw=null;const k6=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>V6)return;const a=n==null?void 0:n.token;bw!==a&&(bw=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function L6(t=u_()){const e=vd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=rL(t,{popupRedirectResolver:N6,persistence:[zL,IL,fx]}),s=P1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=k6(l.toString());SL(n,c,()=>c(n.currentUser)),wL(n,f=>c(f))}}const a=I1("auth");return a&&oL(n,`http://${a}`),n}function U6(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}W4({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Ui("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",U6().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});M6("Browser");var ww=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _r,vx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,R){function I(){}I.prototype=R.prototype,P.D=R.prototype,P.prototype=new I,P.prototype.constructor=P,P.C=function(V,B,F){for(var M=Array(arguments.length-2),St=2;St<arguments.length;St++)M[St-2]=arguments[St];return R.prototype[B].apply(V,M)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(P,R,I){I||(I=0);var V=Array(16);if(typeof R=="string")for(var B=0;16>B;++B)V[B]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(B=0;16>B;++B)V[B]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=P.g[0],I=P.g[1],B=P.g[2];var F=P.g[3],M=R+(F^I&(B^F))+V[0]+3614090360&4294967295;R=I+(M<<7&4294967295|M>>>25),M=F+(B^R&(I^B))+V[1]+3905402710&4294967295,F=R+(M<<12&4294967295|M>>>20),M=B+(I^F&(R^I))+V[2]+606105819&4294967295,B=F+(M<<17&4294967295|M>>>15),M=I+(R^B&(F^R))+V[3]+3250441966&4294967295,I=B+(M<<22&4294967295|M>>>10),M=R+(F^I&(B^F))+V[4]+4118548399&4294967295,R=I+(M<<7&4294967295|M>>>25),M=F+(B^R&(I^B))+V[5]+1200080426&4294967295,F=R+(M<<12&4294967295|M>>>20),M=B+(I^F&(R^I))+V[6]+2821735955&4294967295,B=F+(M<<17&4294967295|M>>>15),M=I+(R^B&(F^R))+V[7]+4249261313&4294967295,I=B+(M<<22&4294967295|M>>>10),M=R+(F^I&(B^F))+V[8]+1770035416&4294967295,R=I+(M<<7&4294967295|M>>>25),M=F+(B^R&(I^B))+V[9]+2336552879&4294967295,F=R+(M<<12&4294967295|M>>>20),M=B+(I^F&(R^I))+V[10]+4294925233&4294967295,B=F+(M<<17&4294967295|M>>>15),M=I+(R^B&(F^R))+V[11]+2304563134&4294967295,I=B+(M<<22&4294967295|M>>>10),M=R+(F^I&(B^F))+V[12]+1804603682&4294967295,R=I+(M<<7&4294967295|M>>>25),M=F+(B^R&(I^B))+V[13]+4254626195&4294967295,F=R+(M<<12&4294967295|M>>>20),M=B+(I^F&(R^I))+V[14]+2792965006&4294967295,B=F+(M<<17&4294967295|M>>>15),M=I+(R^B&(F^R))+V[15]+1236535329&4294967295,I=B+(M<<22&4294967295|M>>>10),M=R+(B^F&(I^B))+V[1]+4129170786&4294967295,R=I+(M<<5&4294967295|M>>>27),M=F+(I^B&(R^I))+V[6]+3225465664&4294967295,F=R+(M<<9&4294967295|M>>>23),M=B+(R^I&(F^R))+V[11]+643717713&4294967295,B=F+(M<<14&4294967295|M>>>18),M=I+(F^R&(B^F))+V[0]+3921069994&4294967295,I=B+(M<<20&4294967295|M>>>12),M=R+(B^F&(I^B))+V[5]+3593408605&4294967295,R=I+(M<<5&4294967295|M>>>27),M=F+(I^B&(R^I))+V[10]+38016083&4294967295,F=R+(M<<9&4294967295|M>>>23),M=B+(R^I&(F^R))+V[15]+3634488961&4294967295,B=F+(M<<14&4294967295|M>>>18),M=I+(F^R&(B^F))+V[4]+3889429448&4294967295,I=B+(M<<20&4294967295|M>>>12),M=R+(B^F&(I^B))+V[9]+568446438&4294967295,R=I+(M<<5&4294967295|M>>>27),M=F+(I^B&(R^I))+V[14]+3275163606&4294967295,F=R+(M<<9&4294967295|M>>>23),M=B+(R^I&(F^R))+V[3]+4107603335&4294967295,B=F+(M<<14&4294967295|M>>>18),M=I+(F^R&(B^F))+V[8]+1163531501&4294967295,I=B+(M<<20&4294967295|M>>>12),M=R+(B^F&(I^B))+V[13]+2850285829&4294967295,R=I+(M<<5&4294967295|M>>>27),M=F+(I^B&(R^I))+V[2]+4243563512&4294967295,F=R+(M<<9&4294967295|M>>>23),M=B+(R^I&(F^R))+V[7]+1735328473&4294967295,B=F+(M<<14&4294967295|M>>>18),M=I+(F^R&(B^F))+V[12]+2368359562&4294967295,I=B+(M<<20&4294967295|M>>>12),M=R+(I^B^F)+V[5]+4294588738&4294967295,R=I+(M<<4&4294967295|M>>>28),M=F+(R^I^B)+V[8]+2272392833&4294967295,F=R+(M<<11&4294967295|M>>>21),M=B+(F^R^I)+V[11]+1839030562&4294967295,B=F+(M<<16&4294967295|M>>>16),M=I+(B^F^R)+V[14]+4259657740&4294967295,I=B+(M<<23&4294967295|M>>>9),M=R+(I^B^F)+V[1]+2763975236&4294967295,R=I+(M<<4&4294967295|M>>>28),M=F+(R^I^B)+V[4]+1272893353&4294967295,F=R+(M<<11&4294967295|M>>>21),M=B+(F^R^I)+V[7]+4139469664&4294967295,B=F+(M<<16&4294967295|M>>>16),M=I+(B^F^R)+V[10]+3200236656&4294967295,I=B+(M<<23&4294967295|M>>>9),M=R+(I^B^F)+V[13]+681279174&4294967295,R=I+(M<<4&4294967295|M>>>28),M=F+(R^I^B)+V[0]+3936430074&4294967295,F=R+(M<<11&4294967295|M>>>21),M=B+(F^R^I)+V[3]+3572445317&4294967295,B=F+(M<<16&4294967295|M>>>16),M=I+(B^F^R)+V[6]+76029189&4294967295,I=B+(M<<23&4294967295|M>>>9),M=R+(I^B^F)+V[9]+3654602809&4294967295,R=I+(M<<4&4294967295|M>>>28),M=F+(R^I^B)+V[12]+3873151461&4294967295,F=R+(M<<11&4294967295|M>>>21),M=B+(F^R^I)+V[15]+530742520&4294967295,B=F+(M<<16&4294967295|M>>>16),M=I+(B^F^R)+V[2]+3299628645&4294967295,I=B+(M<<23&4294967295|M>>>9),M=R+(B^(I|~F))+V[0]+4096336452&4294967295,R=I+(M<<6&4294967295|M>>>26),M=F+(I^(R|~B))+V[7]+1126891415&4294967295,F=R+(M<<10&4294967295|M>>>22),M=B+(R^(F|~I))+V[14]+2878612391&4294967295,B=F+(M<<15&4294967295|M>>>17),M=I+(F^(B|~R))+V[5]+4237533241&4294967295,I=B+(M<<21&4294967295|M>>>11),M=R+(B^(I|~F))+V[12]+1700485571&4294967295,R=I+(M<<6&4294967295|M>>>26),M=F+(I^(R|~B))+V[3]+2399980690&4294967295,F=R+(M<<10&4294967295|M>>>22),M=B+(R^(F|~I))+V[10]+4293915773&4294967295,B=F+(M<<15&4294967295|M>>>17),M=I+(F^(B|~R))+V[1]+2240044497&4294967295,I=B+(M<<21&4294967295|M>>>11),M=R+(B^(I|~F))+V[8]+1873313359&4294967295,R=I+(M<<6&4294967295|M>>>26),M=F+(I^(R|~B))+V[15]+4264355552&4294967295,F=R+(M<<10&4294967295|M>>>22),M=B+(R^(F|~I))+V[6]+2734768916&4294967295,B=F+(M<<15&4294967295|M>>>17),M=I+(F^(B|~R))+V[13]+1309151649&4294967295,I=B+(M<<21&4294967295|M>>>11),M=R+(B^(I|~F))+V[4]+4149444226&4294967295,R=I+(M<<6&4294967295|M>>>26),M=F+(I^(R|~B))+V[11]+3174756917&4294967295,F=R+(M<<10&4294967295|M>>>22),M=B+(R^(F|~I))+V[2]+718787259&4294967295,B=F+(M<<15&4294967295|M>>>17),M=I+(F^(B|~R))+V[9]+3951481745&4294967295,P.g[0]=P.g[0]+R&4294967295,P.g[1]=P.g[1]+(B+(M<<21&4294967295|M>>>11))&4294967295,P.g[2]=P.g[2]+B&4294967295,P.g[3]=P.g[3]+F&4294967295}s.prototype.u=function(P,R){R===void 0&&(R=P.length);for(var I=R-this.blockSize,V=this.B,B=this.h,F=0;F<R;){if(B==0)for(;F<=I;)a(this,P,F),F+=this.blockSize;if(typeof P=="string"){for(;F<R;)if(V[B++]=P.charCodeAt(F++),B==this.blockSize){a(this,V),B=0;break}}else for(;F<R;)if(V[B++]=P[F++],B==this.blockSize){a(this,V),B=0;break}}this.h=B,this.o+=R},s.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var R=1;R<P.length-8;++R)P[R]=0;var I=8*this.o;for(R=P.length-8;R<P.length;++R)P[R]=I&255,I/=256;for(this.u(P),P=Array(16),R=I=0;4>R;++R)for(var V=0;32>V;V+=8)P[I++]=this.g[R]>>>V&255;return P};function l(P,R){var I=f;return Object.prototype.hasOwnProperty.call(I,P)?I[P]:I[P]=R(P)}function c(P,R){this.h=R;for(var I=[],V=!0,B=P.length-1;0<=B;B--){var F=P[B]|0;V&&F==R||(I[B]=F,V=!1)}this.g=I}var f={};function m(P){return-128<=P&&128>P?l(P,function(R){return new c([R|0],0>R?-1:0)}):new c([P|0],0>P?-1:0)}function p(P){if(isNaN(P)||!isFinite(P))return v;if(0>P)return D(p(-P));for(var R=[],I=1,V=0;P>=I;V++)R[V]=P/I|0,I*=4294967296;return new c(R,0)}function y(P,R){if(P.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(P.charAt(0)=="-")return D(y(P.substring(1),R));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=p(Math.pow(R,8)),V=v,B=0;B<P.length;B+=8){var F=Math.min(8,P.length-B),M=parseInt(P.substring(B,B+F),R);8>F?(F=p(Math.pow(R,F)),V=V.j(F).add(p(M))):(V=V.j(I),V=V.add(p(M)))}return V}var v=m(0),E=m(1),A=m(16777216);t=c.prototype,t.m=function(){if(O(this))return-D(this).m();for(var P=0,R=1,I=0;I<this.g.length;I++){var V=this.i(I);P+=(0<=V?V:4294967296+V)*R,R*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(C(this))return"0";if(O(this))return"-"+D(this).toString(P);for(var R=p(Math.pow(P,6)),I=this,V="";;){var B=se(I,R).g;I=U(I,B.j(R));var F=((0<I.g.length?I.g[0]:I.h)>>>0).toString(P);if(I=B,C(I))return F+V;for(;6>F.length;)F="0"+F;V=F+V}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function C(P){if(P.h!=0)return!1;for(var R=0;R<P.g.length;R++)if(P.g[R]!=0)return!1;return!0}function O(P){return P.h==-1}t.l=function(P){return P=U(this,P),O(P)?-1:C(P)?0:1};function D(P){for(var R=P.g.length,I=[],V=0;V<R;V++)I[V]=~P.g[V];return new c(I,~P.h).add(E)}t.abs=function(){return O(this)?D(this):this},t.add=function(P){for(var R=Math.max(this.g.length,P.g.length),I=[],V=0,B=0;B<=R;B++){var F=V+(this.i(B)&65535)+(P.i(B)&65535),M=(F>>>16)+(this.i(B)>>>16)+(P.i(B)>>>16);V=M>>>16,F&=65535,M&=65535,I[B]=M<<16|F}return new c(I,I[I.length-1]&-2147483648?-1:0)};function U(P,R){return P.add(D(R))}t.j=function(P){if(C(this)||C(P))return v;if(O(this))return O(P)?D(this).j(D(P)):D(D(this).j(P));if(O(P))return D(this.j(D(P)));if(0>this.l(A)&&0>P.l(A))return p(this.m()*P.m());for(var R=this.g.length+P.g.length,I=[],V=0;V<2*R;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(var B=0;B<P.g.length;B++){var F=this.i(V)>>>16,M=this.i(V)&65535,St=P.i(B)>>>16,ut=P.i(B)&65535;I[2*V+2*B]+=M*ut,G(I,2*V+2*B),I[2*V+2*B+1]+=F*ut,G(I,2*V+2*B+1),I[2*V+2*B+1]+=M*St,G(I,2*V+2*B+1),I[2*V+2*B+2]+=F*St,G(I,2*V+2*B+2)}for(V=0;V<R;V++)I[V]=I[2*V+1]<<16|I[2*V];for(V=R;V<2*R;V++)I[V]=0;return new c(I,0)};function G(P,R){for(;(P[R]&65535)!=P[R];)P[R+1]+=P[R]>>>16,P[R]&=65535,R++}function q(P,R){this.g=P,this.h=R}function se(P,R){if(C(R))throw Error("division by zero");if(C(P))return new q(v,v);if(O(P))return R=se(D(P),R),new q(D(R.g),D(R.h));if(O(R))return R=se(P,D(R)),new q(D(R.g),R.h);if(30<P.g.length){if(O(P)||O(R))throw Error("slowDivide_ only works with positive integers.");for(var I=E,V=R;0>=V.l(P);)I=J(I),V=J(V);var B=le(I,1),F=le(V,1);for(V=le(V,2),I=le(I,2);!C(V);){var M=F.add(V);0>=M.l(P)&&(B=B.add(I),F=M),V=le(V,1),I=le(I,1)}return R=U(P,B.j(R)),new q(B,R)}for(B=v;0<=P.l(R);){for(I=Math.max(1,Math.floor(P.m()/R.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),F=p(I),M=F.j(R);O(M)||0<M.l(P);)I-=V,F=p(I),M=F.j(R);C(F)&&(F=E),B=B.add(F),P=U(P,M)}return new q(B,P)}t.A=function(P){return se(this,P).h},t.and=function(P){for(var R=Math.max(this.g.length,P.g.length),I=[],V=0;V<R;V++)I[V]=this.i(V)&P.i(V);return new c(I,this.h&P.h)},t.or=function(P){for(var R=Math.max(this.g.length,P.g.length),I=[],V=0;V<R;V++)I[V]=this.i(V)|P.i(V);return new c(I,this.h|P.h)},t.xor=function(P){for(var R=Math.max(this.g.length,P.g.length),I=[],V=0;V<R;V++)I[V]=this.i(V)^P.i(V);return new c(I,this.h^P.h)};function J(P){for(var R=P.g.length+1,I=[],V=0;V<R;V++)I[V]=P.i(V)<<1|P.i(V-1)>>>31;return new c(I,P.h)}function le(P,R){var I=R>>5;R%=32;for(var V=P.g.length-I,B=[],F=0;F<V;F++)B[F]=0<R?P.i(F+I)>>>R|P.i(F+I+1)<<32-R:P.i(F+I);return new c(B,P.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,vx=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,_r=c}).apply(typeof ww<"u"?ww:typeof self<"u"?self:typeof window<"u"?window:{});var pf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Tx,Vu,Ex,Mf,Zg,bx,wx,Sx;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,_,T){return h==Array.prototype||h==Object.prototype||(h[_]=T.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof pf=="object"&&pf];for(var _=0;_<h.length;++_){var T=h[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=n(this);function a(h,_){if(_)e:{var T=s;h=h.split(".");for(var x=0;x<h.length-1;x++){var H=h[x];if(!(H in T))break e;T=T[H]}h=h[h.length-1],x=T[h],_=_(x),_!=x&&_!=null&&e(T,h,{configurable:!0,writable:!0,value:_})}}function l(h,_){h instanceof String&&(h+="");var T=0,x=!1,H={next:function(){if(!x&&T<h.length){var Q=T++;return{value:_(Q,h[Q]),done:!1}}return x=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}a("Array.prototype.values",function(h){return h||function(){return l(this,function(_,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function m(h){var _=typeof h;return _=_!="object"?_:h?Array.isArray(h)?"array":_:"null",_=="array"||_=="object"&&typeof h.length=="number"}function p(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function y(h,_,T){return h.call.apply(h.bind,arguments)}function v(h,_,T){if(!h)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,x),h.apply(_,H)}}return function(){return h.apply(_,arguments)}}function E(h,_,T){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:v,E.apply(null,arguments)}function A(h,_){var T=Array.prototype.slice.call(arguments,1);return function(){var x=T.slice();return x.push.apply(x,arguments),h.apply(this,x)}}function C(h,_){function T(){}T.prototype=_.prototype,h.aa=_.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(x,H,Q){for(var ue=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)ue[Le-2]=arguments[Le];return _.prototype[H].apply(x,ue)}}function O(h){const _=h.length;if(0<_){const T=Array(_);for(let x=0;x<_;x++)T[x]=h[x];return T}return[]}function D(h,_){for(let T=1;T<arguments.length;T++){const x=arguments[T];if(m(x)){const H=h.length||0,Q=x.length||0;h.length=H+Q;for(let ue=0;ue<Q;ue++)h[H+ue]=x[ue]}else h.push(x)}}class U{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function G(h){return/^[\s\xa0]*$/.test(h)}function q(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function se(h){return se[" "](h),h}se[" "]=function(){};var J=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function le(h,_,T){for(const x in h)_.call(T,h[x],x,h)}function P(h,_){for(const T in h)_.call(void 0,h[T],T,h)}function R(h){const _={};for(const T in h)_[T]=h[T];return _}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(h,_){let T,x;for(let H=1;H<arguments.length;H++){x=arguments[H];for(T in x)h[T]=x[T];for(let Q=0;Q<I.length;Q++)T=I[Q],Object.prototype.hasOwnProperty.call(x,T)&&(h[T]=x[T])}}function B(h){var _=1;h=h.split(":");const T=[];for(;0<_&&h.length;)T.push(h.shift()),_--;return h.length&&T.push(h.join(":")),T}function F(h){f.setTimeout(()=>{throw h},0)}function M(){var h=ke;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class St{constructor(){this.h=this.g=null}add(_,T){const x=ut.get();x.set(_,T),this.h?this.h.next=x:this.g=x,this.h=x}}var ut=new U(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,de=!1,ke=new St,L=()=>{const h=f.Promise.resolve(void 0);ae=()=>{h.then(re)}};var re=()=>{for(var h;h=M();){try{h.h.call(h.g)}catch(T){F(T)}var _=ut;_.j(h),100>_.h&&(_.h++,h.next=_.g,_.g=h)}de=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};f.addEventListener("test",T,_),f.removeEventListener("test",T,_)}catch{}return h}();function Ie(h,_){if(oe.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,x=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget){if(J){e:{try{se(_.nodeName);var H=!0;break e}catch{}H=!1}H||(_=null)}}else T=="mouseover"?_=h.fromElement:T=="mouseout"&&(_=h.toElement);this.relatedTarget=_,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Se[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ie.aa.h.call(this)}}C(Ie,oe);var Se={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var zt="closure_listenable_"+(1e6*Math.random()|0),tt=0;function pi(h,_,T,x,H){this.listener=h,this.proxy=null,this.src=_,this.type=T,this.capture=!!x,this.ha=H,this.key=++tt,this.da=this.fa=!1}function Ms(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function $i(h){this.src=h,this.g={},this.h=0}$i.prototype.add=function(h,_,T,x,H){var Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);var ue=Vr(h,_,x,H);return-1<ue?(_=h[ue],T||(_.fa=!1)):(_=new pi(_,this.src,Q,!!x,H),_.fa=T,h.push(_)),_};function Or(h,_){var T=_.type;if(T in h.g){var x=h.g[T],H=Array.prototype.indexOf.call(x,_,void 0),Q;(Q=0<=H)&&Array.prototype.splice.call(x,H,1),Q&&(Ms(_),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Vr(h,_,T,x){for(var H=0;H<h.length;++H){var Q=h[H];if(!Q.da&&Q.listener==_&&Q.capture==!!T&&Q.ha==x)return H}return-1}var kr="closure_lm_"+(1e6*Math.random()|0),_l={};function Uc(h,_,T,x,H){if(Array.isArray(_)){for(var Q=0;Q<_.length;Q++)Uc(h,_[Q],T,x,H);return null}return T=jc(T),h&&h[zt]?h.K(_,T,p(x)?!!x.capture:!1,H):kn(h,_,T,!1,x,H)}function kn(h,_,T,x,H,Q){if(!_)throw Error("Invalid event type");var ue=p(H)?!!H.capture:!!H,Le=Fa(h);if(Le||(h[kr]=Le=new $i(h)),T=Le.add(_,T,x,ue,Q),T.proxy)return T;if(x=jd(),T.proxy=x,x.src=h,x.listener=T,h.addEventListener)ye||(H=ue),H===void 0&&(H=!1),h.addEventListener(_.toString(),x,H);else if(h.attachEvent)h.attachEvent(Lr(_.toString()),x);else if(h.addListener&&h.removeListener)h.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return T}function jd(){function h(T){return _.call(h.src,h.listener,T)}const _=Bd;return h}function vl(h,_,T,x,H){if(Array.isArray(_))for(var Q=0;Q<_.length;Q++)vl(h,_[Q],T,x,H);else x=p(x)?!!x.capture:!!x,T=jc(T),h&&h[zt]?(h=h.i,_=String(_).toString(),_ in h.g&&(Q=h.g[_],T=Vr(Q,T,x,H),-1<T&&(Ms(Q[T]),Array.prototype.splice.call(Q,T,1),Q.length==0&&(delete h.g[_],h.h--)))):h&&(h=Fa(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Vr(_,T,x,H)),(T=-1<h?_[h]:null)&&za(T))}function za(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[zt])Or(_.i,h);else{var T=h.type,x=h.proxy;_.removeEventListener?_.removeEventListener(T,x,h.capture):_.detachEvent?_.detachEvent(Lr(T),x):_.addListener&&_.removeListener&&_.removeListener(x),(T=Fa(_))?(Or(T,h),T.h==0&&(T.src=null,_[kr]=null)):Ms(h)}}}function Lr(h){return h in _l?_l[h]:_l[h]="on"+h}function Bd(h,_){if(h.da)h=!0;else{_=new Ie(_,this);var T=h.listener,x=h.ha||h.src;h.fa&&za(h),h=T.call(x,_)}return h}function Fa(h){return h=h[kr],h instanceof $i?h:null}var Tl="__closure_events_fn_"+(1e9*Math.random()>>>0);function jc(h){return typeof h=="function"?h:(h[Tl]||(h[Tl]=function(_){return h.handleEvent(_)}),h[Tl])}function pt(){ce.call(this),this.i=new $i(this),this.M=this,this.F=null}C(pt,ce),pt.prototype[zt]=!0,pt.prototype.removeEventListener=function(h,_,T,x){vl(this,h,_,T,x)};function Ge(h,_){var T,x=h.F;if(x)for(T=[];x;x=x.F)T.push(x);if(h=h.M,x=_.type||_,typeof _=="string")_=new oe(_,h);else if(_ instanceof oe)_.target=_.target||h;else{var H=_;_=new oe(x,h),V(_,H)}if(H=!0,T)for(var Q=T.length-1;0<=Q;Q--){var ue=_.g=T[Q];H=An(ue,x,!0,_)&&H}if(ue=_.g=h,H=An(ue,x,!0,_)&&H,H=An(ue,x,!1,_)&&H,T)for(Q=0;Q<T.length;Q++)ue=_.g=T[Q],H=An(ue,x,!1,_)&&H}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var h=this.i,_;for(_ in h.g){for(var T=h.g[_],x=0;x<T.length;x++)Ms(T[x]);delete h.g[_],h.h--}}this.F=null},pt.prototype.K=function(h,_,T,x){return this.i.add(String(h),_,!1,T,x)},pt.prototype.L=function(h,_,T,x){return this.i.add(String(h),_,!0,T,x)};function An(h,_,T,x){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();for(var H=!0,Q=0;Q<_.length;++Q){var ue=_[Q];if(ue&&!ue.da&&ue.capture==T){var Le=ue.listener,Vt=ue.ha||ue.src;ue.fa&&Or(h.i,ue),H=Le.call(Vt,x)!==!1&&H}}return H&&!x.defaultPrevented}function sn(h,_,T){if(typeof h=="function")T&&(h=E(h,T));else if(h&&typeof h.handleEvent=="function")h=E(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:f.setTimeout(h,_||0)}function Bc(h){h.g=sn(()=>{h.g=null,h.i&&(h.i=!1,Bc(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class zd extends ce{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Bc(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ur(h){ce.call(this),this.h=h,this.g={}}C(Ur,ce);var jr=[];function Br(h){le(h.g,function(_,T){this.g.hasOwnProperty(T)&&za(_)},h),h.g={}}Ur.prototype.N=function(){Ur.aa.N.call(this),Br(this)},Ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ei=f.JSON.stringify,qa=f.JSON.parse,zr=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function El(){}El.prototype.h=null;function bl(h){return h.h||(h.h=h.i())}function wl(){}var Yi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xi(){oe.call(this,"d")}C(Xi,oe);function Sl(){oe.call(this,"c")}C(Sl,oe);var gi={},Al=null;function Os(){return Al=Al||new pt}gi.La="serverreachability";function Ha(h){oe.call(this,gi.La,h)}C(Ha,oe);function Vs(h){const _=Os();Ge(_,new Ha(_))}gi.STAT_EVENT="statevent";function zc(h,_){oe.call(this,gi.STAT_EVENT,h),this.stat=_}C(zc,oe);function at(h){const _=Os();Ge(_,new zc(_,h))}gi.Ma="timingevent";function Ot(h,_){oe.call(this,gi.Ma,h),this.size=_}C(Ot,oe);function At(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},_)}function Ln(){this.g=!0}Ln.prototype.xa=function(){this.g=!1};function xl(h,_,T,x,H,Q){h.info(function(){if(h.g)if(Q)for(var ue="",Le=Q.split("&"),Vt=0;Vt<Le.length;Vt++){var Ue=Le[Vt].split("=");if(1<Ue.length){var qt=Ue[0];Ue=Ue[1];var kt=qt.split("_");ue=2<=kt.length&&kt[1]=="type"?ue+(qt+"="+Ue+"&"):ue+(qt+"=redacted&")}}else ue=null;else ue=Q;return"XMLHTTP REQ ("+x+") [attempt "+H+"]: "+_+`
`+T+`
`+ue})}function Fd(h,_,T,x,H,Q,ue){h.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+H+"]: "+_+`
`+T+`
`+Q+" "+ue})}function ks(h,_,T,x){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Fr(h,T)+(x?" "+x:"")})}function Fc(h,_){h.info(function(){return"TIMEOUT: "+_})}Ln.prototype.info=function(){};function Fr(h,_){if(!h.g)return _;if(!_)return null;try{var T=JSON.parse(_);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var x=T[h];if(!(2>x.length)){var H=x[1];if(Array.isArray(H)&&!(1>H.length)){var Q=H[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ue=1;ue<H.length;ue++)H[ue]=""}}}}return ei(T)}catch{return _}}var Ls={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Qi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yi;function _i(){}C(_i,El),_i.prototype.g=function(){return new XMLHttpRequest},_i.prototype.i=function(){return{}},yi=new _i;function fn(h,_,T,x){this.j=h,this.i=_,this.l=T,this.R=x||1,this.U=new Ur(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vt}function vt(){this.i=null,this.g="",this.h=!1}var Rl={},Ga={};function ti(h,_,T){h.L=1,h.v=$r(xn(_)),h.m=T,h.P=!0,Wi(h,null)}function Wi(h,_){h.F=Date.now(),qr(h),h.A=xn(h.v);var T=h.A,x=h.R;Array.isArray(x)||(x=[String(x)]),Ml(T.i,"t",x),h.C=0,T=h.j.J,h.h=new vt,h.g=sh(h.j,T?_:null,!h.m),0<h.O&&(h.M=new zd(E(h.Y,h,h.g),h.O)),_=h.U,T=h.g,x=h.ca;var H="readystatechange";Array.isArray(H)||(H&&(jr[0]=H.toString()),H=jr);for(var Q=0;Q<H.length;Q++){var ue=Uc(T,H[Q],x||_.handleEvent,!1,_.h||_);if(!ue)break;_.g[ue.key]=ue}_=h.H?R(h.H):{},h.m?(h.u||(h.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,_)):(h.u="GET",h.g.ea(h.A,h.u,null,_)),Vs(),xl(h.i,h.u,h.A,h.l,h.R,h.m)}fn.prototype.ca=function(h){h=h.target;const _=this.M;_&&zn(h)==3?_.j():this.Y(h)},fn.prototype.Y=function(h){try{if(h==this.g)e:{const kt=zn(this.g);var _=this.g.Ba();const rs=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||Qc(this.g)))){this.J||kt!=4||_==7||(_==8||0>=rs?Vs(3):Vs(2)),Us(this);var T=this.g.Z();this.X=T;t:if(qc(this)){var x=Qc(this.g);h="";var H=x.length,Q=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yt(this),vi(this);var ue="";break t}this.h.i=new f.TextDecoder}for(_=0;_<H;_++)this.h.h=!0,h+=this.h.i.decode(x[_],{stream:!(Q&&_==H-1)});x.length=0,this.h.g+=h,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=T==200,Fd(this.i,this.u,this.A,this.l,this.R,kt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,Vt=this.g;if((Le=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Le)){var Ue=Le;break t}}Ue=null}if(T=Ue)ks(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hr(this,T);else{this.o=!1,this.s=3,at(12),Yt(this),vi(this);break e}}if(this.P){T=!0;let Xt;for(;!this.J&&this.C<ue.length;)if(Xt=Hc(this,ue),Xt==Ga){kt==4&&(this.s=4,at(14),T=!1),ks(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==Rl){this.s=4,at(15),ks(this.i,this.l,ue,"[Invalid Chunk]"),T=!1;break}else ks(this.i,this.l,Xt,null),Hr(this,Xt);if(qc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||ue.length!=0||this.h.h||(this.s=1,at(16),T=!1),this.o=this.o&&T,!T)ks(this.i,this.l,ue,"[Invalid Chunked Response]"),Yt(this),vi(this);else if(0<ue.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),ta(qt),qt.M=!0,at(11))}}else ks(this.i,this.l,ue,null),Hr(this,ue);kt==4&&Yt(this),this.o&&!this.J&&(kt==4?th(this.j,this):(this.o=!1,qr(this)))}else $d(this.g),T==400&&0<ue.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),Yt(this),vi(this)}}}catch{}finally{}};function qc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Hc(h,_){var T=h.C,x=_.indexOf(`
`,T);return x==-1?Ga:(T=Number(_.substring(T,x)),isNaN(T)?Rl:(x+=1,x+T>_.length?Ga:(_=_.slice(x,x+T),h.C=x+T,_)))}fn.prototype.cancel=function(){this.J=!0,Yt(this)};function qr(h){h.S=Date.now()+h.I,Gc(h,h.I)}function Gc(h,_){if(h.B!=null)throw Error("WatchDog timer not null");h.B=At(E(h.ba,h),_)}function Us(h){h.B&&(f.clearTimeout(h.B),h.B=null)}fn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Fc(this.i,this.A),this.L!=2&&(Vs(),at(17)),Yt(this),this.s=2,vi(this)):Gc(this,this.S-h)};function vi(h){h.j.G==0||h.J||th(h.j,h)}function Yt(h){Us(h);var _=h.M;_&&typeof _.ma=="function"&&_.ma(),h.M=null,Br(h.U),h.g&&(_=h.g,h.g=null,_.abort(),_.ma())}function Hr(h,_){try{var T=h.j;if(T.G!=0&&(T.g==h||Cl(T.h,h))){if(!h.K&&Cl(T.h,h)&&T.G==3){try{var x=T.Da.g.parse(_)}catch{x=null}if(Array.isArray(x)&&x.length==3){var H=x;if(H[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)io(T),to(T);else break e;Ul(T),at(18)}}else T.za=H[1],0<T.za-T.T&&37500>H[2]&&T.F&&T.v==0&&!T.C&&(T.C=At(E(T.Za,T),6e3));if(1>=$a(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else ss(T,11)}else if((h.K||T.g==h)&&io(T),!G(_))for(H=T.Da.g.parse(_),_=0;_<H.length;_++){let Ue=H[_];if(T.T=Ue[0],Ue=Ue[1],T.G==2)if(Ue[0]=="c"){T.K=Ue[1],T.ia=Ue[2];const qt=Ue[3];qt!=null&&(T.la=qt,T.j.info("VER="+T.la));const kt=Ue[4];kt!=null&&(T.Aa=kt,T.j.info("SVER="+T.Aa));const rs=Ue[5];rs!=null&&typeof rs=="number"&&0<rs&&(x=1.5*rs,T.L=x,T.j.info("backChannelRequestTimeoutMs_="+x)),x=T;const Xt=h.g;if(Xt){const xi=Xt.g?Xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xi){var Q=x.h;Q.g||xi.indexOf("spdy")==-1&&xi.indexOf("quic")==-1&&xi.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ya(Q,Q.h),Q.h=null))}if(x.D){const Bl=Xt.g?Xt.g.getResponseHeader("X-HTTP-Session-Id"):null;Bl&&(x.ya=Bl,Xe(x.I,x.D,Bl))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),x=T;var ue=h;if(x.qa=ih(x,x.J?x.ia:null,x.W),ue.K){dn(x.h,ue);var Le=ue,Vt=x.L;Vt&&(Le.I=Vt),Le.B&&(Us(Le),qr(Le)),x.g=ue}else Jc(x);0<T.i.length&&no(T)}else Ue[0]!="stop"&&Ue[0]!="close"||ss(T,7);else T.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?ss(T,7):kl(T):Ue[0]!="noop"&&T.l&&T.l.ta(Ue),T.v=0)}}Vs(4)}catch{}}var Kc=class{constructor(h,_){this.g=h,this.map=_}};function Zi(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ka(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function $a(h){return h.h?1:h.g?h.g.size:0}function Cl(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Ya(h,_){h.g?h.g.add(_):h.h=_}function dn(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Zi.prototype.cancel=function(){if(this.i=Il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Il(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const T of h.g.values())_=_.concat(T.D);return _}return O(h.i)}function qd(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var _=[],T=h.length,x=0;x<T;x++)_.push(h[x]);return _}_=[],T=0;for(x in h)_[T++]=h[x];return _}function Xa(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var _=[];h=h.length;for(var T=0;T<h;T++)_.push(T);return _}_=[],T=0;for(const x in h)_[T++]=x;return _}}}function Nl(h,_){if(h.forEach&&typeof h.forEach=="function")h.forEach(_,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,_,void 0);else for(var T=Xa(h),x=qd(h),H=x.length,Q=0;Q<H;Q++)_.call(void 0,x[Q],T&&T[Q],h)}var Gr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hd(h,_){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var x=h[T].indexOf("="),H=null;if(0<=x){var Q=h[T].substring(0,x);H=h[T].substring(x+1)}else Q=h[T];_(Q,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function xt(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof xt){this.h=h.h,Kr(this,h.j),this.o=h.o,this.g=h.g,js(this,h.s),this.l=h.l;var _=h.i,T=new es;T.i=_.i,_.g&&(T.g=new Map(_.g),T.h=_.h),Ji(this,T),this.m=h.m}else h&&(_=String(h).match(Gr))?(this.h=!1,Kr(this,_[1]||"",!0),this.o=Un(_[2]||""),this.g=Un(_[3]||"",!0),js(this,_[4]),this.l=Un(_[5]||"",!0),Ji(this,_[6]||"",!0),this.m=Un(_[7]||"")):(this.h=!1,this.i=new es(null,this.h))}xt.prototype.toString=function(){var h=[],_=this.j;_&&h.push(Yr(_,Dl,!0),":");var T=this.g;return(T||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Yr(_,Dl,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Yr(T,T.charAt(0)=="/"?Gd:Pl,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Yr(T,Qa)),h.join("")};function xn(h){return new xt(h)}function Kr(h,_,T){h.j=T?Un(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function js(h,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);h.s=_}else h.s=null}function Ji(h,_,T){_ instanceof es?(h.i=_,Yc(h.i,h.h)):(T||(_=Yr(_,Kd)),h.i=new es(_,h.h))}function Xe(h,_,T){h.i.set(_,T)}function $r(h){return Xe(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Un(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Yr(h,_,T){return typeof h=="string"?(h=encodeURI(h).replace(_,$c),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function $c(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Dl=/[#\/\?@]/g,Pl=/[#\?:]/g,Gd=/[#\?]/g,Kd=/[#\?@]/g,Qa=/#/g;function es(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function jn(h){h.g||(h.g=new Map,h.h=0,h.i&&Hd(h.i,function(_,T){h.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}t=es.prototype,t.add=function(h,_){jn(this),this.i=null,h=Ti(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(_),this.h+=1,this};function ts(h,_){jn(h),_=Ti(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function ns(h,_){return jn(h),_=Ti(h,_),h.g.has(_)}t.forEach=function(h,_){jn(this),this.g.forEach(function(T,x){T.forEach(function(H){h.call(_,H,x,this)},this)},this)},t.na=function(){jn(this);const h=Array.from(this.g.values()),_=Array.from(this.g.keys()),T=[];for(let x=0;x<_.length;x++){const H=h[x];for(let Q=0;Q<H.length;Q++)T.push(_[x])}return T},t.V=function(h){jn(this);let _=[];if(typeof h=="string")ns(this,h)&&(_=_.concat(this.g.get(Ti(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)_=_.concat(h[T])}return _},t.set=function(h,_){return jn(this),this.i=null,h=Ti(this,h),ns(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=this.V(h),0<h.length?String(h[0]):_):_};function Ml(h,_,T){ts(h,_),0<T.length&&(h.i=null,h.g.set(Ti(h,_),O(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(var T=0;T<_.length;T++){var x=_[T];const Q=encodeURIComponent(String(x)),ue=this.V(x);for(x=0;x<ue.length;x++){var H=Q;ue[x]!==""&&(H+="="+encodeURIComponent(String(ue[x]))),h.push(H)}}return this.i=h.join("&")};function Ti(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Yc(h,_){_&&!h.j&&(jn(h),h.i=null,h.g.forEach(function(T,x){var H=x.toLowerCase();x!=H&&(ts(this,x),Ml(this,H,T))},h)),h.j=_}function Xr(h,_){const T=new Ln;if(f.Image){const x=new Image;x.onload=A(Bn,T,"TestLoadImage: loaded",!0,_,x),x.onerror=A(Bn,T,"TestLoadImage: error",!1,_,x),x.onabort=A(Bn,T,"TestLoadImage: abort",!1,_,x),x.ontimeout=A(Bn,T,"TestLoadImage: timeout",!1,_,x),f.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=h}else _(!1)}function ni(h,_){const T=new Ln,x=new AbortController,H=setTimeout(()=>{x.abort(),Bn(T,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:x.signal}).then(Q=>{clearTimeout(H),Q.ok?Bn(T,"TestPingServer: ok",!0,_):Bn(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(H),Bn(T,"TestPingServer: error",!1,_)})}function Bn(h,_,T,x,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),x(T)}catch{}}function Qr(){this.g=new zr}function Ei(h,_,T){const x=T||"";try{Nl(h,function(H,Q){let ue=H;p(H)&&(ue=ei(H)),_.push(x+Q+"="+encodeURIComponent(ue))})}catch(H){throw _.push(x+"type="+encodeURIComponent("_badmap")),H}}function Bs(h){this.l=h.Ub||null,this.j=h.eb||!1}C(Bs,El),Bs.prototype.g=function(){return new is(this.l,this.j)},Bs.prototype.i=function(h){return function(){return h}}({});function is(h,_){pt.call(this),this.D=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(is,pt),t=is.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=_,this.readyState=1,wi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(_.body=h),(this.D||f).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bi(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,wi(this)),this.g&&(this.readyState=3,wi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ol(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ol(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?bi(this):wi(this),this.readyState==3&&Ol(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,bi(this))},t.Qa=function(h){this.g&&(this.response=h,bi(this))},t.ga=function(){this.g&&bi(this)};function bi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,wi(h)}t.setRequestHeader=function(h,_){this.u.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=_.next();return h.join(`\r
`)};function wi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(is.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Vl(h){let _="";return le(h,function(T,x){_+=x,_+=":",_+=T,_+=`\r
`}),_}function Ft(h,_,T){e:{for(x in T){var x=!1;break e}x=!0}x||(T=Vl(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):Xe(h,_,T))}function qe(h){pt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(qe,pt);var Wa=/^https?$/i,Wr=["POST","PUT"];t=qe.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,_,T,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yi.g(),this.v=this.o?bl(this.o):bl(yi),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(Q){Xc(this,Q);return}if(h=T||"",T=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var H in x)T.set(H,x[H]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const Q of x.keys())T.set(Q,x.get(Q));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(T.keys()).find(Q=>Q.toLowerCase()=="content-type"),H=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Wr,_,void 0))||x||H||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ue]of T)this.g.setRequestHeader(Q,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zr(this),this.u=!0,this.g.send(h),this.u=!1}catch(Q){Xc(this,Q)}};function Xc(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.m=5,Za(h),Si(h)}function Za(h){h.A||(h.A=!0,Ge(h,"complete"),Ge(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ge(this,"complete"),Ge(this,"abort"),Si(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Si(this,!0)),qe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ja(this):this.bb())},t.bb=function(){Ja(this)};function Ja(h){if(h.h&&typeof c<"u"&&(!h.v[1]||zn(h)!=4||h.Z()!=2)){if(h.u&&zn(h)==4)sn(h.Ea,0,h);else if(Ge(h,"readystatechange"),zn(h)==4){h.h=!1;try{const ue=h.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var x;if(x=ue===0){var H=String(h.D).match(Gr)[1]||null;!H&&f.self&&f.self.location&&(H=f.self.location.protocol.slice(0,-1)),x=!Wa.test(H?H.toLowerCase():"")}T=x}if(T)Ge(h,"complete"),Ge(h,"success");else{h.m=6;try{var Q=2<zn(h)?h.g.statusText:""}catch{Q=""}h.l=Q+" ["+h.Z()+"]",Za(h)}}finally{Si(h)}}}}function Si(h,_){if(h.g){Zr(h);const T=h.g,x=h.v[0]?()=>{}:null;h.g=null,h.v=null,_||Ge(h,"ready");try{T.onreadystatechange=x}catch{}}}function Zr(h){h.I&&(f.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function zn(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),qa(_)}};function Qc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function $d(h){const _={};h=(h.g&&2<=zn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<h.length;x++){if(G(h[x]))continue;var T=B(h[x]);const H=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Q=_[H]||[];_[H]=Q,Q.push(T)}P(_,function(x){return x.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jr(h,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||_}function eo(h){this.Aa=0,this.i=[],this.j=new Ln,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jr("baseRetryDelayMs",5e3,h),this.cb=Jr("retryDelaySeedMs",1e4,h),this.Wa=Jr("forwardChannelMaxRetries",2,h),this.wa=Jr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Zi(h&&h.concurrentRequestLimit),this.Da=new Qr,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=eo.prototype,t.la=8,t.G=1,t.connect=function(h,_,T,x){at(0),this.W=h,this.H=_||{},T&&x!==void 0&&(this.H.OSID=T,this.H.OAID=x),this.F=this.X,this.I=ih(this,null,this.W),no(this)};function kl(h){if(Wc(h),h.G==3){var _=h.U++,T=xn(h.I);if(Xe(T,"SID",h.K),Xe(T,"RID",_),Xe(T,"TYPE","terminate"),ea(h,T),_=new fn(h,h.j,_),_.L=2,_.v=$r(xn(T)),T=!1,f.navigator&&f.navigator.sendBeacon)try{T=f.navigator.sendBeacon(_.v.toString(),"")}catch{}!T&&f.Image&&(new Image().src=_.v,T=!0),T||(_.g=sh(_.j,null),_.g.ea(_.v)),_.F=Date.now(),qr(_)}nh(h)}function to(h){h.g&&(ta(h),h.g.cancel(),h.g=null)}function Wc(h){to(h),h.u&&(f.clearTimeout(h.u),h.u=null),io(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function no(h){if(!Ka(h.h)&&!h.s){h.s=!0;var _=h.Ga;ae||L(),de||(ae(),de=!0),ke.add(_,h),h.B=0}}function Yd(h,_){return $a(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=_.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=At(E(h.Ga,h,_),jl(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const H=new fn(this,this.j,h);let Q=this.o;if(this.S&&(Q?(Q=R(Q),V(Q,this.S)):Q=this.S),this.m!==null||this.O||(H.H=Q,Q=null),this.P)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var x=this.i[T];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(_+=x,4096<_){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=Zc(this,H,_),T=xn(this.I),Xe(T,"RID",h),Xe(T,"CVER",22),this.D&&Xe(T,"X-HTTP-Session-Id",this.D),ea(this,T),Q&&(this.O?_="headers="+encodeURIComponent(String(Vl(Q)))+"&"+_:this.m&&Ft(T,this.m,Q)),Ya(this.h,H),this.Ua&&Xe(T,"TYPE","init"),this.P?(Xe(T,"$req",_),Xe(T,"SID","null"),H.T=!0,ti(H,T,null)):ti(H,T,_),this.G=2}}else this.G==3&&(h?Ll(this,h):this.i.length==0||Ka(this.h)||Ll(this))};function Ll(h,_){var T;_?T=_.l:T=h.U++;const x=xn(h.I);Xe(x,"SID",h.K),Xe(x,"RID",T),Xe(x,"AID",h.T),ea(h,x),h.m&&h.o&&Ft(x,h.m,h.o),T=new fn(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),_&&(h.i=_.D.concat(h.i)),_=Zc(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ya(h.h,T),ti(T,x,_)}function ea(h,_){h.H&&le(h.H,function(T,x){Xe(_,x,T)}),h.l&&Nl({},function(T,x){Xe(_,x,T)})}function Zc(h,_,T){T=Math.min(h.i.length,T);var x=h.l?E(h.l.Na,h.l,h):null;e:{var H=h.i;let Q=-1;for(;;){const ue=["count="+T];Q==-1?0<T?(Q=H[0].g,ue.push("ofs="+Q)):Q=0:ue.push("ofs="+Q);let Le=!0;for(let Vt=0;Vt<T;Vt++){let Ue=H[Vt].g;const qt=H[Vt].map;if(Ue-=Q,0>Ue)Q=Math.max(0,H[Vt].g-100),Le=!1;else try{Ei(qt,ue,"req"+Ue+"_")}catch{x&&x(qt)}}if(Le){x=ue.join("&");break e}}}return h=h.i.splice(0,T),_.D=h,x}function Jc(h){if(!h.g&&!h.u){h.Y=1;var _=h.Fa;ae||L(),de||(ae(),de=!0),ke.add(_,h),h.v=0}}function Ul(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=At(E(h.Fa,h),jl(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,eh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=At(E(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),to(this),eh(this))};function ta(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function eh(h){h.g=new fn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var _=xn(h.qa);Xe(_,"RID","rpc"),Xe(_,"SID",h.K),Xe(_,"AID",h.T),Xe(_,"CI",h.F?"0":"1"),!h.F&&h.ja&&Xe(_,"TO",h.ja),Xe(_,"TYPE","xmlhttp"),ea(h,_),h.m&&h.o&&Ft(_,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=$r(xn(_)),T.m=null,T.P=!0,Wi(T,h)}t.Za=function(){this.C!=null&&(this.C=null,to(this),Ul(this),at(19))};function io(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function th(h,_){var T=null;if(h.g==_){io(h),ta(h),h.g=null;var x=2}else if(Cl(h.h,_))T=_.D,dn(h.h,_),x=1;else return;if(h.G!=0){if(_.o)if(x==1){T=_.m?_.m.length:0,_=Date.now()-_.F;var H=h.B;x=Os(),Ge(x,new Ot(x,T)),no(h)}else Jc(h);else if(H=_.s,H==3||H==0&&0<_.X||!(x==1&&Yd(h,_)||x==2&&Ul(h)))switch(T&&0<T.length&&(_=h.h,_.i=_.i.concat(T)),H){case 1:ss(h,5);break;case 4:ss(h,10);break;case 3:ss(h,6);break;default:ss(h,2)}}}function jl(h,_){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*_}function ss(h,_){if(h.j.info("Error code "+_),_==2){var T=E(h.fb,h),x=h.Xa;const H=!x;x=new xt(x||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Kr(x,"https"),$r(x),H?Xr(x.toString(),T):ni(x.toString(),T)}else at(2);h.G=0,h.l&&h.l.sa(_),nh(h),Wc(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function nh(h){if(h.G=0,h.ka=[],h.l){const _=Il(h.h);(_.length!=0||h.i.length!=0)&&(D(h.ka,_),D(h.ka,h.i),h.h.i.length=0,O(h.i),h.i.length=0),h.l.ra()}}function ih(h,_,T){var x=T instanceof xt?xn(T):new xt(T);if(x.g!="")_&&(x.g=_+"."+x.g),js(x,x.s);else{var H=f.location;x=H.protocol,_=_?_+"."+H.hostname:H.hostname,H=+H.port;var Q=new xt(null);x&&Kr(Q,x),_&&(Q.g=_),H&&js(Q,H),T&&(Q.l=T),x=Q}return T=h.D,_=h.ya,T&&_&&Xe(x,T,_),Xe(x,"VER",h.la),ea(h,x),x}function sh(h,_,T){if(_&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Ca&&!h.pa?new qe(new Bs({eb:T})):new qe(h.pa),_.Ha(h.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function rh(){}t=rh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function so(){}so.prototype.g=function(h,_){return new mn(h,_)};function mn(h,_){pt.call(this),this.g=new eo(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(h?h["X-WebChannel-Client-Profile"]=_.va:h={"X-WebChannel-Client-Profile":_.va}),this.g.S=h,(h=_&&_.Sb)&&!G(h)&&(this.g.m=h),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!G(_)&&(this.g.D=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Ai(this)}C(mn,pt),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){kl(this.g)},mn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=ei(h),h=T);_.i.push(new Kc(_.Ya++,h)),_.G==3&&no(_)},mn.prototype.N=function(){this.g.l=null,delete this.j,kl(this.g),delete this.g,mn.aa.N.call(this)};function ah(h){Xi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const T in _){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}C(ah,Xi);function oh(){Sl.call(this),this.status=1}C(oh,Sl);function Ai(h){this.g=h}C(Ai,rh),Ai.prototype.ua=function(){Ge(this.g,"a")},Ai.prototype.ta=function(h){Ge(this.g,new ah(h))},Ai.prototype.sa=function(h){Ge(this.g,new oh)},Ai.prototype.ra=function(){Ge(this.g,"b")},so.prototype.createWebChannel=so.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Sx=function(){return new so},wx=function(){return Os()},bx=gi,Zg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ls.NO_ERROR=0,Ls.TIMEOUT=8,Ls.HTTP_ERROR=6,Mf=Ls,Qi.COMPLETE="complete",Ex=Qi,wl.EventType=Yi,Yi.OPEN="a",Yi.CLOSE="b",Yi.ERROR="c",Yi.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Vu=wl,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,Tx=qe}).apply(typeof pf<"u"?pf:typeof self<"u"?self:typeof window<"u"?window:{});const Sw="@firebase/firestore",Aw="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=new o_("@firebase/firestore");function Vo(){return Da.logLevel}function fe(t,...e){if(Da.logLevel<=Me.DEBUG){const n=e.map(__);Da.debug(`Firestore (${fl}): ${t}`,...n)}}function Ns(t,...e){if(Da.logLevel<=Me.ERROR){const n=e.map(__);Da.error(`Firestore (${fl}): ${t}`,...n)}}function Jo(t,...e){if(Da.logLevel<=Me.WARN){const n=e.map(__);Da.warn(`Firestore (${fl}): ${t}`,...n)}}function __(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Ax(t,s,n)}function Ax(t,e,n){let s=`FIRESTORE (${fl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ns(s),new Error(s)}function He(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||Ax(e,a,s)}function xe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Ki{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class j6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ln.UNAUTHENTICATED))}shutdown(){}}class B6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class z6{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new ws;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ws,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},f=m=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ws)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string",31837,{l:s}),new xx(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class F6{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class q6{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new F6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class H6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,On(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){He(this.o===void 0,3512);const s=l=>{l.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,fe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const a=l=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new xw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new xw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=G6(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function Oe(t,e){return t<e?-1:t>e?1:0}function Jg(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return fg(a)===fg(l)?Oe(a,l):fg(a)?1:-1}return Oe(t.length,e.length)}const K6=55296,$6=57343;function fg(t){const e=t.charCodeAt(0);return e>=K6&&e<=$6}function el(t,e,n){return t.length===e.length&&t.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="__name__";class Pi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Pi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=Pi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Oe(e.length,n.length)}static compareSegments(e,n){const s=Pi.isNumericId(e),a=Pi.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Pi.extractNumericId(e).compare(Pi.extractNumericId(n)):Jg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _r.fromString(e.substring(4,e.length-2))}}class it extends Pi{construct(e,n,s){return new it(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new it(n)}static emptyPath(){return new it([])}}const Y6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Pi{construct(e,n,s){return new tn(e,n,s)}static isValidIdentifier(e){return Y6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Rw}static keyField(){return new tn([Rw])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new he(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new he(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(s+=f,a++):(l(),a++)}if(l(),c)throw new he(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(it.fromString(e))}static fromName(e){return new ge(it.fromString(e).popFirst(5))}static empty(){return new ge(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(t,e,n){if(!n)throw new he(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function X6(t,e,n,s){if(e===!0&&s===!0)throw new he(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Cw(t){if(!ge.isDocumentKey(t))throw new he(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Iw(t){if(ge.isDocumentKey(t))throw new he(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Cx(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function wd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee(12329,{type:typeof t})}function wr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wd(t);throw new he(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ic(t,e){if(!Cx(t))throw new he(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new he(te.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=-62135596800,Dw=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Dw);return new st(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Nw)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Dw}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ic(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Nw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Pt("string",st._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new st(0,0))}static max(){return new Ae(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=-1;function Q6(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ae.fromTimestamp(s===1e9?new st(n+1,0):new st(n,s));return new Sr(a,ge.empty(),e)}function W6(t){return new Sr(t.readTime,t.key,uc)}class Sr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Sr(Ae.min(),ge.empty(),uc)}static max(){return new Sr(Ae.max(),ge.empty(),uc)}}function Z6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(t.documentKey,e.documentKey),n!==0?n:Oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dl(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==J6)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.reject(n)}static resolve(e){return new ie((n,s)=>{n(e)})}static reject(e){return new ie((n,s)=>{s(e)})}static waitFor(e){return new ie((n,s)=>{let a=0,l=0,c=!1;e.forEach(f=>{++a,f.next(()=>{++l,c&&l===a&&n()},m=>s(m))}),c=!0,l===a&&n()})}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next(a=>a?ie.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,l)=>{s.push(n.call(this,a,l))}),this.waitFor(s)}static mapArray(e,n){return new ie((s,a)=>{const l=e.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next(y=>{c[p]=y,++f,f===l&&s(c)},y=>a(y))}})}static doWhile(e,n){return new ie((s,a)=>{const l=()=>{e()===!0?n().next(()=>{l()},a):s()};l()})}}function tU(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ml(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=-1;function Ad(t){return t==null}function Jf(t){return t===0&&1/t==-1/0}function nU(t){return typeof t=="number"&&Number.isInteger(t)&&!Jf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="";function iU(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Pw(e)),e=sU(t.get(n),e);return Pw(e)}function sU(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case Ix:n+="";break;default:n+=l}}return n}function Pw(t){return t+Ix+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function La(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Nx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gf(this.root,e,this.comparator,!1)}getReverseIterator(){return new gf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gf(this.root,e,this.comparator,!0)}}class gf{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??en.RED,this.left=a??en.EMPTY,this.right=l??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new en(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return en.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new en(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ow(this.data.getIterator())}getIteratorFrom(e){return new Ow(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new jt(this.comparator);return n.data=e,n}}class Ow{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new ui([])}unionWith(e){let n=new jt(tn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ui(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return el(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Dx("Invalid base64 string: "+l):l}}(e);return new nn(n)}static fromUint8Array(e){const n=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const rU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ar(t){if(He(!!t,39018),typeof t=="string"){let e=0;const n=rU.exec(t);if(He(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:wt(t.seconds),nanos:wt(t.nanos)}}function wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xr(t){return typeof t=="string"?nn.fromBase64String(t):nn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="server_timestamp",Mx="__type__",Ox="__previous_value__",Vx="__local_write_time__";function E_(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Mx])==null?void 0:s.stringValue)===Px}function xd(t){const e=t.mapValue.fields[Ox];return E_(e)?xd(e):e}function cc(t){const e=Ar(t.mapValue.fields[Vx].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e,n,s,a,l,c,f,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const ed="(default)";class hc{constructor(e,n){this.projectId=e,this.database=n||ed}static empty(){return new hc("","")}get isDefaultDatabase(){return this.database===ed}isEqual(e){return e instanceof hc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="__type__",oU="__max__",yf={mapValue:{}},Lx="__vector__",td="value";function Rr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?E_(t)?4:uU(t)?9007199254740991:lU(t)?10:11:Ee(28295,{value:t})}function Gi(t,e){if(t===e)return!0;const n=Rr(t);if(n!==Rr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cc(t).isEqual(cc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ar(a.timestampValue),f=Ar(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,l){return xr(a.bytesValue).isEqual(xr(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,l){return wt(a.geoPointValue.latitude)===wt(l.geoPointValue.latitude)&&wt(a.geoPointValue.longitude)===wt(l.geoPointValue.longitude)}(t,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return wt(a.integerValue)===wt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=wt(a.doubleValue),f=wt(l.doubleValue);return c===f?Jf(c)===Jf(f):isNaN(c)&&isNaN(f)}return!1}(t,e);case 9:return el(t.arrayValue.values||[],e.arrayValue.values||[],Gi);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(Mw(c)!==Mw(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!Gi(c[m],f[m])))return!1;return!0}(t,e);default:return Ee(52216,{left:t})}}function fc(t,e){return(t.values||[]).find(n=>Gi(n,e))!==void 0}function tl(t,e){if(t===e)return 0;const n=Rr(t),s=Rr(e);if(n!==s)return Oe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(t.booleanValue,e.booleanValue);case 2:return function(l,c){const f=wt(l.integerValue||l.doubleValue),m=wt(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(t,e);case 3:return Vw(t.timestampValue,e.timestampValue);case 4:return Vw(cc(t),cc(e));case 5:return Jg(t.stringValue,e.stringValue);case 6:return function(l,c){const f=xr(l),m=xr(c);return f.compareTo(m)}(t.bytesValue,e.bytesValue);case 7:return function(l,c){const f=l.split("/"),m=c.split("/");for(let p=0;p<f.length&&p<m.length;p++){const y=Oe(f[p],m[p]);if(y!==0)return y}return Oe(f.length,m.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,c){const f=Oe(wt(l.latitude),wt(c.latitude));return f!==0?f:Oe(wt(l.longitude),wt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return kw(t.arrayValue,e.arrayValue);case 10:return function(l,c){var E,A,C,O;const f=l.fields||{},m=c.fields||{},p=(E=f[td])==null?void 0:E.arrayValue,y=(A=m[td])==null?void 0:A.arrayValue,v=Oe(((C=p==null?void 0:p.values)==null?void 0:C.length)||0,((O=y==null?void 0:y.values)==null?void 0:O.length)||0);return v!==0?v:kw(p,y)}(t.mapValue,e.mapValue);case 11:return function(l,c){if(l===yf.mapValue&&c===yf.mapValue)return 0;if(l===yf.mapValue)return 1;if(c===yf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let v=0;v<m.length&&v<y.length;++v){const E=Jg(m[v],y[v]);if(E!==0)return E;const A=tl(f[m[v]],p[y[v]]);if(A!==0)return A}return Oe(m.length,y.length)}(t.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function Vw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Oe(t,e);const n=Ar(t),s=Ar(e),a=Oe(n.seconds,s.seconds);return a!==0?a:Oe(n.nanos,s.nanos)}function kw(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=tl(n[a],s[a]);if(l)return l}return Oe(n.length,s.length)}function nl(t){return ey(t)}function ey(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=Ar(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return xr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ge.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=ey(l);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${ey(n.fields[c])}`;return a+"}"}(t.mapValue):Ee(61005,{value:t})}function Of(t){switch(Rr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xd(t);return e?16+Of(e):16;case 5:return 2*t.stringValue.length;case 6:return xr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,l)=>a+Of(l),0)}(t.arrayValue);case 10:case 11:return function(s){let a=0;return La(s.fields,(l,c)=>{a+=l.length+Of(c)}),a}(t.mapValue);default:throw Ee(13486,{value:t})}}function Lw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ty(t){return!!t&&"integerValue"in t}function b_(t){return!!t&&"arrayValue"in t}function Uw(t){return!!t&&"nullValue"in t}function jw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vf(t){return!!t&&"mapValue"in t}function lU(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[kx])==null?void 0:s.stringValue)===Lx}function $u(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return La(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=$u(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$u(t.arrayValue.values[n]);return e}return{...t}}function uU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===oU}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Vf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$u(n)}setAll(e){let n=tn.emptyPath(),s={},a=[];e.forEach((c,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=f.popLast()}c?s[f.lastSegment()]=$u(c):a.push(f.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Vf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Vf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){La(n,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new Wn($u(this.value))}}function Ux(t){const e=[];return La(t.fields,(n,s)=>{const a=new tn([n]);if(Vf(s)){const l=Ux(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new ui(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n,s,a,l,c,f){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new un(e,0,Ae.min(),Ae.min(),Ae.min(),Wn.empty(),0)}static newFoundDocument(e,n,s,a){return new un(e,1,n,Ae.min(),s,a,0)}static newNoDocument(e,n){return new un(e,2,n,Ae.min(),Ae.min(),Wn.empty(),0)}static newUnknownDocument(e,n){return new un(e,3,n,Ae.min(),Ae.min(),Wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n){this.position=e,this.inclusive=n}}function Bw(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?s=ge.comparator(ge.fromName(c.referenceValue),n.key):s=tl(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function zw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n="asc"){this.field=e,this.dir=n}}function cU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{}class Dt extends jx{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new fU(e,n,s):n==="array-contains"?new pU(e,s):n==="in"?new gU(e,s):n==="not-in"?new yU(e,s):n==="array-contains-any"?new _U(e,s):new Dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new dU(e,s):new mU(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(tl(n,this.value)):n!==null&&Rr(this.value)===Rr(n)&&this.matchesComparison(tl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fi extends jx{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new fi(e,n)}matches(e){return Bx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Bx(t){return t.op==="and"}function zx(t){return hU(t)&&Bx(t)}function hU(t){for(const e of t.filters)if(e instanceof fi)return!1;return!0}function ny(t){if(t instanceof Dt)return t.field.canonicalString()+t.op.toString()+nl(t.value);if(zx(t))return t.filters.map(e=>ny(e)).join(",");{const e=t.filters.map(n=>ny(n)).join(",");return`${t.op}(${e})`}}function Fx(t,e){return t instanceof Dt?function(s,a){return a instanceof Dt&&s.op===a.op&&s.field.isEqual(a.field)&&Gi(s.value,a.value)}(t,e):t instanceof fi?function(s,a){return a instanceof fi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((l,c,f)=>l&&Fx(c,a.filters[f]),!0):!1}(t,e):void Ee(19439)}function qx(t){return t instanceof Dt?function(n){return`${n.field.canonicalString()} ${n.op} ${nl(n.value)}`}(t):t instanceof fi?function(n){return n.op.toString()+" {"+n.getFilters().map(qx).join(" ,")+"}"}(t):"Filter"}class fU extends Dt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class dU extends Dt{constructor(e,n){super(e,"in",n),this.keys=Hx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class mU extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=Hx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Hx(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(s=>ge.fromName(s.referenceValue))}class pU extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return b_(n)&&fc(n.arrayValue,this.value)}}class gU extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fc(this.value.arrayValue,n)}}class yU extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fc(this.value.arrayValue,n)}}class _U extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!b_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>fc(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e,n=null,s=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function Fw(t,e=null,n=[],s=[],a=null,l=null,c=null){return new vU(t,e,n,s,a,l,c)}function w_(t){const e=xe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>ny(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),Ad(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>nl(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>nl(s)).join(",")),e.Te=n}return e.Te}function S_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!cU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Fx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zw(t.startAt,e.startAt)&&zw(t.endAt,e.endAt)}function iy(t){return ge.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n=null,s=[],a=[],l=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function TU(t,e,n,s,a,l,c,f){return new Nc(t,e,n,s,a,l,c,f)}function A_(t){return new Nc(t)}function qw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Gx(t){return t.collectionGroup!==null}function Yu(t){const e=xe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new jt(tn.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(f=f.add(p.field))})}),f})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new id(l,s))}),n.has(tn.keyField().canonicalString())||e.Ie.push(new id(tn.keyField(),s))}return e.Ie}function Bi(t){const e=xe(t);return e.Ee||(e.Ee=EU(e,Yu(t))),e.Ee}function EU(t,e){if(t.limitType==="F")return Fw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new id(a.field,l)});const n=t.endAt?new nd(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new nd(t.startAt.position,t.startAt.inclusive):null;return Fw(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function sy(t,e){const n=t.filters.concat([e]);return new Nc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ry(t,e,n){return new Nc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Rd(t,e){return S_(Bi(t),Bi(e))&&t.limitType===e.limitType}function Kx(t){return`${w_(Bi(t))}|lt:${t.limitType}`}function ko(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>qx(a)).join(", ")}]`),Ad(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>nl(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>nl(a)).join(",")),`Target(${s})`}(Bi(t))}; limitType=${t.limitType})`}function Cd(t,e){return e.isFoundDocument()&&function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ge.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(t,e)&&function(s,a){for(const l of Yu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(t,e)&&function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0}(t,e)&&function(s,a){return!(s.startAt&&!function(c,f,m){const p=Bw(c,f,m);return c.inclusive?p<=0:p<0}(s.startAt,Yu(s),a)||s.endAt&&!function(c,f,m){const p=Bw(c,f,m);return c.inclusive?p>=0:p>0}(s.endAt,Yu(s),a))}(t,e)}function bU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function $x(t){return(e,n)=>{let s=!1;for(const a of Yu(t)){const l=wU(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function wU(t,e,n){const s=t.field.isKeyField()?ge.comparator(e.key,n.key):function(l,c,f){const m=c.data.field(l),p=f.data.field(l);return m!==null&&p!==null?tl(m,p):Ee(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){La(this.inner,(n,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return Nx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU=new dt(ge.comparator);function Ds(){return SU}const Yx=new dt(ge.comparator);function ku(...t){let e=Yx;for(const n of t)e=e.insert(n.key,n);return e}function Xx(t){let e=Yx;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function ba(){return Xu()}function Qx(){return Xu()}function Xu(){return new Ua(t=>t.toString(),(t,e)=>t.isEqual(e))}const AU=new dt(ge.comparator),xU=new jt(ge.comparator);function Ve(...t){let e=xU;for(const n of t)e=e.add(n);return e}const RU=new jt(Oe);function CU(){return RU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jf(e)?"-0":e}}function Wx(t){return{integerValue:""+t}}function IU(t,e){return nU(e)?Wx(e):x_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(){this._=void 0}}function NU(t,e,n){return t instanceof dc?function(a,l){const c={fields:{[Mx]:{stringValue:Px},[Vx]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&E_(l)&&(l=xd(l)),l&&(c.fields[Ox]=l),{mapValue:c}}(n,e):t instanceof mc?Jx(t,e):t instanceof pc?eR(t,e):function(a,l){const c=Zx(a,l),f=Hw(c)+Hw(a.Ae);return ty(c)&&ty(a.Ae)?Wx(f):x_(a.serializer,f)}(t,e)}function DU(t,e,n){return t instanceof mc?Jx(t,e):t instanceof pc?eR(t,e):n}function Zx(t,e){return t instanceof sd?function(s){return ty(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class dc extends Id{}class mc extends Id{constructor(e){super(),this.elements=e}}function Jx(t,e){const n=tR(e);for(const s of t.elements)n.some(a=>Gi(a,s))||n.push(s);return{arrayValue:{values:n}}}class pc extends Id{constructor(e){super(),this.elements=e}}function eR(t,e){let n=tR(e);for(const s of t.elements)n=n.filter(a=>!Gi(a,s));return{arrayValue:{values:n}}}class sd extends Id{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Hw(t){return wt(t.integerValue||t.doubleValue)}function tR(t){return b_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e,n){this.field=e,this.transform=n}}function MU(t,e){return t.field.isEqual(e.field)&&function(s,a){return s instanceof mc&&a instanceof mc||s instanceof pc&&a instanceof pc?el(s.elements,a.elements,Gi):s instanceof sd&&a instanceof sd?Gi(s.Ae,a.Ae):s instanceof dc&&a instanceof dc}(t.transform,e.transform)}class OU{constructor(e,n){this.version=e,this.transformResults=n}}class zi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zi}static exists(e){return new zi(void 0,e)}static updateTime(e){return new zi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Nd{}function nR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new sR(t.key,zi.none()):new Dc(t.key,t.data,zi.none());{const n=t.data,s=Wn.empty();let a=new jt(tn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new ja(t.key,s,new ui(a.toArray()),zi.none())}}function VU(t,e,n){t instanceof Dc?function(a,l,c){const f=a.value.clone(),m=Kw(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(t,e,n):t instanceof ja?function(a,l,c){if(!kf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=Kw(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(iR(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(t,e,n):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function Qu(t,e,n,s){return t instanceof Dc?function(l,c,f,m){if(!kf(l.precondition,c))return f;const p=l.value.clone(),y=$w(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(t,e,n,s):t instanceof ja?function(l,c,f,m){if(!kf(l.precondition,c))return f;const p=$w(l.fieldTransforms,m,c),y=c.data;return y.setAll(iR(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(v=>v.field))}(t,e,n,s):function(l,c,f){return kf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(t,e,n)}function kU(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=Zx(s.transform,a||null);l!=null&&(n===null&&(n=Wn.empty()),n.set(s.field,l))}return n||null}function Gw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&el(s,a,(l,c)=>MU(l,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Dc extends Nd{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ja extends Nd{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function iR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function Kw(t,e,n){const s=new Map;He(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,f=e.data.field(l.field);s.set(l.field,DU(c,f,n[a]))}return s}function $w(t,e,n){const s=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);s.set(a.field,NU(l,c,e))}return s}class sR extends Nd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LU extends Nd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&VU(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Qu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Qu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Qx();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const m=nR(c,f);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Ae.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&el(this.mutations,e.mutations,(n,s)=>Gw(n,s))&&el(this.baseMutations,e.baseMutations,(n,s)=>Gw(n,s))}}class R_{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){He(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=function(){return AU}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new R_(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,Be;function zU(t){switch(t){case te.OK:return Ee(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ee(15467,{code:t})}}function rR(t){if(t===void 0)return Ns("GRPC error has no .code"),te.UNKNOWN;switch(t){case It.OK:return te.OK;case It.CANCELLED:return te.CANCELLED;case It.UNKNOWN:return te.UNKNOWN;case It.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case It.INTERNAL:return te.INTERNAL;case It.UNAVAILABLE:return te.UNAVAILABLE;case It.UNAUTHENTICATED:return te.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case It.NOT_FOUND:return te.NOT_FOUND;case It.ALREADY_EXISTS:return te.ALREADY_EXISTS;case It.PERMISSION_DENIED:return te.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case It.ABORTED:return te.ABORTED;case It.OUT_OF_RANGE:return te.OUT_OF_RANGE;case It.UNIMPLEMENTED:return te.UNIMPLEMENTED;case It.DATA_LOSS:return te.DATA_LOSS;default:return Ee(39323,{code:t})}}(Be=It||(It={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qU=new _r([4294967295,4294967295],0);function Yw(t){const e=FU().encode(t),n=new vx;return n.update(e),new Uint8Array(n.digest())}function Xw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new _r([n,s],0),new _r([a,l],0)]}class C_{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Lu(`Invalid padding: ${n}`);if(s<0)throw new Lu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Lu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Lu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=_r.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(_r.fromNumber(s)));return a.compare(qU)===1&&(a=new _r([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Yw(e),[s,a]=Xw(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new C_(l,a,n);return s.forEach(f=>c.insert(f)),c}insert(e){if(this.ge===0)return;const n=Yw(e),[s,a]=Xw(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Lu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Pc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Dd(Ae.min(),a,new dt(Oe),Ds(),Ve())}}class Pc{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Pc(s,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class aR{constructor(e,n){this.targetId=e,this.Ce=n}}class oR{constructor(e,n,s=nn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Qw{constructor(){this.ve=0,this.Fe=Ww(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),n=Ve(),s=Ve();return this.Fe.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Ee(38017,{changeType:l})}}),new Pc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Ww()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class HU{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ds(),this.Je=_f(),this.He=_f(),this.Ye=new dt(Oe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,a)=>{this.rt(a)&&n(a)})}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(iy(l))if(s===0){const c=new ge(l.path);this.et(n,c,un.newNoDocument(c,Ae.min()))}else He(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const f=this.ut(e),m=f?this.ct(f,e,c):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=xr(s).toUint8Array()}catch(m){if(m instanceof Dx)return Jo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new C_(c,a,l)}catch(m){return Jo(m instanceof Lu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach(l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)}),a}Tt(e){const n=new Map;this.ze.forEach((l,c)=>{const f=this.ot(c);if(f){if(l.current&&iy(f.target)){const m=new ge(f.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,un.newNoDocument(m,e))}l.Be&&(n.set(c,l.ke()),l.qe())}});let s=Ve();this.He.forEach((l,c)=>{let f=!0;c.forEachWhile(m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(s=s.add(l))}),this.je.forEach((l,c)=>c.setReadTime(e));const a=new Dd(e,n,this.Ye,this.je,s);return this.je=Ds(),this.Je=_f(),this.He=_f(),this.Ye=new dt(Oe),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Qw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new jt(Oe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new jt(Oe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Qw),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function _f(){return new dt(ge.comparator)}function Ww(){return new dt(ge.comparator)}const GU={asc:"ASCENDING",desc:"DESCENDING"},KU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$U={and:"AND",or:"OR"};class YU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ay(t,e){return t.useProto3Json||Ad(e)?e:{value:e}}function rd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function XU(t,e){return rd(t,e.toTimestamp())}function Fi(t){return He(!!t,49232),Ae.fromTimestamp(function(n){const s=Ar(n);return new st(s.seconds,s.nanos)}(t))}function I_(t,e){return oy(t,e).canonicalString()}function oy(t,e){const n=function(a){return new it(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function uR(t){const e=it.fromString(t);return He(mR(e),10190,{key:e.toString()}),e}function ly(t,e){return I_(t.databaseId,e.path)}function dg(t,e){const n=uR(e);if(n.get(1)!==t.databaseId.projectId)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ge(hR(n))}function cR(t,e){return I_(t.databaseId,e)}function QU(t){const e=uR(t);return e.length===4?it.emptyPath():hR(e)}function uy(t){return new it(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function hR(t){return He(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Zw(t,e,n){return{name:ly(t,e),fields:n.value.mapValue.fields}}function WU(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ee(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(p,y){return p.useProto3Json?(He(y===void 0||typeof y=="string",58123),nn.fromBase64String(y||"")):(He(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),nn.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(p){const y=p.code===void 0?te.UNKNOWN:rR(p.code);return new he(y,p.message||"")}(c);n=new oR(s,a,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=dg(t,s.document.name),l=Fi(s.document.updateTime),c=s.document.createTime?Fi(s.document.createTime):Ae.min(),f=new Wn({mapValue:{fields:s.document.fields}}),m=un.newFoundDocument(a,l,c,f),p=s.targetIds||[],y=s.removedTargetIds||[];n=new Lf(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=dg(t,s.document),l=s.readTime?Fi(s.readTime):Ae.min(),c=un.newNoDocument(a,l),f=s.removedTargetIds||[];n=new Lf([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=dg(t,s.document),l=s.removedTargetIds||[];n=new Lf([],l,a,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new BU(a,l),f=s.targetId;n=new aR(f,c)}}return n}function ZU(t,e){let n;if(e instanceof Dc)n={update:Zw(t,e.key,e.value)};else if(e instanceof sR)n={delete:ly(t,e.key)};else if(e instanceof ja)n={update:Zw(t,e.key,e.data),updateMask:o3(e.fieldMask)};else{if(!(e instanceof LU))return Ee(16599,{Vt:e.type});n={verify:ly(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(l,c){const f=c.transform;if(f instanceof dc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof mc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof pc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof sd)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw Ee(20930,{transform:c.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:XU(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ee(27497)}(t,e.precondition)),n}function JU(t,e){return t&&t.length>0?(He(e!==void 0,14353),t.map(n=>function(a,l){let c=a.updateTime?Fi(a.updateTime):Fi(l);return c.isEqual(Ae.min())&&(c=Fi(l)),new OU(c,a.transformResults||[])}(n,e))):[]}function e3(t,e){return{documents:[cR(t,e.path)]}}function t3(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=cR(t,a);const l=function(p){if(p.length!==0)return dR(fi.create(p,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(y=>function(E){return{field:Lo(E.field),direction:s3(E.dir)}}(y))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=ay(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ft:n,parent:a}}function n3(t){let e=QU(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){He(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=function(v){const E=fR(v);return E instanceof fi&&zx(E)?E.getFilters():[E]}(n.where));let c=[];n.orderBy&&(c=function(v){return v.map(E=>function(C){return new id(Uo(C.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(E))}(n.orderBy));let f=null;n.limit&&(f=function(v){let E;return E=typeof v=="object"?v.value:v,Ad(E)?null:E}(n.limit));let m=null;n.startAt&&(m=function(v){const E=!!v.before,A=v.values||[];return new nd(A,E)}(n.startAt));let p=null;return n.endAt&&(p=function(v){const E=!v.before,A=v.values||[];return new nd(A,E)}(n.endAt)),TU(e,a,c,l,f,"F",m,p)}function i3(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:a})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Uo(n.unaryFilter.field);return Dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Uo(n.unaryFilter.field);return Dt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Uo(n.unaryFilter.field);return Dt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Uo(n.unaryFilter.field);return Dt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(t):t.fieldFilter!==void 0?function(n){return Dt.create(Uo(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return fi.create(n.compositeFilter.filters.map(s=>fR(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(n.compositeFilter.op))}(t):Ee(30097,{filter:t})}function s3(t){return GU[t]}function r3(t){return KU[t]}function a3(t){return $U[t]}function Lo(t){return{fieldPath:t.canonicalString()}}function Uo(t){return tn.fromServerFormat(t.fieldPath)}function dR(t){return t instanceof Dt?function(n){if(n.op==="=="){if(jw(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NAN"}};if(Uw(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(jw(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NOT_NAN"}};if(Uw(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lo(n.field),op:r3(n.op),value:n.value}}}(t):t instanceof fi?function(n){const s=n.getFilters().map(a=>dR(a));return s.length===1?s[0]:{compositeFilter:{op:a3(n.op),filters:s}}}(t):Ee(54877,{filter:t})}function o3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function mR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,n,s,a,l=Ae.min(),c=Ae.min(),f=nn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new pr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e){this.yt=e}}function u3(t){const e=n3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ry(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(){this.Cn=new h3}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(Sr.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(Sr.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class h3{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new jt(it.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new jt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pR=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(pR,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new il(0)}static cr(){return new il(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="LruGarbageCollector",f3=1048576;function tS([t,e],[n,s]){const a=Oe(t,n);return a===0?Oe(e,s):a}class d3{constructor(e){this.Ir=e,this.buffer=new jt(tS),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();tS(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class m3{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(eS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ml(n)?fe(eS,"Ignoring IndexedDB error during garbage collection: ",n):await dl(n)}await this.Vr(3e5)})}}class p3{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Sd.ce);const s=new d3(n);return this.mr.forEachTarget(e,a=>s.Ar(a.sequenceNumber)).next(()=>this.mr.pr(e,a=>s.Ar(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(Jw)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jw):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,c,f,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(e,a))).next(v=>(s=v,f=Date.now(),this.removeTargets(e,s,n))).next(v=>(l=v,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(v=>(p=Date.now(),Vo()<=Me.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${v} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v})))}}function g3(t,e){return new p3(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(){this.changes=new Ua(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&Qu(s.mutation,a,ui.empty(),st.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ve()){const a=ba();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(l=>{let c=ku();return l.forEach((f,m)=>{c=c.insert(f,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const s=ba();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ve()))}populateOverlays(e,n,s){const a=[];return s.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,f)=>{n.set(c,f)})})}computeViews(e,n,s,a){let l=Ds();const c=Xu(),f=function(){return Xu()}();return n.forEach((m,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof ja)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Qu(y.mutation,p,y.mutation.getFieldMask(),st.now())):c.set(p.key,ui.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((p,y)=>c.set(p,y)),n.forEach((p,y)=>f.set(p,new _3(y,c.get(p)??null))),f))}recalculateAndSaveOverlays(e,n){const s=Xu();let a=new dt((c,f)=>c-f),l=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const f of c)f.keys().forEach(m=>{const p=n.get(m);if(p===null)return;let y=s.get(m)||ui.empty();y=f.applyToLocalView(p,y),s.set(m,y);const v=(a.get(f.batchId)||Ve()).add(m);a=a.insert(f.batchId,v)})}).next(()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,y=m.value,v=Qx();y.forEach(E=>{if(!l.has(E)){const A=nR(n.get(E),s.get(E));A!==null&&v.set(E,A),l=l.add(E)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,v))}return ie.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(c){return ge.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Gx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):ie.resolve(ba());let f=uc,m=l;return c.next(p=>ie.forEach(p,(y,v)=>(f<v.largestBatchId&&(f=v.largestBatchId),l.get(y)?ie.resolve():this.remoteDocumentCache.getEntry(e,y).next(E=>{m=m.insert(y,E)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,m,p,Ve())).next(y=>({batchId:f,changes:Xx(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(s=>{let a=ku();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let c=ku();return this.indexManager.getCollectionParents(e,l).next(f=>ie.forEach(f,m=>{const p=function(v,E){return new Nc(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next(y=>{y.forEach((v,E)=>{c=c.insert(v,E)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a))).next(c=>{l.forEach((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,un.newInvalidDocument(y)))});let f=ku();return c.forEach((m,p)=>{const y=l.get(m);y!==void 0&&Qu(y.mutation,p,ui.empty(),st.now()),Cd(n,p)&&(f=f.insert(m,p))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Fi(a.createTime)}}(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(a){return{name:a.name,query:u3(a.bundledQuery),readTime:Fi(a.readTime)}}(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(){this.overlays=new dt(ge.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ba();return ie.forEach(n,a=>this.getOverlay(e,a).next(l=>{l!==null&&s.set(a,l)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,l)=>{this.St(e,n,l)}),ie.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const a=ba(),l=n.length+1,c=new ge(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return ie.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new dt((p,y)=>p-y);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=ba(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=ba(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,y)=>f.set(p,y)),!(f.size()>=a)););return ie.resolve(f)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new jU(n,s));let l=this.qr.get(n);l===void 0&&(l=Ve(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(){this.Qr=new jt($t.$r),this.Ur=new jt($t.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new $t(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new $t(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new ge(new it([])),s=new $t(n,e),a=new $t(n,e+1),l=[];return this.Ur.forEachInRange([s,a],c=>{this.Gr(c),l.push(c.key)}),l}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ge(new it([])),s=new $t(n,e),a=new $t(n,e+1);let l=Ve();return this.Ur.forEachInRange([s,a],c=>{l=l.add(c.key)}),l}containsKey(e){const n=new $t(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class $t{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ge.comparator(e.key,n.key)||Oe(e.Yr,n.Yr)}static Kr(e,n){return Oe(e.Yr,n.Yr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new jt($t.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new UU(l,n,s,a);this.mutationQueue.push(c);for(const f of a)this.Zr=this.Zr.add(new $t(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ie.resolve(c)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return ie.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?T_:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new $t(n,0),a=new $t(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],c=>{const f=this.Xr(c.Yr);l.push(f)}),ie.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new jt(Oe);return n.forEach(a=>{const l=new $t(a,0),c=new $t(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],f=>{s=s.add(f.Yr)})}),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;ge.isDocumentKey(l)||(l=l.child(""));const c=new $t(new ge(l),0);let f=new jt(Oe);return this.Zr.forEachWhile(m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Yr)),!0)},c),ie.resolve(this.ti(f))}ti(e){const n=[];return e.forEach(s=>{const a=this.Xr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){He(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(n.mutations,a=>{const l=new $t(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new $t(n,0),a=this.Zr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e){this.ri=e,this.docs=function(){return new dt(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let s=Ds();return n.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():un.newInvalidDocument(a))}),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=Ds();const c=n.path,f=new ge(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||Z6(W6(y),s)<=0||(a.has(y.key)||Cd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ie.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Ee(9500)}ii(e,n){return ie.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new A3(this)}getSize(e){return ie.resolve(this.size)}}class A3 extends y3{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)}),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e){this.persistence=e,this.si=new Ua(n=>w_(n),S_),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new N_,this.targetCount=0,this.ai=il.ur()}forEachTarget(e,n){return this.si.forEach((s,a)=>n(a)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new il(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach((c,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),ie.waitFor(l).next(()=>a)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),ie.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n){this.ui={},this.overlays={},this.ci=new Sd(0),this.li=!1,this.li=!0,this.hi=new b3,this.referenceDelegate=e(this),this.Pi=new x3(this),this.indexManager=new c3,this.remoteDocumentCache=function(a){return new S3(a)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new l3(n),this.Ii=new T3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new E3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new w3(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const a=new R3(this.ci.next());return this.referenceDelegate.Ei(),s(a).next(l=>this.referenceDelegate.di(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ai(e,n){return ie.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class R3 extends eU{constructor(e){super(),this.currentSequenceNumber=e}}class D_{constructor(e){this.persistence=e,this.Ri=new N_,this.Vi=null}static mi(e){return new D_(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(a=>this.fi.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.fi.add(l.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,s=>{const a=ge.fromPath(s);return this.gi(e,a).next(l=>{l||n.removeEntry(a,Ae.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ad{constructor(e,n){this.persistence=e,this.pi=new Ua(s=>iU(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=g3(this,n)}static mi(e,n){return new ad(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return ie.forEach(this.pi,(s,a)=>this.br(e,s,a).next(l=>l?ie.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,c=>this.br(e,c,n).next(f=>{f||(s++,l.removeEntry(c,Ae.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Of(e.data.value)),n}br(e,n,s){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ie.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=Ve(),a=Ve();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new P_(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return sk()?8:tU(hn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ws(e,n,a,s).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new C3;return this.Ss(e,n,c).next(f=>{if(l.result=f,this.Vs)return this.bs(e,n,c,f.size)})}).next(()=>l.result)}bs(e,n,s,a){return s.documentReadCount<this.fs?(Vo()<=Me.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",ko(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(Vo()<=Me.DEBUG&&fe("QueryEngine","Query:",ko(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Vo()<=Me.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",ko(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bi(n))):ie.resolve())}ys(e,n){if(qw(n))return ie.resolve(null);let s=Bi(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=ry(n,null,"F"),s=Bi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const c=Ve(...l);return this.ps.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,s).next(m=>{const p=this.Ds(n,f);return this.Cs(n,p,c,m.readTime)?this.ys(e,ry(n,null,"F")):this.vs(e,p,n,m)}))})))}ws(e,n,s,a){return qw(n)||a.isEqual(Ae.min())?ie.resolve(null):this.ps.getDocuments(e,s).next(l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,a)?ie.resolve(null):(Vo()<=Me.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ko(n)),this.vs(e,c,n,Q6(a,uc)).next(f=>f))})}Ds(e,n){let s=new jt($x(e));return n.forEach((a,l)=>{Cd(e,l)&&(s=s.add(l))}),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return Vo()<=Me.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",ko(n)),this.ps.getDocumentsMatchingQuery(e,n,Sr.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="LocalStore",N3=3e8;class D3{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new dt(Oe),this.xs=new Ua(l=>w_(l),S_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new v3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function P3(t,e,n,s){return new D3(t,e,n,s)}async function yR(t,e){const n=xe(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(l=>{const c=[],f=[];let m=Ve();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){f.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next(p=>({Ls:p,removedBatchIds:c,addedBatchIds:f}))})})}function M3(t,e){const n=xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return function(f,m,p,y){const v=p.batch,E=v.keys();let A=ie.resolve();return E.forEach(C=>{A=A.next(()=>y.getEntry(m,C)).next(O=>{const D=p.docVersions.get(C);He(D!==null,48541),O.version.compareTo(D)<0&&(v.applyToRemoteDocument(O,p),O.isValidDocument()&&(O.setReadTime(p.commitVersion),y.addEntry(O)))})}),A.next(()=>f.mutationQueue.removeMutationBatch(m,v))}(n,s,e,l).next(()=>l.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let m=Ve();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function _R(t){const e=xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function O3(t,e){const n=xe(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const f=[];e.targetChanges.forEach((y,v)=>{const E=a.get(v);if(!E)return;f.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,v).next(()=>n.Pi.addMatchingKeys(l,y.addedDocuments,v)));let A=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?A=A.withResumeToken(nn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,s)),a=a.insert(v,A),function(O,D,U){return O.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=N3?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(E,A,y)&&f.push(n.Pi.updateTargetData(l,A))});let m=Ds(),p=Ve();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))}),f.push(V3(l,c,e.documentUpdates).next(y=>{m=y.ks,p=y.qs})),!s.isEqual(Ae.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next(v=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s));f.push(y)}return ie.waitFor(f).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(n.Ms=a,l))}function V3(t,e,n){let s=Ve(),a=Ve();return n.forEach(l=>s=s.add(l)),e.getEntries(t,s).next(l=>{let c=Ds();return n.forEach((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Ae.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):fe(M_,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)}),{ks:c,qs:a}})}function k3(t,e){const n=xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=T_),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function L3(t,e){const n=xe(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Pi.getTargetData(s,e).next(l=>l?(a=l,ie.resolve(a)):n.Pi.allocateTargetId(s).next(c=>(a=new pr(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function cy(t,e,n){const s=xe(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,c=>s.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!ml(c))throw c;fe(M_,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function nS(t,e,n){const s=xe(t);let a=Ae.min(),l=Ve();return s.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,y){const v=xe(m),E=v.xs.get(y);return E!==void 0?ie.resolve(v.Ms.get(E)):v.Pi.getTargetData(p,y)}(s,c,Bi(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,f.targetId).next(m=>{l=m})}).next(()=>s.Fs.getDocumentsMatchingQuery(c,e,n?a:Ae.min(),n?l:Ve())).next(f=>(U3(s,bU(e),f),{documents:f,Qs:l})))}function U3(t,e,n){let s=t.Os.get(e)||Ae.min();n.forEach((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),t.Os.set(e,s)}class iS{constructor(){this.activeTargetIds=CU()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class j3{constructor(){this.Mo=new iS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new iS,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="ConnectivityMonitor";class rS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(sS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(sS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vf=null;function hy(){return vf===null?vf=function(){return 268435456+Math.round(2147483648*Math.random())}():vf++,"0x"+vf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="RestConnection",z3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class F3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===ed?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const c=hy(),f=this.zo(e,n.toUriEncodedString());fe(mg,`Sending RPC '${e}' ${c}:`,f,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(f),y=Dr(p);return this.Jo(e,f,m,s,y).then(v=>(fe(mg,`Received RPC '${e}' ${c}: `,v),v),v=>{throw Jo(mg,`RPC '${e}' ${c} failed with error: `,v,"url: ",f,"request:",s),v})}Ho(e,n,s,a,l,c){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>e[l]=a),s&&s.headers.forEach((a,l)=>e[l]=a)}zo(e,n){const s=z3[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class H3 extends F3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const c=hy();return new Promise((f,m)=>{const p=new Tx;p.setWithCredentials(!0),p.listenOnce(Ex.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Mf.NO_ERROR:const v=p.getResponseJson();fe(on,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),f(v);break;case Mf.TIMEOUT:fe(on,`RPC '${e}' ${c} timed out`),m(new he(te.DEADLINE_EXCEEDED,"Request time out"));break;case Mf.HTTP_ERROR:const E=p.getStatus();if(fe(on,`RPC '${e}' ${c} failed with status:`,E,"response text:",p.getResponseText()),E>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const C=A==null?void 0:A.error;if(C&&C.status&&C.message){const O=function(U){const G=U.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(G)>=0?G:te.UNKNOWN}(C.status);m(new he(O,C.message))}else m(new he(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new he(te.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{fe(on,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(a);fe(on,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",y,s,15)})}T_(e,n,s){const a=hy(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Sx(),f=wx(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=l.join("");fe(on,`Creating RPC '${e}' stream ${a}: ${y}`,m);const v=c.createWebChannel(y,m);this.I_(v);let E=!1,A=!1;const C=new q3({Yo:D=>{A?fe(on,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(E||(fe(on,`Opening RPC '${e}' stream ${a} transport.`),v.open(),E=!0),fe(on,`RPC '${e}' stream ${a} sending:`,D),v.send(D))},Zo:()=>v.close()}),O=(D,U,G)=>{D.listen(U,q=>{try{G(q)}catch(se){setTimeout(()=>{throw se},0)}})};return O(v,Vu.EventType.OPEN,()=>{A||(fe(on,`RPC '${e}' stream ${a} transport opened.`),C.o_())}),O(v,Vu.EventType.CLOSE,()=>{A||(A=!0,fe(on,`RPC '${e}' stream ${a} transport closed`),C.a_(),this.E_(v))}),O(v,Vu.EventType.ERROR,D=>{A||(A=!0,Jo(on,`RPC '${e}' stream ${a} transport errored. Name:`,D.name,"Message:",D.message),C.a_(new he(te.UNAVAILABLE,"The operation could not be completed")))}),O(v,Vu.EventType.MESSAGE,D=>{var U;if(!A){const G=D.data[0];He(!!G,16349);const q=G,se=(q==null?void 0:q.error)||((U=q[0])==null?void 0:U.error);if(se){fe(on,`RPC '${e}' stream ${a} received error:`,se);const J=se.status;let le=function(I){const V=It[I];if(V!==void 0)return rR(V)}(J),P=se.message;le===void 0&&(le=te.INTERNAL,P="Unknown error status: "+J+" with message "+se.message),A=!0,C.a_(new he(le,P)),v.close()}else fe(on,`RPC '${e}' stream ${a} received:`,G),C.u_(G)}}),O(f,bx.STAT_EVENT,D=>{D.stat===Zg.PROXY?fe(on,`RPC '${e}' stream ${a} detected buffering proxy`):D.stat===Zg.NOPROXY&&fe(on,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{C.__()},0),C}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function pg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(t){return new YU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&fe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="PersistentStream";class TR{constructor(e,n,s,a,l,c,f,m){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Ns(n.toString()),Ns("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.D_===n&&this.G_(s,a)},s=>{e(()=>{const a=new he(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(a=>{s(()=>this.z_(a))}),this.stream.onMessage(a=>{s(()=>++this.F_==1?this.J_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return fe(aS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(fe(aS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class G3 extends TR{constructor(e,n,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=WU(this.serializer,e),s=function(l){if(!("targetChange"in l))return Ae.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ae.min():c.readTime?Fi(c.readTime):Ae.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=uy(this.serializer),n.addTarget=function(l,c){let f;const m=c.target;if(f=iy(m)?{documents:e3(l,m)}:{query:t3(l,m).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=lR(l,c.resumeToken);const p=ay(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ae.min())>0){f.readTime=rd(l,c.snapshotVersion.toTimestamp());const p=ay(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f}(this.serializer,e);const s=i3(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=uy(this.serializer),n.removeTarget=e,this.q_(n)}}class K3 extends TR{constructor(e,n,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=JU(e.writeResults,e.commitTime),s=Fi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=uy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>ZU(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{}class Y3 extends $3{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Go(e,oy(n,s),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(te.UNKNOWN,l.toString())})}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Ho(e,oy(n,s),a,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(te.UNKNOWN,c.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class X3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ns(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa="RemoteStore";class Q3{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo(c=>{s.enqueueAndForget(async()=>{Ba(this)&&(fe(Pa,"Restarting streams for network reachability change."),await async function(m){const p=xe(m);p.Ea.add(4),await Mc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Md(p)}(this))})}),this.Ra=new X3(s,a)}}async function Md(t){if(Ba(t))for(const e of t.da)await e(!0)}async function Mc(t){for(const e of t.da)await e(!1)}function ER(t,e){const n=xe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),L_(n)?k_(n):pl(n).O_()&&V_(n,e))}function O_(t,e){const n=xe(t),s=pl(n);n.Ia.delete(e),s.O_()&&bR(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ba(n)&&n.Ra.set("Unknown"))}function V_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pl(t).Y_(e)}function bR(t,e){t.Va.Ue(e),pl(t).Z_(e)}function k_(t){t.Va=new HU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),pl(t).start(),t.Ra.ua()}function L_(t){return Ba(t)&&!pl(t).x_()&&t.Ia.size>0}function Ba(t){return xe(t).Ea.size===0}function wR(t){t.Va=void 0}async function W3(t){t.Ra.set("Online")}async function Z3(t){t.Ia.forEach((e,n)=>{V_(t,e)})}async function J3(t,e){wR(t),L_(t)?(t.Ra.ha(e),k_(t)):t.Ra.set("Unknown")}async function ej(t,e,n){if(t.Ra.set("Online"),e instanceof oR&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.Va.removeTarget(f))}(t,e)}catch(s){fe(Pa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await od(t,s)}else if(e instanceof Lf?t.Va.Ze(e):e instanceof aR?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ae.min()))try{const s=await _R(t.localStore);n.compareTo(s)>=0&&await function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,c))}}),f.targetMismatches.forEach((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(nn.EMPTY_BYTE_STRING,y.snapshotVersion)),bR(l,m);const v=new pr(y.target,m,p,y.sequenceNumber);V_(l,v)}),l.remoteSyncer.applyRemoteEvent(f)}(t,n)}catch(s){fe(Pa,"Failed to raise snapshot:",s),await od(t,s)}}async function od(t,e,n){if(!ml(e))throw e;t.Ea.add(1),await Mc(t),t.Ra.set("Offline"),n||(n=()=>_R(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe(Pa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Md(t)})}function SR(t,e){return e().catch(n=>od(t,n,e))}async function Od(t){const e=xe(t),n=Cr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:T_;for(;tj(e);)try{const a=await k3(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,nj(e,a)}catch(a){await od(e,a)}AR(e)&&xR(e)}function tj(t){return Ba(t)&&t.Ta.length<10}function nj(t,e){t.Ta.push(e);const n=Cr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function AR(t){return Ba(t)&&!Cr(t).x_()&&t.Ta.length>0}function xR(t){Cr(t).start()}async function ij(t){Cr(t).ra()}async function sj(t){const e=Cr(t);for(const n of t.Ta)e.ea(n.mutations)}async function rj(t,e,n){const s=t.Ta.shift(),a=R_.from(s,e,n);await SR(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await Od(t)}async function aj(t,e){e&&Cr(t).X_&&await async function(s,a){if(function(c){return zU(c)&&c!==te.ABORTED}(a.code)){const l=s.Ta.shift();Cr(s).B_(),await SR(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Od(s)}}(t,e),AR(t)&&xR(t)}async function oS(t,e){const n=xe(t);n.asyncQueue.verifyOperationInProgress(),fe(Pa,"RemoteStore received new credentials");const s=Ba(n);n.Ea.add(3),await Mc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Md(n)}async function oj(t,e){const n=xe(t);e?(n.Ea.delete(2),await Md(n)):e||(n.Ea.add(2),await Mc(n),n.Ra.set("Unknown"))}function pl(t){return t.ma||(t.ma=function(n,s,a){const l=xe(n);return l.sa(),new G3(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{Xo:W3.bind(null,t),t_:Z3.bind(null,t),r_:J3.bind(null,t),H_:ej.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),L_(t)?k_(t):t.Ra.set("Unknown")):(await t.ma.stop(),wR(t))})),t.ma}function Cr(t){return t.fa||(t.fa=function(n,s,a){const l=xe(n);return l.sa(),new K3(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:ij.bind(null,t),r_:aj.bind(null,t),ta:sj.bind(null,t),na:rj.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Od(t)):(await t.fa.stop(),t.Ta.length>0&&(fe(Pa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const c=Date.now()+s,f=new U_(e,n,c,a,l);return f.start(s),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function j_(t,e){if(Ns("AsyncQueue",`${e}: ${t}`),ml(t))return new he(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{static emptySet(e){return new Xo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=ku(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Xo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(){this.ga=new dt(ge.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class sl{constructor(e,n,s,a,l,c,f,m,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const c=[];return n.forEach(f=>{c.push({type:0,doc:f})}),new sl(e,n,Xo.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class uj{constructor(){this.queries=uS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=xe(n),l=a.queries;a.queries=uS(),l.forEach((c,f)=>{for(const m of f.Sa)m.onError(s)})})(this,new he(te.ABORTED,"Firestore shutting down"))}}function uS(){return new Ua(t=>Kx(t),Rd)}async function RR(t,e){const n=xe(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new lj,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=j_(c,`Initialization of query '${ko(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&B_(n)}async function CR(t,e){const n=xe(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function cj(t,e){const n=xe(t);let s=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.Sa)f.Fa(a)&&(s=!0);c.wa=a}}s&&B_(n)}function hj(t,e,n){const s=xe(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function B_(t){t.Ca.forEach(e=>{e.next()})}var fy,cS;(cS=fy||(fy={})).Ma="default",cS.Cache="cache";class IR{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new sl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==fy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.key=e}}class DR{constructor(e){this.key=e}}class fj{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=$x(e),this.tu=new Xo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new lS,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,v)=>{const E=a.get(y),A=Cd(this.query,v)?v:null,C=!!E&&this.mutatedKeys.has(E.key),O=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let D=!1;E&&A?E.data.isEqual(A.data)?C!==O&&(s.track({type:3,doc:A}),D=!0):this.su(E,A)||(s.track({type:2,doc:A}),D=!0,(m&&this.eu(A,m)>0||p&&this.eu(A,p)<0)&&(f=!0)):!E&&A?(s.track({type:0,doc:A}),D=!0):E&&!A&&(s.track({type:1,doc:E}),D=!0,(m||p)&&(f=!0)),D&&(A?(c=c.add(A),l=O?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Cs:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort((y,v)=>function(A,C){const O=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:D})}};return O(A)-O(C)}(y.type,v.type)||this.eu(y.doc,v.doc)),this.ou(s),a=a??!1;const f=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,c.length!==0||p?{snapshot:new sl(this.query,e.tu,l,c,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new DR(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new NR(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return sl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const z_="SyncEngine";class dj{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class mj{constructor(e){this.key=e,this.hu=!1}}class pj{constructor(e,n,s,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ua(f=>Kx(f),Rd),this.Iu=new Map,this.Eu=new Set,this.du=new dt(ge.comparator),this.Au=new Map,this.Ru=new N_,this.Vu={},this.mu=new Map,this.fu=il.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gj(t,e,n=!0){const s=LR(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await PR(s,e,n,!0),a}async function yj(t,e){const n=LR(t);await PR(n,e,!0,!1)}async function PR(t,e,n,s){const a=await L3(t.localStore,Bi(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let f;return s&&(f=await _j(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&ER(t.remoteStore,a),f}async function _j(t,e,n,s,a){t.pu=(v,E,A)=>async function(O,D,U,G){let q=D.view.ru(U);q.Cs&&(q=await nS(O.localStore,D.query,!1).then(({documents:P})=>D.view.ru(P,q)));const se=G&&G.targetChanges.get(D.targetId),J=G&&G.targetMismatches.get(D.targetId)!=null,le=D.view.applyChanges(q,O.isPrimaryClient,se,J);return fS(O,D.targetId,le.au),le.snapshot}(t,v,E,A);const l=await nS(t.localStore,e,!0),c=new fj(e,l.Qs),f=c.ru(l.documents),m=Pc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=c.applyChanges(f,t.isPrimaryClient,m);fS(t,n,p.au);const y=new dj(e,n,c);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function vj(t,e,n){const s=xe(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter(c=>!Rd(c,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await cy(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&O_(s.remoteStore,a.targetId),dy(s,a.targetId)}).catch(dl)):(dy(s,a.targetId),await cy(s.localStore,a.targetId,!0))}async function Tj(t,e){const n=xe(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),O_(n.remoteStore,s.targetId))}async function Ej(t,e,n){const s=Cj(t);try{const a=await function(c,f){const m=xe(c),p=st.now(),y=f.reduce((A,C)=>A.add(C.key),Ve());let v,E;return m.persistence.runTransaction("Locally write mutations","readwrite",A=>{let C=Ds(),O=Ve();return m.Ns.getEntries(A,y).next(D=>{C=D,C.forEach((U,G)=>{G.isValidDocument()||(O=O.add(U))})}).next(()=>m.localDocuments.getOverlayedDocuments(A,C)).next(D=>{v=D;const U=[];for(const G of f){const q=kU(G,v.get(G.key).overlayedDocument);q!=null&&U.push(new ja(G.key,q,Ux(q.value.mapValue),zi.exists(!0)))}return m.mutationQueue.addMutationBatch(A,p,U,f)}).next(D=>{E=D;const U=D.applyToLocalDocumentSet(v,O);return m.documentOverlayCache.saveOverlays(A,D.batchId,U)})}).then(()=>({batchId:E.batchId,changes:Xx(v)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,f,m){let p=c.Vu[c.currentUser.toKey()];p||(p=new dt(Oe)),p=p.insert(f,m),c.Vu[c.currentUser.toKey()]=p}(s,a.batchId,n),await Oc(s,a.changes),await Od(s.remoteStore)}catch(a){const l=j_(a,"Failed to persist write");n.reject(l)}}async function MR(t,e){const n=xe(t);try{const s=await O3(n.localStore,e);e.targetChanges.forEach((a,l)=>{const c=n.Au.get(l);c&&(He(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?He(c.hu,14607):a.removedDocuments.size>0&&(He(c.hu,42227),c.hu=!1))}),await Oc(n,s,e)}catch(s){await dl(s)}}function hS(t,e,n){const s=xe(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach((l,c)=>{const f=c.view.va(e);f.snapshot&&a.push(f.snapshot)}),function(c,f){const m=xe(c);m.onlineState=f;let p=!1;m.queries.forEach((y,v)=>{for(const E of v.Sa)E.va(f)&&(p=!0)}),p&&B_(m)}(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function bj(t,e,n){const s=xe(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new dt(ge.comparator);c=c.insert(l,un.newNoDocument(l,Ae.min()));const f=Ve().add(l),m=new Dd(Ae.min(),new Map,new dt(Oe),c,f);await MR(s,m),s.du=s.du.remove(l),s.Au.delete(e),F_(s)}else await cy(s.localStore,e,!1).then(()=>dy(s,e,n)).catch(dl)}async function wj(t,e){const n=xe(t),s=e.batch.batchId;try{const a=await M3(n.localStore,e);VR(n,s,null),OR(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Oc(n,a)}catch(a){await dl(a)}}async function Sj(t,e,n){const s=xe(t);try{const a=await function(c,f){const m=xe(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return m.mutationQueue.lookupMutationBatch(p,f).next(v=>(He(v!==null,37113),y=v.keys(),m.mutationQueue.removeMutationBatch(p,v))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,f)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>m.localDocuments.getDocuments(p,y))})}(s.localStore,e);VR(s,e,n),OR(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Oc(s,a)}catch(a){await dl(a)}}function OR(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function VR(t,e,n){const s=xe(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function dy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(s=>{t.Ru.containsKey(s)||kR(t,s)})}function kR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(O_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),F_(t))}function fS(t,e,n){for(const s of n)s instanceof NR?(t.Ru.addReference(s.key,e),Aj(t,s)):s instanceof DR?(fe(z_,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||kR(t,s.key)):Ee(19791,{wu:s})}function Aj(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(fe(z_,"New document in limbo: "+n),t.Eu.add(s),F_(t))}function F_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ge(it.fromString(e)),s=t.fu.next();t.Au.set(s,new mj(n)),t.du=t.du.insert(n,s),ER(t.remoteStore,new pr(Bi(A_(n.path)),s,"TargetPurposeLimboResolution",Sd.ce))}}async function Oc(t,e,n){const s=xe(t),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach((f,m)=>{c.push(s.pu(m,e,n).then(p=>{var y;if((p||n)&&s.isPrimaryClient){const v=p?!p.fromCache:(y=n==null?void 0:n.targetChanges.get(m.targetId))==null?void 0:y.current;s.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(p){a.push(p);const v=P_.As(m.targetId,p);l.push(v)}}))}),await Promise.all(c),s.Pu.H_(a),await async function(m,p){const y=xe(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>ie.forEach(p,E=>ie.forEach(E.Es,A=>y.persistence.referenceDelegate.addReference(v,E.targetId,A)).next(()=>ie.forEach(E.ds,A=>y.persistence.referenceDelegate.removeReference(v,E.targetId,A)))))}catch(v){if(!ml(v))throw v;fe(M_,"Failed to update sequence numbers: "+v)}for(const v of p){const E=v.targetId;if(!v.fromCache){const A=y.Ms.get(E),C=A.snapshotVersion,O=A.withLastLimboFreeSnapshotVersion(C);y.Ms=y.Ms.insert(E,O)}}}(s.localStore,l))}async function xj(t,e){const n=xe(t);if(!n.currentUser.isEqual(e)){fe(z_,"User change. New user:",e.toKey());const s=await yR(n.localStore,e);n.currentUser=e,function(l,c){l.mu.forEach(f=>{f.forEach(m=>{m.reject(new he(te.CANCELLED,c))})}),l.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Oc(n,s.Ls)}}function Rj(t,e){const n=xe(t),s=n.Au.get(e);if(s&&s.hu)return Ve().add(s.key);{let a=Ve();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const f=n.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function LR(t){const e=xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=MR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bj.bind(null,e),e.Pu.H_=cj.bind(null,e.eventManager),e.Pu.yu=hj.bind(null,e.eventManager),e}function Cj(t){const e=xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Sj.bind(null,e),e}class ld{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Pd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return P3(this.persistence,new I3,e.initialUser,this.serializer)}Cu(e){return new gR(D_.mi,this.serializer)}Du(e){return new j3}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ld.provider={build:()=>new ld};class Ij extends ld{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){He(this.persistence.referenceDelegate instanceof ad,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new m3(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new gR(s=>ad.mi(s,n),this.serializer)}}class my{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>hS(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=xj.bind(null,this.syncEngine),await oj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uj}()}createDatastore(e){const n=Pd(e.databaseInfo.databaseId),s=function(l){return new H3(l)}(e.databaseInfo);return function(l,c,f,m){return new Y3(l,c,f,m)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,l,c,f){return new Q3(s,a,l,c,f)}(this.localStore,this.datastore,e.asyncQueue,n=>hS(this.syncEngine,n,0),function(){return rS.v()?new rS:new B3}())}createSyncEngine(e,n){return function(a,l,c,f,m,p,y){const v=new pj(a,l,c,f,m,p);return y&&(v.gu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const l=xe(a);fe(Pa,"RemoteStore shutting down."),l.Ea.add(5),await Mc(l),l.Aa.shutdown(),l.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}my.provider={build:()=>new my};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ns("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir="FirestoreClient";class Nj{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=ln.UNAUTHENTICATED,this.clientId=v_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async c=>{fe(Ir,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(s,c=>(fe(Ir,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=j_(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function gg(t,e){t.asyncQueue.verifyOperationInProgress(),fe(Ir,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async a=>{s.isEqual(a)||(await yR(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function dS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Dj(t);fe(Ir,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>oS(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,a)=>oS(e.remoteStore,a)),t._onlineComponents=e}async function Dj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe(Ir,"Using user provided OfflineComponentProvider");try{await gg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===te.FAILED_PRECONDITION||a.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Jo("Error using user provided cache. Falling back to memory cache: "+n),await gg(t,new ld)}}else fe(Ir,"Using default OfflineComponentProvider"),await gg(t,new Ij(void 0));return t._offlineComponents}async function jR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe(Ir,"Using user provided OnlineComponentProvider"),await dS(t,t._uninitializedComponentsProvider._online)):(fe(Ir,"Using default OnlineComponentProvider"),await dS(t,new my))),t._onlineComponents}function Pj(t){return jR(t).then(e=>e.syncEngine)}async function BR(t){const e=await jR(t),n=e.eventManager;return n.onListen=gj.bind(null,e.syncEngine),n.onUnlisten=vj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Tj.bind(null,e.syncEngine),n}function Mj(t,e,n={}){const s=new ws;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,f,m,p){const y=new UR({next:E=>{y.Nu(),c.enqueueAndForget(()=>CR(l,v));const A=E.docs.has(f);!A&&E.fromCache?p.reject(new he(te.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&E.fromCache&&m&&m.source==="server"?p.reject(new he(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new IR(A_(f.path),y,{includeMetadataChanges:!0,qa:!0});return RR(l,v)}(await BR(t),t.asyncQueue,e,n,s)),s.promise}function Oj(t,e,n={}){const s=new ws;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,f,m,p){const y=new UR({next:E=>{y.Nu(),c.enqueueAndForget(()=>CR(l,v)),E.fromCache&&m.source==="server"?p.reject(new he(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new IR(f,y,{includeMetadataChanges:!0,qa:!0});return RR(l,v)}(await BR(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="firestore.googleapis.com",pS=!0;class gS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FR,this.ssl=pS}else this.host=e.host,this.ssl=e.ssl??pS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<f3)throw new he(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}X6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zR(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vd{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new j6;switch(s.type){case"firstParty":return new q6(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=mS.get(n);s&&(fe("ComponentProvider","Removing Datastore"),mS.delete(n),s.terminate())}(this),Promise.resolve()}}function Vj(t,e,n,s={}){var p;t=wr(t,Vd);const a=Dr(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(r_(`https://${f}`),a_("Firestore",!0)),l.host!==FR&&l.host!==f&&Jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:s};if(!Ra(m,c)&&(t._setSettings(m),s.mockUserToken)){let y,v;if(typeof s.mockUserToken=="string")y=s.mockUserToken,v=ln.MOCK_USER;else{y=M1(s.mockUserToken,(p=t._app)==null?void 0:p.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new he(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new ln(E)}t._authCredentials=new B6(new xx(y,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new gl(this.firestore,e,this._query)}}class Mt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Ic(n,Mt._jsonSchema))return new Mt(e,s||null,new ge(it.fromString(n.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:Pt("string",Mt._jsonSchemaVersion),referencePath:Pt("string")};class vr extends gl{constructor(e,n,s){super(e,n,A_(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new ge(e))}withConverter(e){return new vr(this.firestore,e,this._path)}}function qR(t,e,...n){if(t=Bt(t),Rx("collection","path",e),t instanceof Vd){const s=it.fromString(e,...n);return Iw(s),new vr(t,null,s)}{if(!(t instanceof Mt||t instanceof vr))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(it.fromString(e,...n));return Iw(s),new vr(t.firestore,null,s)}}function q_(t,e,...n){if(t=Bt(t),arguments.length===1&&(e=v_.newId()),Rx("doc","path",e),t instanceof Vd){const s=it.fromString(e,...n);return Cw(s),new Mt(t,null,new ge(s))}{if(!(t instanceof Mt||t instanceof vr))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(it.fromString(e,...n));return Cw(s),new Mt(t.firestore,t instanceof vr?t.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="AsyncQueue";class _S{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vR(this,"async_queue_retry"),this._c=()=>{const s=pg();s&&fe(yS,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=pg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=pg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ws;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ml(e))throw e;fe(yS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Ns("INTERNAL UNHANDLED ERROR: ",vS(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=U_.createAndSchedule(this,e,n,s,l=>this.hc(l));return this.tc.push(a),a}uc(){this.nc&&Ee(47125,{Pc:vS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function vS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Vc extends Vd{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new _S,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _S(e),this._firestoreClient=void 0,await e}}}function kj(t,e){const n=typeof t=="object"?t:u_(),s=typeof t=="string"?t:ed,a=vd(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=N1("firestore");l&&Vj(a,...l)}return a}function H_(t){if(t._terminated)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Lj(t),t._firestoreClient}function Lj(t){var s,a,l;const e=t._freezeSettings(),n=function(f,m,p,y){return new aU(f,m,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,zR(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(t._databaseId,((s=t._app)==null?void 0:s.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Nj(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(f){const m=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(m),_online:m}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zn(nn.fromBase64String(e))}catch(n){throw new he(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zn(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ic(e,Zn._jsonSchema))return Zn.fromBase64String(e.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:Pt("string",Zn._jsonSchemaVersion),bytes:Pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qi._jsonSchemaVersion}}static fromJSON(e){if(Ic(e,qi._jsonSchema))return new qi(e.latitude,e.longitude)}}qi._jsonSchemaVersion="firestore/geoPoint/1.0",qi._jsonSchema={type:Pt("string",qi._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ic(e,Hi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Hi(e.vectorValues);throw new he(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hi._jsonSchemaVersion="firestore/vectorValue/1.0",Hi._jsonSchema={type:Pt("string",Hi._jsonSchemaVersion),vectorValues:Pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj=/^__.*__$/;class jj{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ja(e,this.data,this.fieldMask,n,this.fieldTransforms):new Dc(e,this.data,n,this.fieldTransforms)}}function HR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:t})}}class $_{constructor(e,n,s,a,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new $_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ud(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(HR(this.Ac)&&Uj.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Bj{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Pd(e)}Cc(e,n,s,a=!1){return new $_({Ac:e,methodName:n,Dc:s,path:tn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Y_(t){const e=t._freezeSettings(),n=Pd(t._databaseId);return new Bj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function GR(t,e,n,s,a,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);YR("Data must be an object, but it was:",c,s);const f=KR(s,c);let m,p;if(l.merge)m=new ui(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const E=Fj(e,v,n);if(!c.contains(E))throw new he(te.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);Hj(y,E)||y.push(E)}m=new ui(y),p=c.fieldTransforms.filter(v=>m.covers(v.field))}else m=null,p=c.fieldTransforms;return new jj(new Wn(f),m,p)}class X_ extends K_{_toFieldTransform(e){return new PU(e.path,new dc)}isEqual(e){return e instanceof X_}}function zj(t,e,n,s=!1){return Q_(n,t.Cc(s?4:3,e))}function Q_(t,e){if($R(t=Bt(t)))return YR("Unsupported field value:",e,t),KR(t,e);if(t instanceof K_)return function(s,a){if(!HR(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,a){const l=[];let c=0;for(const f of s){let m=Q_(f,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(t,e)}return function(s,a){if((s=Bt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return IU(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=st.fromDate(s);return{timestampValue:rd(a.serializer,l)}}if(s instanceof st){const l=new st(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:rd(a.serializer,l)}}if(s instanceof qi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Zn)return{bytesValue:lR(a.serializer,s._byteString)};if(s instanceof Mt){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:I_(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Hi)return function(c,f){return{mapValue:{fields:{[kx]:{stringValue:Lx},[td]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw f.Sc("VectorValues must only contain numeric values.");return x_(f.serializer,p)})}}}}}}(s,a);throw a.Sc(`Unsupported field value: ${wd(s)}`)}(t,e)}function KR(t,e){const n={};return Nx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):La(t,(s,a)=>{const l=Q_(a,e.mc(s));l!=null&&(n[s]=l)}),{mapValue:{fields:n}}}function $R(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof qi||t instanceof Zn||t instanceof Mt||t instanceof K_||t instanceof Hi)}function YR(t,e,n){if(!$R(n)||!Cx(n)){const s=wd(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function Fj(t,e,n){if((e=Bt(e))instanceof G_)return e._internalPath;if(typeof e=="string")return XR(t,e);throw ud("Field path arguments must be of type string or ",t,!1,void 0,n)}const qj=new RegExp("[~\\*/\\[\\]]");function XR(t,e,n){if(e.search(qj)>=0)throw ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new G_(...e.split("."))._internalPath}catch{throw ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ud(t,e,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new he(te.INVALID_ARGUMENT,f+t+m)}function Hj(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Gj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(W_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Gj extends QR{data(){return super.data()}}function W_(t,e){return typeof e=="string"?XR(t,e):e instanceof G_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Z_{}class $j extends Z_{}function Yj(t,e,...n){let s=[];e instanceof Z_&&s.push(e),s=s.concat(n),function(l){const c=l.filter(m=>m instanceof J_).length,f=l.filter(m=>m instanceof kd).length;if(c>1||c>0&&f>0)throw new he(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)t=a._apply(t);return t}class kd extends $j{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new kd(e,n,s)}_apply(e){const n=this._parse(e);return WR(e._query,n),new gl(e.firestore,e.converter,sy(e._query,n))}_parse(e){const n=Y_(e.firestore);return function(l,c,f,m,p,y,v){let E;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new he(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){ES(v,y);const C=[];for(const O of v)C.push(TS(m,l,O));E={arrayValue:{values:C}}}else E=TS(m,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||ES(v,y),E=zj(f,c,v,y==="in"||y==="not-in");return Dt.create(p,y,E)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Xj(t,e,n){const s=e,a=W_("where",t);return kd._create(a,s,n)}class J_ extends Z_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new J_(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:fi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,l){let c=a;const f=l.getFlattenedFilters();for(const m of f)WR(c,m),c=sy(c,m)}(e._query,n),new gl(e.firestore,e.converter,sy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function TS(t,e,n){if(typeof(n=Bt(n))=="string"){if(n==="")throw new he(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gx(e)&&n.indexOf("/")!==-1)throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(it.fromString(n));if(!ge.isDocumentKey(s))throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Lw(t,new ge(s))}if(n instanceof Mt)return Lw(t,n._key);throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wd(n)}.`)}function ES(t,e){if(!Array.isArray(t)||t.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function WR(t,e){const n=function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Qj{convertValue(e,n="none"){switch(Rr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return La(e,(a,l)=>{s[a]=this.convertValue(l,n)}),s}convertVectorValue(e){var s,a,l;const n=(l=(a=(s=e.fields)==null?void 0:s[td].arrayValue)==null?void 0:a.values)==null?void 0:l.map(c=>wt(c.doubleValue));return new Hi(n)}convertGeoPoint(e){return new qi(wt(e.latitude),wt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=xd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(cc(e));default:return null}}convertTimestamp(e){const n=Ar(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=it.fromString(e);He(mR(s),9688,{name:e});const a=new hc(s.get(1),s.get(3)),l=new ge(s.popFirst(5));return a.isEqual(n)||Ns(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(t,e,n){let s;return s=t?t.toFirestore(e):e,s}class Uu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Aa extends QR{constructor(e,n,s,a,l,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Uf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(W_("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Aa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Aa._jsonSchema={type:Pt("string",Aa._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class Uf extends Aa{data(e={}){return super.data(e)}}class Qo{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Uu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Uf(this._firestore,this._userDataWriter,s.key,s,new Uu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(f=>{const m=new Uf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Uu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const m=new Uf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Uu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:Wj(f.type),doc:m,oldIndex:p,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Qo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=v_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach(l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Wj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zj(t){t=wr(t,Mt);const e=wr(t.firestore,Vc);return Mj(H_(e),t._key).then(n=>n9(e,t,n))}Qo._jsonSchemaVersion="firestore/querySnapshot/1.0",Qo._jsonSchema={type:Pt("string",Qo._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class JR extends Qj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,n)}}function Jj(t){t=wr(t,gl);const e=wr(t.firestore,Vc),n=H_(e),s=new JR(e);return Kj(t._query),Oj(n,t._query).then(a=>new Qo(e,s,t,a))}function e9(t,e,n){t=wr(t,Mt);const s=wr(t.firestore,Vc),a=ZR(t.converter,e);return eC(s,[GR(Y_(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,zi.none())])}function t9(t,e){const n=wr(t.firestore,Vc),s=q_(t),a=ZR(t.converter,e);return eC(n,[GR(Y_(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,zi.exists(!1))]).then(()=>s)}function eC(t,e){return function(s,a){const l=new ws;return s.asyncQueue.enqueueAndForget(async()=>Ej(await Pj(s),a,l)),l.promise}(H_(t),e)}function n9(t,e,n){const s=n.docs.get(e._key),a=new JR(t);return new Aa(t,a,e._key,s,new Uu(n.hasPendingWrites,n.fromCache),e.converter)}function i9(){return new X_("serverTimestamp")}(function(e,n=!0){(function(a){fl=a})(Va),Ca(new br("firestore",(s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),f=new Vc(new z6(s.getProvider("auth-internal")),new H6(c,s.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new he(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hc(p.options.projectId,y)}(c,a),c);return l={useFetchStreams:n,...l},f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Li(Sw,Aw,e),Li(Sw,Aw,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="firebasestorage.googleapis.com",nC="storageBucket",s9=2*60*1e3,r9=10*60*1e3,a9=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt extends Ki{constructor(e,n,s=0){super(yg(e),`Firebase Storage: ${n} (${yg(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return yg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var rt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(rt||(rt={}));function yg(t){return"storage/"+t}function ev(){const t="An unknown error occurred, please check the error payload for server response.";return new mt(rt.UNKNOWN,t)}function o9(t){return new mt(rt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function l9(t){return new mt(rt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function u9(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new mt(rt.UNAUTHENTICATED,t)}function c9(){return new mt(rt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function h9(t){return new mt(rt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function iC(){return new mt(rt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sC(){return new mt(rt.CANCELED,"User canceled the upload/download.")}function f9(t){return new mt(rt.INVALID_URL,"Invalid URL '"+t+"'.")}function d9(t){return new mt(rt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function m9(){return new mt(rt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+nC+"' property when initializing the app?")}function rC(){return new mt(rt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function p9(){return new mt(rt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function g9(){return new mt(rt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function y9(t){return new mt(rt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function py(t){return new mt(rt.INVALID_ARGUMENT,t)}function aC(){return new mt(rt.APP_DELETED,"The Firebase app was deleted.")}function _9(t){return new mt(rt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Wu(t,e){return new mt(rt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Du(t){throw new mt(rt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Vn.makeFromUrl(e,n)}catch{return new Vn(e,"")}if(s.path==="")return s;throw d9(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(se){se.path.charAt(se.path.length-1)==="/"&&(se.path_=se.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function p(se){se.path_=decodeURIComponent(se.path)}const y="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",A=new RegExp(`^https?://${v}/${y}/b/${a}/o${E}`,"i"),C={bucket:1,path:3},O=n===tC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,D="([^?#]*)",U=new RegExp(`^https?://${O}/${a}/${D}`,"i"),q=[{regex:f,indices:m,postModify:l},{regex:A,indices:C,postModify:p},{regex:U,indices:{bucket:1,path:2},postModify:p}];for(let se=0;se<q.length;se++){const J=q[se],le=J.regex.exec(e);if(le){const P=le[J.indices.bucket];let R=le[J.indices.path];R||(R=""),s=new Vn(P,R),J.postModify(s);break}}if(s==null)throw f9(e);return s}}class v9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T9(t,e,n){let s=1,a=null,l=null,c=!1,f=0;function m(){return f===2}let p=!1;function y(...D){p||(p=!0,e.apply(null,D))}function v(D){a=setTimeout(()=>{a=null,t(A,m())},D)}function E(){l&&clearTimeout(l)}function A(D,...U){if(p){E();return}if(D){E(),y.call(null,D,...U);return}if(m()||c){E(),y.call(null,D,...U);return}s<64&&(s*=2);let q;f===1?(f=2,q=0):q=(s+Math.random())*1e3,v(q)}let C=!1;function O(D){C||(C=!0,E(),!p&&(a!==null?(D||(f=2),clearTimeout(a),v(0)):D||(f=1)))}return v(0),l=setTimeout(()=>{c=!0,O(!0)},n),O}function E9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b9(t){return t!==void 0}function w9(t){return typeof t=="function"}function S9(t){return typeof t=="object"&&!Array.isArray(t)}function Ld(t){return typeof t=="string"||t instanceof String}function bS(t){return tv()&&t instanceof Blob}function tv(){return typeof Blob<"u"}function wS(t,e,n,s){if(s<e)throw py(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw py(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(t,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${t}`}function oC(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var xa;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(xa||(xa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e,n,s,a,l,c,f,m,p,y,v,E=!0,A=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=v,this.retry=E,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,O)=>{this.resolve_=C,this.reject_=O,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new Tf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=f=>{const m=f.loaded,p=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const f=l.getErrorCode()===xa.NO_ERROR,m=l.getStatus();if(!f||lC(m,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===xa.ABORT;s(!1,new Tf(!1,null,y));return}const p=this.successCodes_.indexOf(m)!==-1;s(!0,new Tf(p,l))})},n=(s,a)=>{const l=this.resolve_,c=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());b9(m)?l(m):l()}catch(m){c(m)}else if(f!==null){const m=ev();m.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,m)):c(m)}else if(a.canceled){const m=this.appDelete_?aC():sC();c(m)}else{const m=iC();c(m)}};this.canceled_?n(!1,new Tf(!1,null,!0)):this.backoffId_=T9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&E9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Tf{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function x9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function R9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function C9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function I9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function N9(t,e,n,s,a,l,c=!0,f=!1){const m=oC(t.urlParams),p=t.url+m,y=Object.assign({},t.headers);return C9(y,e),x9(y,n),R9(y,l),I9(y,s),new A9(p,t.method,y,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function P9(...t){const e=D9();if(e!==void 0){const n=new e;for(let s=0;s<t.length;s++)n.append(t[s]);return n.getBlob()}else{if(tv())return new Blob(t);throw new mt(rt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function M9(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O9(t){if(typeof atob>"u")throw y9("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class _g{constructor(e,n){this.data=e,this.contentType=n||null}}function V9(t,e){switch(t){case Mi.RAW:return new _g(uC(e));case Mi.BASE64:case Mi.BASE64URL:return new _g(cC(t,e));case Mi.DATA_URL:return new _g(L9(e),U9(e))}throw ev()}function uC(t){const e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const l=s,c=t.charCodeAt(++n);s=65536|(l&1023)<<10|c&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function k9(t){let e;try{e=decodeURIComponent(t)}catch{throw Wu(Mi.DATA_URL,"Malformed data URL.")}return uC(e)}function cC(t,e){switch(t){case Mi.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw Wu(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Mi.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw Wu(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=O9(e)}catch(a){throw a.message.includes("polyfill")?a:Wu(t,"Invalid character found")}const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}class hC{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Wu(Mi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=j9(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function L9(t){const e=new hC(t);return e.base64?cC(Mi.BASE64,e.rest):k9(e.rest)}function U9(t){return new hC(t).contentType}function j9(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n){let s=0,a="";bS(e)?(this.data_=e,s=e.size,a=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,n){if(bS(this.data_)){const s=this.data_,a=M9(s,e,n);return a===null?null:new mr(a)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new mr(s,!0)}}static getBlob(...e){if(tv()){const n=e.map(s=>s instanceof mr?s.data_:s);return new mr(P9.apply(null,n))}else{const n=e.map(c=>Ld(c)?V9(Mi.RAW,c).data:c.data_);let s=0;n.forEach(c=>{s+=c.byteLength});const a=new Uint8Array(s);let l=0;return n.forEach(c=>{for(let f=0;f<c.length;f++)a[l++]=c[f]}),new mr(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(t){let e;try{e=JSON.parse(t)}catch{return null}return S9(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function z9(t,e){const n=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?n:t+"/"+n}function dC(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F9(t,e){return e}class gn{constructor(e,n,s,a){this.server=e,this.local=n||e,this.writable=!!s,this.xform=a||F9}}let Ef=null;function q9(t){return!Ld(t)||t.length<2?t:dC(t)}function mC(){if(Ef)return Ef;const t=[];t.push(new gn("bucket")),t.push(new gn("generation")),t.push(new gn("metageneration")),t.push(new gn("name","fullPath",!0));function e(l,c){return q9(c)}const n=new gn("name");n.xform=e,t.push(n);function s(l,c){return c!==void 0?Number(c):c}const a=new gn("size");return a.xform=s,t.push(a),t.push(new gn("timeCreated")),t.push(new gn("updated")),t.push(new gn("md5Hash",null,!0)),t.push(new gn("cacheControl",null,!0)),t.push(new gn("contentDisposition",null,!0)),t.push(new gn("contentEncoding",null,!0)),t.push(new gn("contentLanguage",null,!0)),t.push(new gn("contentType",null,!0)),t.push(new gn("metadata","customMetadata",!0)),Ef=t,Ef}function H9(t,e){function n(){const s=t.bucket,a=t.fullPath,l=new Vn(s,a);return e._makeStorageReference(l)}Object.defineProperty(t,"ref",{get:n})}function G9(t,e,n){const s={};s.type="file";const a=n.length;for(let l=0;l<a;l++){const c=n[l];s[c.local]=c.xform(s,e[c.server])}return H9(s,t),s}function pC(t,e,n){const s=fC(e);return s===null?null:G9(t,s,n)}function K9(t,e,n,s){const a=fC(e);if(a===null||!Ld(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(p=>{const y=t.bucket,v=t.fullPath,E="/b/"+c(y)+"/o/"+c(v),A=kc(E,n,s),C=oC({alt:"media",token:p});return A+C})[0]}function gC(t,e){const n={},s=e.length;for(let a=0;a<s;a++){const l=e[a];l.writable&&(n[l.server]=t[l.local])}return JSON.stringify(n)}class yl{constructor(e,n,s,a){this.url=e,this.method=n,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(t){if(!t)throw ev()}function nv(t,e){function n(s,a){const l=pC(t,a,e);return Ss(l!==null),l}return n}function $9(t,e){function n(s,a){const l=pC(t,a,e);return Ss(l!==null),K9(l,a,t.host,t._protocol)}return n}function Lc(t){function e(n,s){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=c9():a=u9():n.getStatus()===402?a=l9(t.bucket):n.getStatus()===403?a=h9(t.path):a=s,a.status=n.getStatus(),a.serverResponse=s.serverResponse,a}return e}function yC(t){const e=Lc(t);function n(s,a){let l=e(s,a);return s.getStatus()===404&&(l=o9(t.path)),l.serverResponse=a.serverResponse,l}return n}function Y9(t,e,n){const s=e.fullServerUrl(),a=kc(s,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,f=new yl(a,l,nv(t,n),c);return f.errorHandler=yC(e),f}function X9(t,e,n){const s=e.fullServerUrl(),a=kc(s,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,f=new yl(a,l,$9(t,n),c);return f.errorHandler=yC(e),f}function Q9(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function _C(t,e,n){const s=Object.assign({},n);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=Q9(null,e)),s}function W9(t,e,n,s,a){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function f(){let q="";for(let se=0;se<2;se++)q=q+Math.random().toString().slice(2);return q}const m=f();c["Content-Type"]="multipart/related; boundary="+m;const p=_C(e,s,a),y=gC(p,n),v="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+m+`\r
Content-Type: `+p.contentType+`\r
\r
`,E=`\r
--`+m+"--",A=mr.getBlob(v,s,E);if(A===null)throw rC();const C={name:p.fullPath},O=kc(l,t.host,t._protocol),D="POST",U=t.maxUploadRetryTime,G=new yl(O,D,nv(t,n),U);return G.urlParams=C,G.headers=c,G.body=A.uploadData(),G.errorHandler=Lc(e),G}class cd{constructor(e,n,s,a){this.current=e,this.total=n,this.finalized=!!s,this.metadata=a||null}}function iv(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Ss(!1)}return Ss(!!n&&(e||["active"]).indexOf(n)!==-1),n}function Z9(t,e,n,s,a){const l=e.bucketOnlyServerUrl(),c=_C(e,s,a),f={name:c.fullPath},m=kc(l,t.host,t._protocol),p="POST",y={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},v=gC(c,n),E=t.maxUploadRetryTime;function A(O){iv(O);let D;try{D=O.getResponseHeader("X-Goog-Upload-URL")}catch{Ss(!1)}return Ss(Ld(D)),D}const C=new yl(m,p,A,E);return C.urlParams=f,C.headers=y,C.body=v,C.errorHandler=Lc(e),C}function J9(t,e,n,s){const a={"X-Goog-Upload-Command":"query"};function l(p){const y=iv(p,["active","final"]);let v=null;try{v=p.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ss(!1)}v||Ss(!1);const E=Number(v);return Ss(!isNaN(E)),new cd(E,s.size(),y==="final")}const c="POST",f=t.maxUploadRetryTime,m=new yl(n,c,l,f);return m.headers=a,m.errorHandler=Lc(e),m}const SS=256*1024;function e5(t,e,n,s,a,l,c,f){const m=new cd(0,0);if(c?(m.current=c.current,m.total=c.total):(m.current=0,m.total=s.size()),s.size()!==m.total)throw p9();const p=m.total-m.current;let y=p;a>0&&(y=Math.min(y,a));const v=m.current,E=v+y;let A="";y===0?A="finalize":p===y?A="upload, finalize":A="upload";const C={"X-Goog-Upload-Command":A,"X-Goog-Upload-Offset":`${m.current}`},O=s.slice(v,E);if(O===null)throw rC();function D(se,J){const le=iv(se,["active","final"]),P=m.current+y,R=s.size();let I;return le==="final"?I=nv(e,l)(se,J):I=null,new cd(P,R,le==="final",I)}const U="POST",G=e.maxUploadRetryTime,q=new yl(n,U,D,G);return q.headers=C,q.body=O.uploadData(),q.progressCallback=f||null,q.errorHandler=Lc(t),q}const wn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function vg(t){switch(t){case"running":case"pausing":case"canceling":return wn.RUNNING;case"paused":return wn.PAUSED;case"success":return wn.SUCCESS;case"canceled":return wn.CANCELED;case"error":return wn.ERROR;default:return wn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(e,n,s){if(w9(e)||n!=null||s!=null)this.next=e,this.error=n??void 0,this.complete=s??void 0;else{const l=e;this.next=l.next,this.error=l.error,this.complete=l.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class n5{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=xa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=xa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,a,l){if(this.sent_)throw Du("cannot .send() more than once");if(Dr(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Du("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Du("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Du("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Du("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class i5 extends n5{initXhr(){this.xhr_.responseType="text"}}function jo(){return new i5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=s,this._mappings=mC(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{if(this._request=void 0,this._chunkMultiplier=1,a._codeEquals(rt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const l=this.isExponentialBackoffExpired();if(lC(a.status,[]))if(l)a=iC();else{this.sleepTime=Math.max(this.sleepTime*2,a9),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=a,this._transition("error")}},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals(rt.CANCELED)?this.completeTransitions_():(this._error=a,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((a,l)=>{this._resolve=a,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,s])=>{switch(this._state){case"running":e(n,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const s=Z9(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(s,jo,e,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,s)=>{const a=J9(this._ref.storage,this._ref._location,e,this._blob),l=this._ref.storage._makeRequest(a,jo,n,s);this._request=l,l.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=SS*this._chunkMultiplier,n=new cd(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((a,l)=>{let c;try{c=e5(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(m){this._error=m,this._transition("error");return}const f=this._ref.storage._makeRequest(c,jo,a,l,!1);this._request=f,f.getPromise().then(m=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(m.current),m.finalized?(this._metadata=m.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){SS*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const s=Y9(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(s,jo,e,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const s=W9(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(s,jo,e,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=sC(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=vg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,s,a){const l=new t5(n||void 0,s||void 0,a||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(vg(this._state)){case wn.SUCCESS:Oo(this._resolve.bind(null,this.snapshot))();break;case wn.CANCELED:case wn.ERROR:const n=this._reject;Oo(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(vg(this._state)){case wn.RUNNING:case wn.PAUSED:e.next&&Oo(e.next.bind(e,this.snapshot))();break;case wn.SUCCESS:e.complete&&Oo(e.complete.bind(e))();break;case wn.CANCELED:case wn.ERROR:e.error&&Oo(e.error.bind(e,this._error))();break;default:e.error&&Oo(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n){this._service=e,n instanceof Vn?this._location=n:this._location=Vn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ma(e,n)}get root(){const e=new Vn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return dC(this._location.path)}get storage(){return this._service}get parent(){const e=B9(this._location.path);if(e===null)return null;const n=new Vn(this._location.bucket,e);return new Ma(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw _9(e)}}function r5(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new s5(t,new mr(e),n)}function a5(t){t._throwIfRoot("getDownloadURL");const e=X9(t.storage,t._location,mC());return t.storage.makeRequestWithTokens(e,jo).then(n=>{if(n===null)throw g9();return n})}function o5(t,e){const n=z9(t._location.path,e),s=new Vn(t._location.bucket,n);return new Ma(t.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(t){return/^[A-Za-z]+:\/\//.test(t)}function u5(t,e){return new Ma(t,e)}function vC(t,e){if(t instanceof sv){const n=t;if(n._bucket==null)throw m9();const s=new Ma(n,n._bucket);return e!=null?vC(s,e):s}else return e!==void 0?o5(t,e):t}function c5(t,e){if(e&&l5(e)){if(t instanceof sv)return u5(t,e);throw py("To use ref(service, url), the first argument must be a Storage instance.")}else return vC(t,e)}function AS(t,e){const n=e==null?void 0:e[nC];return n==null?null:Vn.makeFromBucketSpec(n,t)}function h5(t,e,n,s={}){t.host=`${e}:${n}`;const a=Dr(e);a&&(r_(`https://${t.host}/b`),a_("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:M1(l,t.app.options.projectId))}class sv{constructor(e,n,s,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=tC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=s9,this._maxUploadRetryTime=r9,this._requests=new Set,a!=null?this._bucket=Vn.makeFromBucketSpec(a,this._host):this._bucket=AS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Vn.makeFromBucketSpec(this._url,e):this._bucket=AS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){wS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){wS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(On(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ma(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new v9(aC());{const c=N9(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const xS="@firebase/storage",RS="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="storage";function f5(t,e,n){return t=Bt(t),r5(t,e,n)}function d5(t){return t=Bt(t),a5(t)}function m5(t,e){return t=Bt(t),c5(t,e)}function p5(t=u_(),e){t=Bt(t);const s=vd(t,TC).getImmediate({identifier:e}),a=N1("storage");return a&&g5(s,...a),s}function g5(t,e,n,s={}){h5(t,e,n,s)}function y5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new sv(n,s,a,e,Va)}function _5(){Ca(new br(TC,y5,"PUBLIC").setMultipleInstances(!0)),Li(xS,RS,""),Li(xS,RS,"esm2020")}_5();const v5={apiKey:"AIzaSyCx4fXTOxz3BLll9bzbAVBkI0AQLLSqJ3E",authDomain:"books-8d701.firebaseapp.com",projectId:"books-8d701",storageBucket:"books-8d701.appspot.com",messagingSenderId:"735715747489",appId:"1:735715747489:web:455aa2b5613b2eee7e32e0",measurementId:"G-F66P7650RB"},rv=k1(v5),gc=L6(rv),hd=kj(rv),T5=p5(rv),E5=()=>{const[t,e]=k.useState(!1),[n,s]=k.useState(!1),a=Oa(),l=()=>e(!t),c=()=>e(!1),f=async()=>{try{await xL(gc),localStorage.clear(),a("/login")}catch(m){console.error("Logout failed:",m)}};return k.useEffect(()=>{const m=gc.onAuthStateChanged(p=>{s(!!p)});return()=>m()},[]),w.jsxs("header",{className:"bg-white shadow-md sticky top-0 z-50",children:[w.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between h-16",children:[w.jsx(Ye,{to:n?"/dashboard":"/",children:w.jsx(et.h1,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"text-2xl font-extrabold text-blue-600 tracking-wide",children:" BooksArc"})}),w.jsxs("nav",{className:"hidden md:flex space-x-6 items-center",children:[n&&w.jsx(Ye,{to:"/dashboard",className:"text-gray-700 hover:text-blue-600 transition",children:"Dashboard"}),w.jsx(Ye,{to:"/browse",className:"text-gray-700 hover:text-blue-600 transition",children:"Browse"}),w.jsx(Ye,{to:"/how-it-works",className:"text-gray-700 hover:text-blue-600 transition",children:"How It Works"}),w.jsx(Ye,{to:"/contact",className:"text-gray-700 hover:text-blue-600 transition",children:"Contact"}),n?w.jsx("button",{onClick:f,className:"ml-4 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-xl transition-all shadow-md",children:"Logout"}):w.jsx(Ye,{to:"/signup",className:"ml-4 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-xl transition-all shadow-md",children:"Get Started"})]}),w.jsx("button",{onClick:l,className:"md:hidden text-gray-700 hover:text-blue-600",children:t?w.jsx(DN,{size:24}):w.jsx(wN,{size:24})})]}),t&&w.jsxs(et.div,{initial:{height:0},animate:{height:"auto"},className:"md:hidden bg-white px-4 pb-4 space-y-2 overflow-hidden border-t border-gray-200",children:[n&&w.jsx(Ye,{to:"/dashboard",onClick:c,className:"block text-gray-700 hover:text-blue-600",children:"Dashboard"}),w.jsx(Ye,{to:"/browse",onClick:c,className:"block text-gray-700 hover:text-blue-600",children:"Browse"}),w.jsx(Ye,{to:"/how-it-works",onClick:c,className:"block text-gray-700 hover:text-blue-600",children:"How It Works"}),w.jsx(Ye,{to:"/contact",onClick:c,className:"block text-gray-700 hover:text-blue-600",children:"Contact"}),n?w.jsx("button",{onClick:()=>{f(),c()},className:"block w-full bg-red-600 hover:bg-red-700 text-white text-center px-4 py-2 rounded-xl transition-all shadow-md",children:"Logout"}):w.jsx(Ye,{to:"/signup",onClick:c,className:"block bg-blue-600 hover:bg-blue-700 text-white text-center px-4 py-2 rounded-xl transition-all shadow-md",children:"Get Started"})]})]})},b5=()=>w.jsxs("div",{children:[w.jsxs("div",{className:"bg-gray-900 text-center text-gray-500 text-sm py-2 px-4",children:[" ",new Date().getFullYear()," Book Club. All rights reserved. | Built with  for book lovers."]})," "]}),w5=()=>{const[t,e]=k.useState(!1);k.useEffect(()=>{const s=()=>{window.scrollY>300?e(!0):e(!1)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return w.jsx(PD,{children:t&&w.jsx(et.button,{onClick:n,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"fixed bottom-6 right-6 bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-full shadow-lg z-50","aria-label":"Back to Top",children:w.jsx(uN,{className:"w-5 h-5"})})})},S5=()=>{const{pathname:t}=Ps();return k.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[t]),null},A5="/assets/hero-ChlgtMXQ.jpg",x5="/assets/new2-DKhwYQjp.jpg",R5=()=>w.jsxs("div",{className:"text-gray-800 w-full overflow-x-hidden",children:[w.jsx("div",{className:"relative min-h-screen bg-center bg-cover flex items-center justify-center text-white",style:{backgroundImage:`linear-gradient(to bottom, rgba(0,0,0,0.6), rgba(0,0,0,0.9)), url(${A5})`},children:w.jsxs(et.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:1},className:"relative z-10 text-center px-4",children:[w.jsx("h1",{className:"text-4xl md:text-6xl font-extrabold mb-4",children:"Your Next Book Awaits"}),w.jsx("p",{className:"text-lg md:text-xl mb-6",children:"Hire or lease books from your comfort zone"}),w.jsx(Ye,{to:"/signup",className:"bg-blue-600 hover:bg-blue-700 px-6 py-3 rounded-xl text-white font-medium shadow-md",children:"Get Started"})]})}),w.jsx("section",{className:"py-16 bg-white px-4 md:px-16",children:w.jsxs(et.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.4},transition:{duration:.6},children:[w.jsx("h2",{className:"text-3xl font-bold text-center mb-6",children:"About Book Club"}),w.jsxs("p",{className:"max-w-4xl mx-auto text-center text-gray-700 text-lg leading-relaxed",children:[w.jsx("strong",{children:"Book Club"})," is a peer-to-peer book lending platform that redefines how people access books. Whether you're looking to borrow a bestseller or rent out your personal collection, our community-driven system connects readers across Kenya.",w.jsx("br",{}),w.jsx("br",{}),"We believe in the power of stories to connect people  and now, you can lease or lend books without the traditional hassle. With easy subscriptions, location-based exchanges, and a growing library, reading has never been this flexible or affordable."]})]})}),w.jsx("section",{className:"py-16 bg-blue-50 px-4 md:px-16",children:w.jsxs(et.div,{initial:{y:40,opacity:0},whileInView:{y:0,opacity:1},viewport:{once:!0,amount:.4},transition:{duration:.6},children:[w.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-6 text-blue-700",children:"How It Works"}),w.jsx("p",{className:"text-center text-gray-600 max-w-3xl mx-auto mb-12 text-lg",children:"A seamless, community-powered system to borrow or lend books securely and effortlessly."}),w.jsx("div",{className:"grid gap-8 sm:grid-cols-2 lg:grid-cols-3 max-w-6xl mx-auto",children:[{icon:w.jsx(OS,{className:"w-8 h-8 text-blue-600"}),title:"Create an Account",description:"Sign up and set up your profile  its free. Whether you're a borrower or lender, everything starts here.",bg:"from-blue-100 to-blue-50"},{icon:w.jsx(ju,{className:"w-8 h-8 text-green-600"}),title:"List or Browse Books",description:"Add books with details, or explore thousands of listings by fellow readers near you.",bg:"from-green-100 to-green-50"},{icon:w.jsx(NS,{className:"w-8 h-8 text-purple-600"}),title:"Subscribe to Access",description:"Activate your subscription to start borrowing and ensure verified, secure transactions.",bg:"from-purple-100 to-purple-50"},{icon:w.jsx(PS,{className:"w-8 h-8 text-yellow-600"}),title:"Request or Approve Lending",description:"Borrowers request books. Lenders approve or decline. Communication is built-in and fast.",bg:"from-yellow-100 to-yellow-50"},{icon:w.jsx(DS,{className:"w-8 h-8 text-pink-600"}),title:"Exchange & Return",description:"Agree on delivery or pickup. Return on time to keep your trust score high.",bg:"from-pink-100 to-pink-50"},{icon:w.jsx(MS,{className:"w-8 h-8 text-indigo-600"}),title:"Rate & Grow Reputation",description:"After each transaction, rate the experience. This builds credibility and improves future connections.",bg:"from-indigo-100 to-indigo-50"}].map((t,e)=>w.jsxs(et.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:e*.1,duration:.5},className:`bg-gradient-to-br ${t.bg} rounded-3xl shadow-xl p-6 flex flex-col items-start space-y-4 hover:scale-[1.02] transition-transform duration-300`,children:[w.jsx("div",{className:"bg-white p-3 rounded-full shadow-md",children:t.icon}),w.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:t.title}),w.jsx("p",{className:"text-gray-600",children:t.description})]},e))}),w.jsx("div",{className:"mt-16 text-center",children:w.jsx(et.button,{whileHover:{scale:1.05},className:"bg-blue-600 text-white px-8 py-3 text-lg rounded-full shadow-lg hover:bg-blue-700 transition",children:"Join Now & Start Lending"})})]})}),w.jsxs("div",{className:"bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${x5})`},children:[" ",w.jsx("section",{className:"py-20 bg-white/60 px-4 md:px-16",children:w.jsxs(et.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[w.jsx("h2",{className:"text-4xl font-bold text-center text-blue-700 mb-6",children:"Flexible Plans for Every Reader"}),w.jsx("p",{className:"text-center text-gray-600 max-w-2xl mx-auto mb-12 text-lg",children:"Whether you're a casual reader or a bookworm, choose a plan that fits your lifestyle."}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-10 max-w-6xl mx-auto",children:[{title:"Basic",price:"KES 100",features:["1 book/week","Access to common titles","Pickup point only"],color:"from-blue-100 to-white"},{title:"Standard",price:"KES 250",features:["3 books/month","Mid-tier catalog access","Pickup or delivery"],color:"from-green-100 to-white"},{title:"Premium",price:"KES 500",features:["Unlimited books","Full catalog access","Priority delivery"],color:"from-purple-100 to-white"}].map((t,e)=>w.jsxs(et.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:e*.15,duration:.5},viewport:{once:!0},className:`bg-gradient-to-br ${t.color} rounded-3xl p-8 shadow-xl hover:shadow-2xl transition-shadow duration-300`,children:[w.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:t.title}),w.jsx("p",{className:"text-blue-600 text-3xl font-extrabold mb-4",children:t.price}),w.jsx("ul",{className:"space-y-3 text-gray-700 mb-6",children:t.features.map((n,s)=>w.jsxs("li",{className:"flex items-center gap-2",children:[w.jsx("span",{className:"text-green-500",children:""}),n]},s))}),w.jsx(Ye,{to:"/signup",className:"inline-block bg-blue-600 text-white px-6 py-2 rounded-full text-sm font-medium hover:bg-blue-700 transition",children:"Choose Plan"})]},e))})]})}),w.jsx("section",{className:"py-20 bg-gradient-to-br from-blue-50 to-blue-100 px-4 md:px-16",children:w.jsxs(et.div,{initial:{x:-50,opacity:0},whileInView:{x:0,opacity:1},viewport:{once:!0,amount:.4},transition:{duration:.6},children:[w.jsx("h2",{className:"text-4xl font-extrabold text-center text-blue-800 mb-6",children:"Why Book Lovers Trust Us"}),w.jsx("p",{className:"text-center max-w-3xl mx-auto text-gray-600 text-lg mb-12",children:"We're more than just a platform. Were a community of readers who believe that books should be within reach  always. Here's what makes us special:"}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto",children:[{title:"Budget-Friendly Access",desc:"Enjoy a wide selection of books without the heavy price tag. Plans start as low as KES 100.",icon:""},{title:"Diverse Book Catalog",desc:"From fiction to academic gems, discover stories that resonate with every interest and age group.",icon:""},{title:"Fast Delivery & Returns",desc:"Receive books at your doorstep or choose a nearby pickup point  at your convenience.",icon:""},{title:"Eco-Friendly & Sustainable",desc:"We reduce waste by promoting shared reading and responsible recycling of worn-out books.",icon:""},{title:"Reader-Centric Experience",desc:"Rate, review, and follow fellow book lovers. Reading isnt just personal  its social.",icon:""},{title:"No Overdue Pressure",desc:"Life happens  we get it. Flexible return policies and optional extensions help you read stress-free.",icon:""}].map((t,e)=>w.jsxs(et.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:e*.1},className:"bg-white p-6 rounded-2xl shadow-md hover:shadow-xl transition-all duration-300",children:[w.jsx("div",{className:"text-4xl mb-4",children:t.icon}),w.jsx("h4",{className:"text-xl font-semibold text-blue-700 mb-2",children:t.title}),w.jsx("p",{className:"text-gray-600",children:t.desc})]},e))})]})}),w.jsx("section",{className:"py-20 bg-white/60 px-4 md:px-16",children:w.jsxs(et.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.5},transition:{duration:.6},children:[w.jsx("h2",{className:"text-4xl font-extrabold text-center text-blue-800 mb-6",children:"Where You Can Find Us"}),w.jsx("p",{className:"text-center text-gray-600 max-w-2xl mx-auto text-lg mb-10",children:"Were making it easier than ever to access books in your neighborhood. Starting with Kisumu  and expanding fast!"}),w.jsxs("div",{className:"bg-blue-100/80 rounded-2xl p-6 mb-10 shadow-lg max-w-4xl mx-auto",children:[w.jsx("h3",{className:"text-2xl font-bold text-blue-900 text-center mb-4",children:" Kisumu"}),w.jsx("p",{className:"text-center text-gray-700 mb-6",children:"You can conveniently hire or lease books from these areas:"}),w.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 text-center",children:["Milimani","Tom Mboya Estate","MIG Estate","Riat Hills","Mountain View","Mamboleo","Kibos","Ojola","Manyatta","Nyalenda","Obunga","Kanyakwar"].map((t,e)=>w.jsx("div",{className:"bg-white hover:bg-blue-200 cursor-pointer text-blue-800 font-medium py-3 rounded-xl shadow transition duration-300",children:t},e))})]}),w.jsxs("div",{className:"text-center max-w-2xl mx-auto",children:[w.jsx("p",{className:"text-gray-700 text-lg mb-6",children:" More towns and locations coming soon:"}),w.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:["Nairobi","Mombasa","Homa Bay","Eldoret","Nakuru"].map((t,e)=>w.jsx("div",{className:"bg-blue-50 hover:bg-blue-200 text-blue-700 font-medium py-2 px-4 rounded-full shadow transition duration-300",children:t},e))})]})]})})]}),w.jsx("footer",{className:"bg-gray-900 text-white px-4 md:px-16 pt-16 pb-8",children:w.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-12",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"text-2xl font-bold mb-2",children:" Book Club"}),w.jsx("p",{className:"text-gray-400 mb-4",children:"Powering your reading journey. Discover, borrow, and explore the world of books  one page at a time."}),w.jsxs("div",{className:"flex space-x-4 mt-4",children:[w.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition",children:w.jsx("i",{className:"fab fa-facebook-f"})}),w.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition",children:w.jsx("i",{className:"fab fa-twitter"})}),w.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition",children:w.jsx("i",{className:"fab fa-instagram"})})]})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),w.jsxs("ul",{className:"space-y-2 text-gray-400",children:[w.jsx("li",{children:w.jsx(Ye,{to:"/",className:"hover:text-white",children:"Home"})}),w.jsx("li",{children:w.jsx(Ye,{to:"/catalog",className:"hover:text-white",children:"Browse Books"})}),w.jsx("li",{children:w.jsx(Ye,{to:"/about",className:"hover:text-white",children:"About Us"})}),w.jsx("li",{children:w.jsx(Ye,{to:"/contact",className:"hover:text-white",children:"Contact"})}),w.jsx("li",{children:w.jsx(Ye,{to:"/faqs",className:"hover:text-white",children:"FAQs"})})]})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Services"}),w.jsxs("ul",{className:"space-y-2 text-gray-400",children:[w.jsx("li",{children:w.jsx(Ye,{to:"/plans",className:"hover:text-white",children:"Membership Plans"})}),w.jsx("li",{children:w.jsx(Ye,{to:"/locations",className:"hover:text-white",children:"Service Areas"})}),w.jsx("li",{children:w.jsx(Ye,{to:"/recommend",className:"hover:text-white",children:"Suggest a Book"})}),w.jsx("li",{children:w.jsx(Ye,{to:"/blogs",className:"hover:text-white",children:"Blog"})})]})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Join Our Newsletter"}),w.jsx("p",{className:"text-gray-400 mb-4 text-sm",children:"Be the first to know about new arrivals, reading tips, and exclusive offers."}),w.jsxs("form",{className:"flex flex-col sm:flex-row items-center",children:[w.jsx("input",{type:"email",placeholder:"Your email address",className:"w-full sm:w-auto flex-1 px-4 py-2 rounded-l-md text-gray-100"}),w.jsx("button",{type:"submit",className:"mt-3 sm:mt-0 sm:ml-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md",children:"Subscribe"})]})]})]})})]}),EC="/assets/login-DhFOqcvs.jpg",C5=()=>{const[t,e]=k.useState(""),[n,s]=k.useState(""),[a,l]=k.useState(!1),[c,f]=k.useState(""),m=Oa(),p=async y=>{y.preventDefault(),l(!0),f("");try{await bL(gc,t,n),m("/dashboard")}catch(v){f("Invalid email or password. Please try again."),console.error(v)}finally{l(!1)}};return w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-center bg-cover p-4",style:{backgroundImage:`linear-gradient(to bottom right, rgba(255, 255, 255, 0.8), rgba(240, 240, 255, 0.9)), url(${EC})`},children:w.jsxs(et.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-white bg-opacity-90 shadow-2xl backdrop-blur-lg rounded-2xl p-8 w-full max-w-md",children:[w.jsx("h2",{className:"text-2xl font-bold text-blue-600 text-center mb-6",children:"Welcome Back"}),c&&w.jsx("p",{className:"text-red-500 text-sm text-center mb-3",children:c}),w.jsxs("form",{className:"space-y-4",onSubmit:p,children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Email"}),w.jsx("input",{type:"email",value:t,onChange:y=>e(y.target.value),className:"w-full mt-1 px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition",placeholder:"you@example.com",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Password"}),w.jsx("input",{type:"password",value:n,onChange:y=>s(y.target.value),className:"w-full mt-1 px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition",placeholder:"",required:!0})]}),w.jsx("div",{className:"text-right text-sm",children:w.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"Forgot password?"})}),w.jsx(et.button,{whileTap:{scale:.95},whileHover:{scale:1.02},type:"submit",disabled:a,className:"w-full bg-blue-600 text-white py-2 rounded-xl mt-4 hover:bg-blue-700 transition shadow-md",children:a?"Logging in...":"Login"})]}),w.jsxs("p",{className:"text-sm text-center text-gray-500 mt-6",children:["Dont have an account?"," ",w.jsx(Ye,{to:"/signup",className:"text-blue-600 hover:underline",children:"Get Started"})]})]})})},I5=()=>{const[t,e]=k.useState({username:"",firstName:"",lastName:"",idNumber:"",location:"",email:"",password:""}),[n,s]=k.useState(!1),[a,l]=k.useState(""),c=Oa(),f=p=>{e({...t,[p.target.name]:p.target.value})},m=async p=>{p.preventDefault(),s(!0),l("");try{const v=(await EL(gc,t.email,t.password)).user,{username:E,firstName:A,lastName:C,idNumber:O,location:D,email:U}=t,G={username:E,firstName:A,lastName:C,idNumber:O,location:D,email:U};await e9(q_(hd,"users",v.uid),G),localStorage.setItem("userDetails",JSON.stringify(G)),alert("Registration successful!"),c("/dashboard"),e({username:"",firstName:"",lastName:"",idNumber:"",location:"",email:"",password:""})}catch(y){console.error(y),l(y.message)}finally{s(!1)}};return w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-center bg-cover p-4",style:{backgroundImage:`linear-gradient(to bottom right, rgba(255, 255, 255, 0.85), rgba(240, 240, 255, 0.9)), url(${EC})`},children:w.jsxs(et.div,{initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-white bg-opacity-90 backdrop-blur-md shadow-2xl rounded-2xl p-8 w-full max-w-3xl",children:[w.jsx("h2",{className:"text-2xl font-bold text-blue-600 text-center mb-6",children:"Create an Account"}),a&&w.jsx("p",{className:"text-red-500 text-sm text-center",children:a}),w.jsxs("form",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",onSubmit:m,children:[["username","firstName","lastName","idNumber","location","email"].map((p,y)=>w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:p==="idNumber"?"ID Number":p.charAt(0).toUpperCase()+p.slice(1)}),w.jsx("input",{type:p==="email"?"email":"text",name:p,value:t[p],onChange:f,placeholder:p==="username"?"e.g. booklover23":p==="location"?"Milimani, Kisumu":"",className:"mt-1 w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition",required:!0})]},y)),w.jsxs("div",{className:"md:col-span-2",children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),w.jsx("input",{type:"password",name:"password",value:t.password,onChange:f,placeholder:"",className:"mt-1 w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition",required:!0})]}),w.jsx(et.button,{whileHover:{scale:1.02},whileTap:{scale:.97},type:"submit",disabled:n,className:"md:col-span-2 w-full bg-blue-600 text-white py-2 rounded-xl mt-4 hover:bg-blue-700 transition shadow-md",children:n?"Signing Up...":"Sign Up"})]}),w.jsxs("p",{className:"text-sm text-center text-gray-500 mt-6",children:["Already have an account?"," ",w.jsx(Ye,{to:"/login",className:"text-blue-600 hover:underline",children:"Login"})]})]})})},N5="/assets/sample-BO4loe80.jpg",D5=["George Oloo","Alice Johnson","Tom Kariuki","Nancy Okoth","Brian Holt","Linda Jones","Peter Mungai","Paul Kangethe","Kevin Limo","Carol Njeri","Henry Kirui","Lois Wanjiku","Sharon Mwangi","Samuel Kip","Jane Smith"],P5=["Nairobi","Kisumu","Eldoret","Homa Bay","Mombasa","Thika","Kericho","Nyeri","Kakamega"],M5=["Self Help","Fiction","History","Finance","Productivity","Biography","Business","Spirituality","Memoir","Science Fiction","Startup","Science","Technology","Fantasy","Psychology","Motivation","Sociology","Creativity","Entrepreneurship","Philosophy"],bf=t=>t[Math.floor(Math.random()*t.length)],O5=()=>Math.random()<.7,V5=t=>t.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),k5=["Atomic Habits","The Alchemist","Sapiens","Rich Dad Poor Dad","Deep Work","1984","Becoming","Start With Why","Think and Grow Rich","The Power of Now","Educated","Dune","Zero to One","The Lean Startup","A Brief History of Time","Clean Code","The Hobbit","Man's Search for Meaning","Grit","Can't Hurt Me","The Four Agreements","Outliers","Flow","The Subtle Art of Not Giving a F*ck","Tools of Titans","The 7 Habits of Highly Effective People","The War of Art","How to Win Friends & Influence People","Crushing It!","Steve Jobs","The Innovators","Born a Crime","The Martian","Quiet","The Road","The Art of Thinking Clearly","Mindset","Drive","Thinking, Fast and Slow","12 Rules for Life","Meditations","The Art of War","The Obstacle Is the Way","Ego Is the Enemy","Rework","The Millionaire Fastlane","Linchpin","Purple Cow","This Is Marketing","The Design of Everyday Things"],av=k5.map((t,e)=>({id:e+1,title:t,slug:V5(t),author:bf(["James Clear","Paulo Coelho","Yuval Noah Harari","Robert Kiyosaki","Cal Newport","George Orwell","Michelle Obama","Simon Sinek","Napoleon Hill","Eckhart Tolle","Tara Westover","Frank Herbert","Peter Thiel","Eric Ries","Stephen Hawking","Robert C. Martin","J.R.R. Tolkien","Viktor E. Frankl","Angela Duckworth","David Goggins","Don Miguel Ruiz","Malcolm Gladwell","Mihaly Csikszentmihalyi","Mark Manson","Tim Ferriss","Stephen Covey","Steven Pressfield","Dale Carnegie","Gary Vaynerchuk","Walter Isaacson","Andy Weir","Susan Cain","Cormac McCarthy","Rolf Dobelli","Carol Dweck","Daniel Pink","Daniel Kahneman","Jordan Peterson","Marcus Aurelius","Sun Tzu","Ryan Holiday","Jason Fried","MJ DeMarco","Seth Godin","Don Norman"]),category:bf(M5),image:N5,availability:O5(),from:bf(D5),location:bf(P5)})),L5=["All",...Array.from(new Set(av.map(t=>t.category)))],U5=()=>{const[t,e]=k.useState(""),[n,s]=k.useState("All"),[a,l]=k.useState(1),c=8,f=av.filter(y=>{const v=y.title.toLowerCase().includes(t.toLowerCase()),E=n==="All"||y.category===n;return v&&E}),m=Math.ceil(f.length/c),p=f.slice((a-1)*c,a*c);return w.jsxs("div",{className:"px-4 py-16 bg-gradient-to-br from-gray-50 to-white min-h-screen",children:[w.jsx(et.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-4xl font-bold text-center text-blue-600 mb-6",children:"Browse Books"}),w.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-8",children:[w.jsx("input",{type:"text",value:t,onChange:y=>e(y.target.value),placeholder:"Search by title...",className:"px-4 py-2 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"}),w.jsx("select",{value:n,onChange:y=>{s(y.target.value),l(1)},className:"px-4 py-2 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",children:L5.map(y=>w.jsx("option",{value:y,children:y},y))})]}),w.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8 max-w-7xl mx-auto",children:p.map((y,v)=>w.jsx(et.div,{whileHover:{scale:1.05},initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:v*.05,duration:.4},children:w.jsx(Ye,{to:`/book/${y.slug}`,children:w.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition-shadow duration-300",children:[w.jsx("img",{src:y.image,alt:y.title,className:"w-full h-64 object-cover"}),w.jsxs("div",{className:"p-4",children:[w.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-1",children:y.title}),w.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["by ",y.author]}),w.jsxs("p",{className:"text-xs text-gray-500 mb-1",children:["From: ",y.from]}),w.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Location: ",y.location]}),w.jsxs("div",{className:"flex flex-wrap gap-2",children:[w.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full",children:y.category}),w.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${y.availability?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:y.availability?"Available":"Unavailable"})]})]})]})})},y.id))}),w.jsx("div",{className:"mt-12 flex justify-center gap-2",children:[...Array(m)].map((y,v)=>w.jsx("button",{onClick:()=>l(v+1),className:`px-4 py-2 rounded-xl text-sm ${a===v+1?"bg-blue-600 text-white":"bg-gray-100 text-gray-800"}`,children:v+1},v))})]})},j5=()=>{const{slug:t}=KO(),e=Oa(),n=av.find(s=>s.title.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")===t);return n?w.jsxs("div",{className:"px-4 py-16 bg-gradient-to-br from-white to-blue-50 min-h-screen",children:[w.jsxs("div",{className:"max-w-4xl mx-auto mb-4",children:[w.jsxs("p",{className:"text-sm text-gray-600",children:[w.jsx("span",{className:"text-blue-600",children:"Browse"})," /"," ",w.jsx("span",{className:"text-blue-600",children:"Books"})," /"," ",w.jsx("span",{className:"font-medium text-gray-800",children:n.title})]}),w.jsx("div",{className:"border-b border-gray-300 mt-2 mb-4"}),w.jsx("button",{onClick:()=>e(-1),className:"mb-6 inline-flex items-center text-sm text-blue-600 hover:underline",children:" Back"})]}),w.jsxs(et.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-4xl mx-auto bg-white rounded-xl shadow-lg p-6 flex flex-col md:flex-row gap-8",children:[w.jsx("img",{src:n.image,alt:n.title,className:"w-full md:w-1/3 h-80 object-cover rounded-xl"}),w.jsxs("div",{className:"flex-1",children:[w.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:n.title}),w.jsxs("p",{className:"text-lg text-gray-600 mb-2",children:["By ",n.author]}),w.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Shared by: ",n.from]}),w.jsxs("p",{className:"text-sm bg-blue-100 text-blue-700 inline-block px-3 py-1 rounded-full mb-2",children:["Category: ",n.category]}),w.jsx("p",{className:`text-sm inline-block px-3 py-1 rounded-full mb-6 ml-2 ${n.availability?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:n.availability?"Available for Hire":"Currently Unavailable"}),w.jsx("button",{disabled:!n.availability,className:`px-6 py-2 rounded-xl text-white font-semibold transition-all duration-300 ${n.availability?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed"}`,children:n.availability?"Hire this Book":"Unavailable"})]})]})]}):w.jsx("div",{className:"px-4 py-16 min-h-screen text-center",children:w.jsx("h2",{className:"text-2xl font-semibold text-red-600",children:"Book not found."})})},B5=[{icon:w.jsx(OS,{className:"w-8 h-8 text-blue-600"}),title:"Create an Account",description:"Sign up for free and become part of a growing community of book lovers. Your profile lets you lend or borrow books in just a few clicks.",bg:"from-blue-100 to-blue-50"},{icon:w.jsx(ju,{className:"w-8 h-8 text-green-600"}),title:"List or Browse Books",description:"Add your books with details and images  or explore the library of available books from other users based on category and location.",bg:"from-green-100 to-green-50"},{icon:w.jsx(NS,{className:"w-8 h-8 text-purple-600"}),title:"Subscribe to Access",description:"Choose a simple subscription to unlock the power of borrowing and lending. This helps keep transactions secure and reliable.",bg:"from-purple-100 to-purple-50"},{icon:w.jsx(PS,{className:"w-8 h-8 text-yellow-600"}),title:"Request or Approve Lending",description:"Found a book? Request it. Got a request? Approve it. The process is seamless  messages are sent directly between borrowers and lenders.",bg:"from-yellow-100 to-yellow-50"},{icon:w.jsx(DS,{className:"w-8 h-8 text-pink-600"}),title:"Exchange & Return",description:"Agree on pickup or delivery. Return the book on time to build trust and unlock more lending opportunities with others.",bg:"from-pink-100 to-pink-50"},{icon:w.jsx(MS,{className:"w-8 h-8 text-indigo-600"}),title:"Rate & Grow Your Reputation",description:"Leave feedback and rate your experience. The better your reputation, the more trust you earn within the community.",bg:"from-indigo-100 to-indigo-50"}],z5=()=>w.jsxs("div",{className:"px-6 py-16 bg-gradient-to-b from-white to-gray-50 min-h-screen",children:[w.jsx(et.h1,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-5xl font-extrabold text-center text-blue-700 mb-4",children:"How It Works"}),w.jsx("p",{className:"text-center text-gray-600 max-w-xl mx-auto text-lg mb-12",children:"Discover how our peer-to-peer book sharing system empowers readers and connects communities through trust, transparency, and knowledge."}),w.jsx("div",{className:"grid gap-10 sm:grid-cols-2 lg:grid-cols-3 max-w-6xl mx-auto",children:B5.map((t,e)=>w.jsxs(et.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:e*.1,duration:.5},viewport:{once:!0},className:`bg-gradient-to-br ${t.bg} rounded-3xl shadow-xl p-6 flex flex-col items-start space-y-4 hover:scale-[1.02] transition-transform duration-300`,children:[w.jsx("div",{className:"bg-white p-3 rounded-full shadow-md",children:t.icon}),w.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:t.title}),w.jsx("p",{className:"text-gray-600",children:t.description})]},e))}),w.jsx("div",{className:"mt-20 text-center",children:w.jsx(Ye,{to:"/signup",className:"inline-block mb-4",children:w.jsx(et.button,{whileHover:{scale:1.05},className:"bg-blue-600 text-white px-8 py-3 text-lg rounded-full shadow-lg hover:bg-blue-700 transition",children:"Join Now & Start Lending"})})})]}),F5=()=>w.jsxs("div",{className:"px-6 py-16 bg-gradient-to-b from-white to-gray-50 min-h-screen",children:[w.jsx(et.h1,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-5xl font-extrabold text-center text-blue-700 mb-4",children:"Contact Us"}),w.jsx("p",{className:"text-center text-gray-600 max-w-xl mx-auto text-lg mb-12",children:"Have questions, feedback, or need help? Reach out and well get back to you as soon as possible."}),w.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-12",children:[w.jsxs(et.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.5},className:"bg-gradient-to-br from-blue-100 to-blue-50 rounded-3xl shadow-xl p-8 space-y-6",children:[w.jsxs("div",{className:"flex items-center space-x-4",children:[w.jsx("div",{className:"bg-white p-3 rounded-full shadow-md",children:w.jsx(vN,{className:"text-blue-600 w-6 h-6"})}),w.jsxs("div",{children:[w.jsx("h4",{className:"font-semibold text-gray-800",children:"Email"}),w.jsx("p",{className:"text-gray-600",children:"support@booksarc.co.ke"})]})]}),w.jsxs("div",{className:"flex items-center space-x-4",children:[w.jsx("div",{className:"bg-white p-3 rounded-full shadow-md",children:w.jsx(AN,{className:"text-green-600 w-6 h-6"})}),w.jsxs("div",{children:[w.jsx("h4",{className:"font-semibold text-gray-800",children:"Phone"}),w.jsx("p",{className:"text-gray-600",children:"+254 712 345 678"})]})]}),w.jsxs("div",{className:"flex items-start space-x-4",children:[w.jsx("div",{className:"bg-white p-3 rounded-full shadow-md",children:w.jsx(EN,{className:"text-purple-600 w-6 h-6"})}),w.jsxs("div",{children:[w.jsx("h4",{className:"font-semibold text-gray-800",children:"Location"}),w.jsxs("p",{className:"text-gray-600",children:["Kisumu, Kenya ",w.jsx("br",{}),"Open: Mon  Sat (9AM  5PM)"]})]})]})]}),w.jsxs(et.form,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.5},className:"bg-gradient-to-br from-gray-100 to-white rounded-3xl shadow-xl p-8 space-y-6",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block font-medium text-gray-700 mb-1",children:"Your Name"}),w.jsx("input",{type:"text",className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none",placeholder:"John Doe",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block font-medium text-gray-700 mb-1",children:"Your Email"}),w.jsx("input",{type:"email",className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none",placeholder:"johndoe@email.com",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block font-medium text-gray-700 mb-1",children:"Your Message"}),w.jsx("textarea",{rows:5,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none",placeholder:"Type your message here...",required:!0})]}),w.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-xl text-lg font-semibold transition",children:"Send Message"})]})]})]}),q5=()=>w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white via-blue-50 to-blue-100 px-6 py-16",children:w.jsxs(et.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6},className:"text-center max-w-xl",children:[w.jsx("h1",{className:"text-7xl font-extrabold text-blue-700 mb-4",children:"404"}),w.jsx("p",{className:"text-2xl font-semibold text-gray-800 mb-2",children:"Oops! Page not found"}),w.jsx("p",{className:"text-gray-600 mb-6",children:"The page youre looking for doesnt exist or has been moved."}),w.jsx(Ye,{to:"/",className:"inline-block px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-full font-medium transition",children:"Go Back Home"})]})}),bC=k.createContext(),H5=({children:t})=>{const[e,n]=k.useState(null),[s,a]=k.useState(!0);return k.useEffect(()=>{const l=AL(gc,c=>{n(c),a(!1)});return()=>l()},[]),w.jsx(bC.Provider,{value:{user:e},children:!s&&t})},Ud=()=>k.useContext(bC),G5=()=>{const{user:t}=Ud(),e=Oa(),[n,s]=k.useState(null),[a,l]=k.useState("Pending Payment"),[c,f]=k.useState([]);return k.useEffect(()=>{(async()=>{const p=localStorage.getItem("userDetails");if(p)s(JSON.parse(p));else if(t){const y=q_(hd,"users",t.uid),v=await Zj(y);v.exists()&&(s(v.data()),localStorage.setItem("userDetails",JSON.stringify(v.data())))}})()},[t]),k.useEffect(()=>{if(!t)return;(async()=>{const p=Yj(qR(hd,"books"),Xj("userId","==",t.uid)),v=(await Jj(p)).docs.map(E=>({id:E.id,...E.data()}));f(v)})()},[t]),w.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:w.jsxs("div",{className:"max-w-5xl mx-auto",children:[w.jsx("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6",children:w.jsxs("h1",{className:"text-3xl font-bold text-blue-600",children:[" Welcome, ",(n==null?void 0:n.firstName)||"User","!"]})}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[w.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-lg font-semibold",children:"Subscription"}),w.jsxs("p",{className:"text-gray-500 text-sm",children:["Status: ",a]})]}),a==="Active"?w.jsx(fN,{className:"text-green-500",size:32}):w.jsx(gN,{className:"text-yellow-500",size:32})]}),w.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-lg font-semibold",children:"Books Listed"}),w.jsxs("p",{className:"text-gray-500 text-sm",children:[c.length," books"]})]}),w.jsx(ju,{className:"text-blue-500",size:32})]}),w.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-lg font-semibold",children:"Books Borrowed"}),w.jsxs("p",{className:"text-gray-500 text-sm",children:[c.filter(m=>m.status==="hired").length," active"]})]}),w.jsx(ju,{className:"text-purple-500",size:32})]})]}),w.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md mb-6",children:[w.jsx("h2",{className:"text-xl font-bold mb-4",children:"Quick Actions"}),w.jsxs("div",{className:"flex gap-4",children:[w.jsxs("button",{className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg shadow transition",onClick:()=>e("/list-book"),children:[w.jsx(mN,{size:18}),"List a Book"]}),w.jsxs("button",{className:"flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg shadow transition",onClick:()=>e("/browse"),children:[w.jsx(ju,{size:18}),"Browse Books"]})]})]}),w.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md mb-6",children:[w.jsx("h2",{className:"text-xl font-bold mb-4",children:"My Books"}),c.length>0?w.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(m=>w.jsxs("div",{className:"border rounded-lg p-4 shadow hover:shadow-md transition",children:[w.jsx("img",{src:m.coverUrl,alt:m.title,className:"w-full h-40 object-cover rounded mb-3"}),w.jsx("h3",{className:"text-lg font-semibold",children:m.title}),w.jsx("p",{className:"text-gray-600 text-sm",children:m.author}),w.jsx("p",{className:"text-sm text-gray-500",children:m.description}),w.jsxs("div",{className:"mt-2 text-sm",children:[w.jsx("span",{className:`px-2 py-1 rounded ${m.status==="available"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:m.status}),m.status==="hired"&&m.dueDate&&w.jsxs("p",{className:"text-xs text-gray-500",children:["Due:"," ",new Date(m.dueDate.seconds*1e3).toLocaleDateString()]})]}),w.jsxs("p",{className:"mt-1 font-semibold text-blue-600",children:["KES ",m.price||0]})]},m.id))}):w.jsx("p",{className:"text-gray-500",children:"You have not listed any books yet."})]}),w.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[w.jsx("h2",{className:"text-xl font-bold mb-4",children:"Your Profile"}),n?w.jsxs("ul",{className:"space-y-2 text-gray-700",children:[w.jsxs("li",{children:[w.jsx("strong",{children:"Username:"})," ",n.username]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Name:"})," ",n.firstName," ",n.lastName]}),w.jsxs("li",{children:[w.jsx("strong",{children:"ID Number:"})," ",n.idNumber]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Location:"})," ",n.location]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Email:"})," ",t==null?void 0:t.email]})]}):w.jsx("p",{className:"text-gray-500",children:"Loading user details..."})]})]})})},K5=()=>{const{user:t}=Ud(),[e,n]=k.useState({title:"",author:"",description:"",price:""}),[s,a]=k.useState(null),[l,c]=k.useState(null),[f,m]=k.useState(0),[p,y]=k.useState(!1),[v,E]=k.useState(""),A=D=>{n({...e,[D.target.name]:D.target.value})},C=D=>{const U=D.target.files[0];a(U),c(U?URL.createObjectURL(U):null)},O=async D=>{if(D.preventDefault(),!s){E("Please select a cover image.");return}try{y(!0),E("");const U=m5(T5,`books/${Date.now()}_${s.name}`),G=f5(U,s);G.on("state_changed",q=>{const se=Math.round(q.bytesTransferred/q.totalBytes*100);m(se)},q=>{console.error(q),E("Upload failed. Please try again."),y(!1)},async()=>{const q=await d5(G.snapshot.ref);await t9(qR(hd,"books"),{...e,price:parseFloat(e.price)||0,coverUrl:q,userId:t.uid,status:"available",dueDate:null,createdAt:i9()}),alert("Book listed successfully!"),n({title:"",author:"",description:"",price:""}),a(null),c(null),m(0),y(!1)})}catch(U){console.error(U),E("Something went wrong. Please try again."),y(!1)}};return w.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded-xl shadow-md mt-8",children:[w.jsx("h2",{className:"text-2xl font-bold text-blue-600 mb-6 text-center",children:"List a Book"}),v&&w.jsx("p",{className:"text-red-500 text-center mb-4",children:v}),w.jsxs("form",{onSubmit:O,className:"space-y-5",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Book Title"}),w.jsx("input",{type:"text",name:"title",value:e.title,onChange:A,className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Author"}),w.jsx("input",{type:"text",name:"author",value:e.author,onChange:A,className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Book Description"}),w.jsx("textarea",{name:"description",value:e.description,onChange:A,rows:"4",className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Price (KES)"}),w.jsx("input",{type:"number",name:"price",value:e.price,onChange:A,className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Cover Image"}),w.jsx("input",{type:"file",onChange:C,className:"w-full",accept:"image/*",required:!0}),l&&w.jsx("img",{src:l,alt:"Preview",className:"w-full h-40 object-cover rounded-lg mt-3 border"})]}),f>0&&w.jsxs("p",{className:"text-sm text-blue-600 font-semibold text-center",children:["Uploading: ",f,"%"]}),w.jsx("button",{type:"submit",disabled:p,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition",children:p?`Uploading... ${f}%`:"List Book"})]})]})},CS=({children:t})=>{const{user:e}=Ud();return e?t:w.jsx(T1,{to:"/login",replace:!0})},Tg=({children:t})=>{const{user:e}=Ud();return e?w.jsx(T1,{to:"/dashboard"}):t};function $5(){return w.jsxs(H5,{children:[w.jsx(E5,{}),w.jsx(w5,{}),w.jsx(S5,{}),w.jsxs(oV,{children:[w.jsx(ai,{path:"/",element:w.jsx(Tg,{children:w.jsx(R5,{})})}),w.jsx(ai,{path:"/login",element:w.jsx(Tg,{children:w.jsx(C5,{})})}),w.jsx(ai,{path:"/signup",element:w.jsx(Tg,{children:w.jsx(I5,{})})}),w.jsx(ai,{path:"/browse",element:w.jsx(U5,{})}),w.jsx(ai,{path:"/book/:slug",element:w.jsx(j5,{})}),w.jsx(ai,{path:"/how-it-works",element:w.jsx(z5,{})}),w.jsx(ai,{path:"/contact",element:w.jsx(F5,{})}),w.jsx(ai,{path:"/dashboard",element:w.jsx(CS,{children:w.jsx(G5,{})})}),w.jsx(ai,{path:"/list-book",element:w.jsx(CS,{children:w.jsx(K5,{})})}),w.jsx(ai,{path:"*",element:w.jsx(q5,{})})]}),w.jsx(b5,{})]})}nN.createRoot(document.getElementById("root")).render(w.jsx(k.StrictMode,{children:w.jsx(DV,{children:w.jsx($5,{})})}));
